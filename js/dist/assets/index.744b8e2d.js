const yg=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerpolicy&&(a.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?a.credentials="include":i.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}};yg();function lc(e,t){const r=Object.create(null),n=e.split(",");for(let i=0;i<n.length;i++)r[n[i]]=!0;return t?i=>!!r[i.toLowerCase()]:i=>!!r[i]}const bg="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",wg=lc(bg);function ap(e){return!!e||e===""}function cc(e){if($e(e)){const t={};for(let r=0;r<e.length;r++){const n=e[r],i=Rt(n)?Mg(n):cc(n);if(i)for(const a in i)t[a]=i[a]}return t}else{if(Rt(e))return e;if(dt(e))return e}}const _g=/;(?![^(]*\))/g,xg=/:(.+)/;function Mg(e){const t={};return e.split(_g).forEach(r=>{if(r){const n=r.split(xg);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function tt(e){let t="";if(Rt(e))t=e;else if($e(e))for(let r=0;r<e.length;r++){const n=tt(e[r]);n&&(t+=n+" ")}else if(dt(e))for(const r in e)e[r]&&(t+=r+" ");return t.trim()}const He=e=>Rt(e)?e:e==null?"":$e(e)||dt(e)&&(e.toString===lp||!Ke(e.toString))?JSON.stringify(e,op,2):String(e),op=(e,t)=>t&&t.__v_isRef?op(e,t.value):Ai(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((r,[n,i])=>(r[`${n} =>`]=i,r),{})}:sp(t)?{[`Set(${t.size})`]:[...t.values()]}:dt(t)&&!$e(t)&&!cp(t)?String(t):t,at={},Ei=[],Pr=()=>{},Sg=()=>!1,Eg=/^on[^a-z]/,Es=e=>Eg.test(e),fc=e=>e.startsWith("onUpdate:"),kt=Object.assign,dc=(e,t)=>{const r=e.indexOf(t);r>-1&&e.splice(r,1)},Ag=Object.prototype.hasOwnProperty,Je=(e,t)=>Ag.call(e,t),$e=Array.isArray,Ai=e=>As(e)==="[object Map]",sp=e=>As(e)==="[object Set]",Ke=e=>typeof e=="function",Rt=e=>typeof e=="string",hc=e=>typeof e=="symbol",dt=e=>e!==null&&typeof e=="object",up=e=>dt(e)&&Ke(e.then)&&Ke(e.catch),lp=Object.prototype.toString,As=e=>lp.call(e),Ng=e=>As(e).slice(8,-1),cp=e=>As(e)==="[object Object]",pc=e=>Rt(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ao=lc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ns=e=>{const t=Object.create(null);return r=>t[r]||(t[r]=e(r))},Cg=/-(\w)/g,Wr=Ns(e=>e.replace(Cg,(t,r)=>r?r.toUpperCase():"")),Og=/\B([A-Z])/g,Hi=Ns(e=>e.replace(Og,"-$1").toLowerCase()),Cs=Ns(e=>e.charAt(0).toUpperCase()+e.slice(1)),Nu=Ns(e=>e?`on${Cs(e)}`:""),_a=(e,t)=>!Object.is(e,t),No=(e,t)=>{for(let r=0;r<e.length;r++)e[r](t)},Vo=(e,t,r)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:r})},Ko=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Lf;const Dg=()=>Lf||(Lf=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:typeof global!="undefined"?global:{});let cr;class Tg{constructor(t=!1){this.active=!0,this.effects=[],this.cleanups=[],!t&&cr&&(this.parent=cr,this.index=(cr.scopes||(cr.scopes=[])).push(this)-1)}run(t){if(this.active){const r=cr;try{return cr=this,t()}finally{cr=r}}}on(){cr=this}off(){cr=this.parent}stop(t){if(this.active){let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.scopes)for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);if(this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.active=!1}}}function Pg(e,t=cr){t&&t.active&&t.effects.push(e)}function Ig(){return cr}function Rg(e){cr&&cr.cleanups.push(e)}const vc=e=>{const t=new Set(e);return t.w=0,t.n=0,t},fp=e=>(e.w&Sn)>0,dp=e=>(e.n&Sn)>0,$g=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Sn},Bg=e=>{const{deps:t}=e;if(t.length){let r=0;for(let n=0;n<t.length;n++){const i=t[n];fp(i)&&!dp(i)?i.delete(e):t[r++]=i,i.w&=~Sn,i.n&=~Sn}t.length=r}},Zu=new WeakMap;let fa=0,Sn=1;const Ju=30;let Cr;const jn=Symbol(""),Qu=Symbol("");class mc{constructor(t,r=null,n){this.fn=t,this.scheduler=r,this.active=!0,this.deps=[],this.parent=void 0,Pg(this,n)}run(){if(!this.active)return this.fn();let t=Cr,r=xn;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Cr,Cr=this,xn=!0,Sn=1<<++fa,fa<=Ju?$g(this):Uf(this),this.fn()}finally{fa<=Ju&&Bg(this),Sn=1<<--fa,Cr=this.parent,xn=r,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Cr===this?this.deferStop=!0:this.active&&(Uf(this),this.onStop&&this.onStop(),this.active=!1)}}function Uf(e){const{deps:t}=e;if(t.length){for(let r=0;r<t.length;r++)t[r].delete(e);t.length=0}}let xn=!0;const hp=[];function Wi(){hp.push(xn),xn=!1}function Yi(){const e=hp.pop();xn=e===void 0?!0:e}function fr(e,t,r){if(xn&&Cr){let n=Zu.get(e);n||Zu.set(e,n=new Map);let i=n.get(r);i||n.set(r,i=vc()),pp(i)}}function pp(e,t){let r=!1;fa<=Ju?dp(e)||(e.n|=Sn,r=!fp(e)):r=!e.has(Cr),r&&(e.add(Cr),Cr.deps.push(e))}function an(e,t,r,n,i,a){const o=Zu.get(e);if(!o)return;let u=[];if(t==="clear")u=[...o.values()];else if(r==="length"&&$e(e))o.forEach((c,d)=>{(d==="length"||d>=n)&&u.push(c)});else switch(r!==void 0&&u.push(o.get(r)),t){case"add":$e(e)?pc(r)&&u.push(o.get("length")):(u.push(o.get(jn)),Ai(e)&&u.push(o.get(Qu)));break;case"delete":$e(e)||(u.push(o.get(jn)),Ai(e)&&u.push(o.get(Qu)));break;case"set":Ai(e)&&u.push(o.get(jn));break}if(u.length===1)u[0]&&ju(u[0]);else{const c=[];for(const d of u)d&&c.push(...d);ju(vc(c))}}function ju(e,t){const r=$e(e)?e:[...e];for(const n of r)n.computed&&qf(n);for(const n of r)n.computed||qf(n)}function qf(e,t){(e!==Cr||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}const Fg=lc("__proto__,__v_isRef,__isVue"),vp=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(hc)),zg=gc(),kg=gc(!1,!0),Lg=gc(!0),Vf=Ug();function Ug(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...r){const n=Te(this);for(let a=0,o=this.length;a<o;a++)fr(n,"get",a+"");const i=n[t](...r);return i===-1||i===!1?n[t](...r.map(Te)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...r){Wi();const n=Te(this)[t].apply(this,r);return Yi(),n}}),e}function gc(e=!1,t=!1){return function(n,i,a){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&a===(e?t?ny:wp:t?bp:yp).get(n))return n;const o=$e(n);if(!e&&o&&Je(Vf,i))return Reflect.get(Vf,i,a);const u=Reflect.get(n,i,a);return(hc(i)?vp.has(i):Fg(i))||(e||fr(n,"get",i),t)?u:Bt(u)?o&&pc(i)?u:u.value:dt(u)?e?_p(u):wc(u):u}}const qg=mp(),Vg=mp(!0);function mp(e=!1){return function(r,n,i,a){let o=r[n];if($i(o)&&Bt(o)&&!Bt(i))return!1;if(!e&&(!Ho(i)&&!$i(i)&&(o=Te(o),i=Te(i)),!$e(r)&&Bt(o)&&!Bt(i)))return o.value=i,!0;const u=$e(r)&&pc(n)?Number(n)<r.length:Je(r,n),c=Reflect.set(r,n,i,a);return r===Te(a)&&(u?_a(i,o)&&an(r,"set",n,i):an(r,"add",n,i)),c}}function Kg(e,t){const r=Je(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&r&&an(e,"delete",t,void 0),n}function Hg(e,t){const r=Reflect.has(e,t);return(!hc(t)||!vp.has(t))&&fr(e,"has",t),r}function Wg(e){return fr(e,"iterate",$e(e)?"length":jn),Reflect.ownKeys(e)}const gp={get:zg,set:qg,deleteProperty:Kg,has:Hg,ownKeys:Wg},Yg={get:Lg,set(e,t){return!0},deleteProperty(e,t){return!0}},Xg=kt({},gp,{get:kg,set:Vg}),yc=e=>e,Os=e=>Reflect.getPrototypeOf(e);function so(e,t,r=!1,n=!1){e=e.__v_raw;const i=Te(e),a=Te(t);r||(t!==a&&fr(i,"get",t),fr(i,"get",a));const{has:o}=Os(i),u=n?yc:r?xc:xa;if(o.call(i,t))return u(e.get(t));if(o.call(i,a))return u(e.get(a));e!==i&&e.get(t)}function uo(e,t=!1){const r=this.__v_raw,n=Te(r),i=Te(e);return t||(e!==i&&fr(n,"has",e),fr(n,"has",i)),e===i?r.has(e):r.has(e)||r.has(i)}function lo(e,t=!1){return e=e.__v_raw,!t&&fr(Te(e),"iterate",jn),Reflect.get(e,"size",e)}function Kf(e){e=Te(e);const t=Te(this);return Os(t).has.call(t,e)||(t.add(e),an(t,"add",e,e)),this}function Hf(e,t){t=Te(t);const r=Te(this),{has:n,get:i}=Os(r);let a=n.call(r,e);a||(e=Te(e),a=n.call(r,e));const o=i.call(r,e);return r.set(e,t),a?_a(t,o)&&an(r,"set",e,t):an(r,"add",e,t),this}function Wf(e){const t=Te(this),{has:r,get:n}=Os(t);let i=r.call(t,e);i||(e=Te(e),i=r.call(t,e)),n&&n.call(t,e);const a=t.delete(e);return i&&an(t,"delete",e,void 0),a}function Yf(){const e=Te(this),t=e.size!==0,r=e.clear();return t&&an(e,"clear",void 0,void 0),r}function co(e,t){return function(n,i){const a=this,o=a.__v_raw,u=Te(o),c=t?yc:e?xc:xa;return!e&&fr(u,"iterate",jn),o.forEach((d,l)=>n.call(i,c(d),c(l),a))}}function fo(e,t,r){return function(...n){const i=this.__v_raw,a=Te(i),o=Ai(a),u=e==="entries"||e===Symbol.iterator&&o,c=e==="keys"&&o,d=i[e](...n),l=r?yc:t?xc:xa;return!t&&fr(a,"iterate",c?Qu:jn),{next(){const{value:s,done:f}=d.next();return f?{value:s,done:f}:{value:u?[l(s[0]),l(s[1])]:l(s),done:f}},[Symbol.iterator](){return this}}}}function dn(e){return function(...t){return e==="delete"?!1:this}}function Gg(){const e={get(a){return so(this,a)},get size(){return lo(this)},has:uo,add:Kf,set:Hf,delete:Wf,clear:Yf,forEach:co(!1,!1)},t={get(a){return so(this,a,!1,!0)},get size(){return lo(this)},has:uo,add:Kf,set:Hf,delete:Wf,clear:Yf,forEach:co(!1,!0)},r={get(a){return so(this,a,!0)},get size(){return lo(this,!0)},has(a){return uo.call(this,a,!0)},add:dn("add"),set:dn("set"),delete:dn("delete"),clear:dn("clear"),forEach:co(!0,!1)},n={get(a){return so(this,a,!0,!0)},get size(){return lo(this,!0)},has(a){return uo.call(this,a,!0)},add:dn("add"),set:dn("set"),delete:dn("delete"),clear:dn("clear"),forEach:co(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{e[a]=fo(a,!1,!1),r[a]=fo(a,!0,!1),t[a]=fo(a,!1,!0),n[a]=fo(a,!0,!0)}),[e,r,t,n]}const[Zg,Jg,Qg,jg]=Gg();function bc(e,t){const r=t?e?jg:Qg:e?Jg:Zg;return(n,i,a)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?n:Reflect.get(Je(r,i)&&i in n?r:n,i,a)}const ey={get:bc(!1,!1)},ty={get:bc(!1,!0)},ry={get:bc(!0,!1)},yp=new WeakMap,bp=new WeakMap,wp=new WeakMap,ny=new WeakMap;function iy(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ay(e){return e.__v_skip||!Object.isExtensible(e)?0:iy(Ng(e))}function wc(e){return $i(e)?e:_c(e,!1,gp,ey,yp)}function oy(e){return _c(e,!1,Xg,ty,bp)}function _p(e){return _c(e,!0,Yg,ry,wp)}function _c(e,t,r,n,i){if(!dt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const a=i.get(e);if(a)return a;const o=ay(e);if(o===0)return e;const u=new Proxy(e,o===2?n:r);return i.set(e,u),u}function Ni(e){return $i(e)?Ni(e.__v_raw):!!(e&&e.__v_isReactive)}function $i(e){return!!(e&&e.__v_isReadonly)}function Ho(e){return!!(e&&e.__v_isShallow)}function xp(e){return Ni(e)||$i(e)}function Te(e){const t=e&&e.__v_raw;return t?Te(t):e}function Mp(e){return Vo(e,"__v_skip",!0),e}const xa=e=>dt(e)?wc(e):e,xc=e=>dt(e)?_p(e):e;function Sp(e){xn&&Cr&&(e=Te(e),pp(e.dep||(e.dep=vc())))}function Ep(e,t){e=Te(e),e.dep&&ju(e.dep)}function Bt(e){return!!(e&&e.__v_isRef===!0)}function Ye(e){return sy(e,!1)}function sy(e,t){return Bt(e)?e:new uy(e,t)}class uy{constructor(t,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?t:Te(t),this._value=r?t:xa(t)}get value(){return Sp(this),this._value}set value(t){const r=this.__v_isShallow||Ho(t)||$i(t);t=r?t:Te(t),_a(t,this._rawValue)&&(this._rawValue=t,this._value=r?t:xa(t),Ep(this))}}function Mc(e){return Bt(e)?e.value:e}const ly={get:(e,t,r)=>Mc(Reflect.get(e,t,r)),set:(e,t,r,n)=>{const i=e[t];return Bt(i)&&!Bt(r)?(i.value=r,!0):Reflect.set(e,t,r,n)}};function Ap(e){return Ni(e)?e:new Proxy(e,ly)}function ho(e){const t=$e(e)?new Array(e.length):{};for(const r in e)t[r]=fy(e,r);return t}class cy{constructor(t,r,n){this._object=t,this._key=r,this._defaultValue=n,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}}function fy(e,t,r){const n=e[t];return Bt(n)?n:new cy(e,t,r)}var Np;class dy{constructor(t,r,n,i){this._setter=r,this.dep=void 0,this.__v_isRef=!0,this[Np]=!1,this._dirty=!0,this.effect=new mc(t,()=>{this._dirty||(this._dirty=!0,Ep(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const t=Te(this);return Sp(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}Np="__v_isReadonly";function hy(e,t,r=!1){let n,i;const a=Ke(e);return a?(n=e,i=Pr):(n=e.get,i=e.set),new dy(n,i,a||!i,r)}function Mn(e,t,r,n){let i;try{i=n?e(...n):e()}catch(a){Ds(a,t,r)}return i}function yr(e,t,r,n){if(Ke(e)){const a=Mn(e,t,r,n);return a&&up(a)&&a.catch(o=>{Ds(o,t,r)}),a}const i=[];for(let a=0;a<e.length;a++)i.push(yr(e[a],t,r,n));return i}function Ds(e,t,r,n=!0){const i=t?t.vnode:null;if(t){let a=t.parent;const o=t.proxy,u=r;for(;a;){const d=a.ec;if(d){for(let l=0;l<d.length;l++)if(d[l](e,o,u)===!1)return}a=a.parent}const c=t.appContext.config.errorHandler;if(c){Mn(c,null,10,[e,o,u]);return}}py(e,r,i,n)}function py(e,t,r,n=!0){console.error(e)}let Ma=!1,el=!1;const Ut=[];let Ur=0;const Ci=[];let Qr=null,Hn=0;const Cp=Promise.resolve();let Sc=null;function er(e){const t=Sc||Cp;return e?t.then(this?e.bind(this):e):t}function vy(e){let t=Ur+1,r=Ut.length;for(;t<r;){const n=t+r>>>1;Sa(Ut[n])<e?t=n+1:r=n}return t}function Ec(e){(!Ut.length||!Ut.includes(e,Ma&&e.allowRecurse?Ur+1:Ur))&&(e.id==null?Ut.push(e):Ut.splice(vy(e.id),0,e),Op())}function Op(){!Ma&&!el&&(el=!0,Sc=Cp.then(Tp))}function my(e){const t=Ut.indexOf(e);t>Ur&&Ut.splice(t,1)}function gy(e){$e(e)?Ci.push(...e):(!Qr||!Qr.includes(e,e.allowRecurse?Hn+1:Hn))&&Ci.push(e),Op()}function Xf(e,t=Ma?Ur+1:0){for(;t<Ut.length;t++){const r=Ut[t];r&&r.pre&&(Ut.splice(t,1),t--,r())}}function Dp(e){if(Ci.length){const t=[...new Set(Ci)];if(Ci.length=0,Qr){Qr.push(...t);return}for(Qr=t,Qr.sort((r,n)=>Sa(r)-Sa(n)),Hn=0;Hn<Qr.length;Hn++)Qr[Hn]();Qr=null,Hn=0}}const Sa=e=>e.id==null?1/0:e.id,yy=(e,t)=>{const r=Sa(e)-Sa(t);if(r===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return r};function Tp(e){el=!1,Ma=!0,Ut.sort(yy);const t=Pr;try{for(Ur=0;Ur<Ut.length;Ur++){const r=Ut[Ur];r&&r.active!==!1&&Mn(r,null,14)}}finally{Ur=0,Ut.length=0,Dp(),Ma=!1,Sc=null,(Ut.length||Ci.length)&&Tp()}}function by(e,t,...r){if(e.isUnmounted)return;const n=e.vnode.props||at;let i=r;const a=t.startsWith("update:"),o=a&&t.slice(7);if(o&&o in n){const l=`${o==="modelValue"?"model":o}Modifiers`,{number:s,trim:f}=n[l]||at;f&&(i=r.map(p=>p.trim())),s&&(i=r.map(Ko))}let u,c=n[u=Nu(t)]||n[u=Nu(Wr(t))];!c&&a&&(c=n[u=Nu(Hi(t))]),c&&yr(c,e,6,i);const d=n[u+"Once"];if(d){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,yr(d,e,6,i)}}function Pp(e,t,r=!1){const n=t.emitsCache,i=n.get(e);if(i!==void 0)return i;const a=e.emits;let o={},u=!1;if(!Ke(e)){const c=d=>{const l=Pp(d,t,!0);l&&(u=!0,kt(o,l))};!r&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}return!a&&!u?(dt(e)&&n.set(e,null),null):($e(a)?a.forEach(c=>o[c]=null):kt(o,a),dt(e)&&n.set(e,o),o)}function Ts(e,t){return!e||!Es(t)?!1:(t=t.slice(2).replace(/Once$/,""),Je(e,t[0].toLowerCase()+t.slice(1))||Je(e,Hi(t))||Je(e,t))}let Vt=null,Ps=null;function Wo(e){const t=Vt;return Vt=e,Ps=e&&e.type.__scopeId||null,t}function wy(e){Ps=e}function _y(){Ps=null}function Ot(e,t=Vt,r){if(!t||e._n)return e;const n=(...i)=>{n._d&&od(-1);const a=Wo(t),o=e(...i);return Wo(a),n._d&&od(1),o};return n._n=!0,n._c=!0,n._d=!0,n}function Cu(e){const{type:t,vnode:r,proxy:n,withProxy:i,props:a,propsOptions:[o],slots:u,attrs:c,emit:d,render:l,renderCache:s,data:f,setupState:p,ctx:v,inheritAttrs:h}=e;let m,g;const b=Wo(e);try{if(r.shapeFlag&4){const w=i||n;m=kr(l.call(w,w,s,a,p,f,v)),g=c}else{const w=t;m=kr(w.length>1?w(a,{attrs:c,slots:u,emit:d}):w(a,null)),g=t.props?c:xy(c)}}catch(w){ga.length=0,Ds(w,e,1),m=Be(wr)}let y=m;if(g&&h!==!1){const w=Object.keys(g),{shapeFlag:_}=y;w.length&&_&7&&(o&&w.some(fc)&&(g=My(g,o)),y=on(y,g))}return r.dirs&&(y=on(y),y.dirs=y.dirs?y.dirs.concat(r.dirs):r.dirs),r.transition&&(y.transition=r.transition),m=y,Wo(b),m}const xy=e=>{let t;for(const r in e)(r==="class"||r==="style"||Es(r))&&((t||(t={}))[r]=e[r]);return t},My=(e,t)=>{const r={};for(const n in e)(!fc(n)||!(n.slice(9)in t))&&(r[n]=e[n]);return r};function Sy(e,t,r){const{props:n,children:i,component:a}=e,{props:o,children:u,patchFlag:c}=t,d=a.emitsOptions;if(t.dirs||t.transition)return!0;if(r&&c>=0){if(c&1024)return!0;if(c&16)return n?Gf(n,o,d):!!o;if(c&8){const l=t.dynamicProps;for(let s=0;s<l.length;s++){const f=l[s];if(o[f]!==n[f]&&!Ts(d,f))return!0}}}else return(i||u)&&(!u||!u.$stable)?!0:n===o?!1:n?o?Gf(n,o,d):!0:!!o;return!1}function Gf(e,t,r){const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!0;for(let i=0;i<n.length;i++){const a=n[i];if(t[a]!==e[a]&&!Ts(r,a))return!0}return!1}function Ey({vnode:e,parent:t},r){for(;t&&t.subTree===e;)(e=t.vnode).el=r,t=t.parent}const Ay=e=>e.__isSuspense;function Ny(e,t){t&&t.pendingBranch?$e(e)?t.effects.push(...e):t.effects.push(e):gy(e)}function Rn(e,t){if(It){let r=It.provides;const n=It.parent&&It.parent.provides;n===r&&(r=It.provides=Object.create(n)),r[e]=t}}function qr(e,t,r=!1){const n=It||Vt;if(n){const i=n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return r&&Ke(t)?t.call(n.proxy):t}}function Ua(e,t){return Ac(e,null,t)}const Zf={};function $t(e,t,r){return Ac(e,t,r)}function Ac(e,t,{immediate:r,deep:n,flush:i,onTrack:a,onTrigger:o}=at){const u=It;let c,d=!1,l=!1;if(Bt(e)?(c=()=>e.value,d=Ho(e)):Ni(e)?(c=()=>e,n=!0):$e(e)?(l=!0,d=e.some(g=>Ni(g)||Ho(g)),c=()=>e.map(g=>{if(Bt(g))return g.value;if(Ni(g))return Gn(g);if(Ke(g))return Mn(g,u,2)})):Ke(e)?t?c=()=>Mn(e,u,2):c=()=>{if(!(u&&u.isUnmounted))return s&&s(),yr(e,u,3,[f])}:c=Pr,t&&n){const g=c;c=()=>Gn(g())}let s,f=g=>{s=m.onStop=()=>{Mn(g,u,4)}};if(Aa)return f=Pr,t?r&&yr(t,u,3,[c(),l?[]:void 0,f]):c(),Pr;let p=l?[]:Zf;const v=()=>{if(!!m.active)if(t){const g=m.run();(n||d||(l?g.some((b,y)=>_a(b,p[y])):_a(g,p)))&&(s&&s(),yr(t,u,3,[g,p===Zf?void 0:p,f]),p=g)}else m.run()};v.allowRecurse=!!t;let h;i==="sync"?h=v:i==="post"?h=()=>ir(v,u&&u.suspense):(v.pre=!0,u&&(v.id=u.uid),h=()=>Ec(v));const m=new mc(c,h);return t?r?v():p=m.run():i==="post"?ir(m.run.bind(m),u&&u.suspense):m.run(),()=>{m.stop(),u&&u.scope&&dc(u.scope.effects,m)}}function Cy(e,t,r){const n=this.proxy,i=Rt(e)?e.includes(".")?Ip(n,e):()=>n[e]:e.bind(n,n);let a;Ke(t)?a=t:(a=t.handler,r=t);const o=It;Bi(this);const u=Ac(i,a.bind(n),r);return o?Bi(o):ei(),u}function Ip(e,t){const r=t.split(".");return()=>{let n=e;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}function Gn(e,t){if(!dt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),Bt(e))Gn(e.value,t);else if($e(e))for(let r=0;r<e.length;r++)Gn(e[r],t);else if(sp(e)||Ai(e))e.forEach(r=>{Gn(r,t)});else if(cp(e))for(const r in e)Gn(e[r],t);return e}function Oy(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return br(()=>{e.isMounted=!0}),zp(()=>{e.isUnmounting=!0}),e}const mr=[Function,Array],Dy={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:mr,onEnter:mr,onAfterEnter:mr,onEnterCancelled:mr,onBeforeLeave:mr,onLeave:mr,onAfterLeave:mr,onLeaveCancelled:mr,onBeforeAppear:mr,onAppear:mr,onAfterAppear:mr,onAppearCancelled:mr},setup(e,{slots:t}){const r=hb(),n=Oy();let i;return()=>{const a=t.default&&Bp(t.default(),!0);if(!a||!a.length)return;let o=a[0];if(a.length>1){for(const h of a)if(h.type!==wr){o=h;break}}const u=Te(e),{mode:c}=u;if(n.isLeaving)return Ou(o);const d=Jf(o);if(!d)return Ou(o);const l=tl(d,u,n,r);rl(d,l);const s=r.subTree,f=s&&Jf(s);let p=!1;const{getTransitionKey:v}=d.type;if(v){const h=v();i===void 0?i=h:h!==i&&(i=h,p=!0)}if(f&&f.type!==wr&&(!Wn(d,f)||p)){const h=tl(f,u,n,r);if(rl(f,h),c==="out-in")return n.isLeaving=!0,h.afterLeave=()=>{n.isLeaving=!1,r.update()},Ou(o);c==="in-out"&&d.type!==wr&&(h.delayLeave=(m,g,b)=>{const y=$p(n,f);y[String(f.key)]=f,m._leaveCb=()=>{g(),m._leaveCb=void 0,delete l.delayedLeave},l.delayedLeave=b})}return o}}},Rp=Dy;function $p(e,t){const{leavingVNodes:r}=e;let n=r.get(t.type);return n||(n=Object.create(null),r.set(t.type,n)),n}function tl(e,t,r,n){const{appear:i,mode:a,persisted:o=!1,onBeforeEnter:u,onEnter:c,onAfterEnter:d,onEnterCancelled:l,onBeforeLeave:s,onLeave:f,onAfterLeave:p,onLeaveCancelled:v,onBeforeAppear:h,onAppear:m,onAfterAppear:g,onAppearCancelled:b}=t,y=String(e.key),w=$p(r,e),_=(M,A)=>{M&&yr(M,n,9,A)},x=(M,A)=>{const E=A[1];_(M,A),$e(M)?M.every(D=>D.length<=1)&&E():M.length<=1&&E()},N={mode:a,persisted:o,beforeEnter(M){let A=u;if(!r.isMounted)if(i)A=h||u;else return;M._leaveCb&&M._leaveCb(!0);const E=w[y];E&&Wn(e,E)&&E.el._leaveCb&&E.el._leaveCb(),_(A,[M])},enter(M){let A=c,E=d,D=l;if(!r.isMounted)if(i)A=m||c,E=g||d,D=b||l;else return;let C=!1;const $=M._enterCb=L=>{C||(C=!0,L?_(D,[M]):_(E,[M]),N.delayedLeave&&N.delayedLeave(),M._enterCb=void 0)};A?x(A,[M,$]):$()},leave(M,A){const E=String(e.key);if(M._enterCb&&M._enterCb(!0),r.isUnmounting)return A();_(s,[M]);let D=!1;const C=M._leaveCb=$=>{D||(D=!0,A(),$?_(v,[M]):_(p,[M]),M._leaveCb=void 0,w[E]===e&&delete w[E])};w[E]=e,f?x(f,[M,C]):C()},clone(M){return tl(M,t,r,n)}};return N}function Ou(e){if(Is(e))return e=on(e),e.children=null,e}function Jf(e){return Is(e)?e.children?e.children[0]:void 0:e}function rl(e,t){e.shapeFlag&6&&e.component?rl(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Bp(e,t=!1,r){let n=[],i=0;for(let a=0;a<e.length;a++){let o=e[a];const u=r==null?o.key:String(r)+String(o.key!=null?o.key:a);o.type===gt?(o.patchFlag&128&&i++,n=n.concat(Bp(o.children,t,u))):(t||o.type!==wr)&&n.push(u!=null?on(o,{key:u}):o)}if(i>1)for(let a=0;a<n.length;a++)n[a].patchFlag=-2;return n}function Yt(e){return Ke(e)?{setup:e,name:e.name}:e}const ma=e=>!!e.type.__asyncLoader,Is=e=>e.type.__isKeepAlive;function Ty(e,t){Fp(e,"a",t)}function Py(e,t){Fp(e,"da",t)}function Fp(e,t,r=It){const n=e.__wdc||(e.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Rs(t,n,r),r){let i=r.parent;for(;i&&i.parent;)Is(i.parent.vnode)&&Iy(n,t,r,i),i=i.parent}}function Iy(e,t,r,n){const i=Rs(t,e,n,!0);$n(()=>{dc(n[t],i)},r)}function Rs(e,t,r=It,n=!1){if(r){const i=r[e]||(r[e]=[]),a=t.__weh||(t.__weh=(...o)=>{if(r.isUnmounted)return;Wi(),Bi(r);const u=yr(t,r,e,o);return ei(),Yi(),u});return n?i.unshift(a):i.push(a),a}}const cn=e=>(t,r=It)=>(!Aa||e==="sp")&&Rs(e,(...n)=>t(...n),r),Ry=cn("bm"),br=cn("m"),$y=cn("bu"),By=cn("u"),zp=cn("bum"),$n=cn("um"),Fy=cn("sp"),zy=cn("rtg"),ky=cn("rtc");function Ly(e,t=It){Rs("ec",e,t)}function ar(e,t){const r=Vt;if(r===null)return e;const n=Fs(r)||r.proxy,i=e.dirs||(e.dirs=[]);for(let a=0;a<t.length;a++){let[o,u,c,d=at]=t[a];Ke(o)&&(o={mounted:o,updated:o}),o.deep&&Gn(u),i.push({dir:o,instance:n,value:u,oldValue:void 0,arg:c,modifiers:d})}return e}function Ln(e,t,r,n){const i=e.dirs,a=t&&t.dirs;for(let o=0;o<i.length;o++){const u=i[o];a&&(u.oldValue=a[o].value);let c=u.dir[n];c&&(Wi(),yr(c,r,8,[e.el,u,e,t]),Yi())}}const kp="components";function et(e,t){return qy(kp,e,!0,t)||e}const Uy=Symbol();function qy(e,t,r=!0,n=!1){const i=Vt||It;if(i){const a=i.type;if(e===kp){const u=yb(a,!1);if(u&&(u===t||u===Wr(t)||u===Cs(Wr(t))))return a}const o=Qf(i[e]||a[e],t)||Qf(i.appContext[e],t);return!o&&n?a:o}}function Qf(e,t){return e&&(e[t]||e[Wr(t)]||e[Cs(Wr(t))])}function En(e,t,r,n){let i;const a=r&&r[n];if($e(e)||Rt(e)){i=new Array(e.length);for(let o=0,u=e.length;o<u;o++)i[o]=t(e[o],o,void 0,a&&a[o])}else if(typeof e=="number"){i=new Array(e);for(let o=0;o<e;o++)i[o]=t(o+1,o,void 0,a&&a[o])}else if(dt(e))if(e[Symbol.iterator])i=Array.from(e,(o,u)=>t(o,u,void 0,a&&a[u]));else{const o=Object.keys(e);i=new Array(o.length);for(let u=0,c=o.length;u<c;u++){const d=o[u];i[u]=t(e[d],d,u,a&&a[u])}}else i=[];return r&&(r[n]=i),i}function jf(e,t,r={},n,i){if(Vt.isCE||Vt.parent&&ma(Vt.parent)&&Vt.parent.isCE)return Be("slot",t==="default"?null:{name:t},n&&n());let a=e[t];a&&a._c&&(a._d=!1),Ae();const o=a&&Lp(a(r)),u=Vr(gt,{key:r.key||o&&o.key||`_${t}`},o||(n?n():[]),o&&e._===1?64:-2);return!i&&u.scopeId&&(u.slotScopeIds=[u.scopeId+"-s"]),a&&a._c&&(a._d=!0),u}function Lp(e){return e.some(t=>Go(t)?!(t.type===wr||t.type===gt&&!Lp(t.children)):!0)?e:null}const nl=e=>e?Qp(e)?Fs(e)||e.proxy:nl(e.parent):null,Yo=kt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>nl(e.parent),$root:e=>nl(e.root),$emit:e=>e.emit,$options:e=>Nc(e),$forceUpdate:e=>e.f||(e.f=()=>Ec(e.update)),$nextTick:e=>e.n||(e.n=er.bind(e.proxy)),$watch:e=>Cy.bind(e)}),Vy={get({_:e},t){const{ctx:r,setupState:n,data:i,props:a,accessCache:o,type:u,appContext:c}=e;let d;if(t[0]!=="$"){const p=o[t];if(p!==void 0)switch(p){case 1:return n[t];case 2:return i[t];case 4:return r[t];case 3:return a[t]}else{if(n!==at&&Je(n,t))return o[t]=1,n[t];if(i!==at&&Je(i,t))return o[t]=2,i[t];if((d=e.propsOptions[0])&&Je(d,t))return o[t]=3,a[t];if(r!==at&&Je(r,t))return o[t]=4,r[t];il&&(o[t]=0)}}const l=Yo[t];let s,f;if(l)return t==="$attrs"&&fr(e,"get",t),l(e);if((s=u.__cssModules)&&(s=s[t]))return s;if(r!==at&&Je(r,t))return o[t]=4,r[t];if(f=c.config.globalProperties,Je(f,t))return f[t]},set({_:e},t,r){const{data:n,setupState:i,ctx:a}=e;return i!==at&&Je(i,t)?(i[t]=r,!0):n!==at&&Je(n,t)?(n[t]=r,!0):Je(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(a[t]=r,!0)},has({_:{data:e,setupState:t,accessCache:r,ctx:n,appContext:i,propsOptions:a}},o){let u;return!!r[o]||e!==at&&Je(e,o)||t!==at&&Je(t,o)||(u=a[0])&&Je(u,o)||Je(n,o)||Je(Yo,o)||Je(i.config.globalProperties,o)},defineProperty(e,t,r){return r.get!=null?e._.accessCache[t]=0:Je(r,"value")&&this.set(e,t,r.value,null),Reflect.defineProperty(e,t,r)}};let il=!0;function Ky(e){const t=Nc(e),r=e.proxy,n=e.ctx;il=!1,t.beforeCreate&&ed(t.beforeCreate,e,"bc");const{data:i,computed:a,methods:o,watch:u,provide:c,inject:d,created:l,beforeMount:s,mounted:f,beforeUpdate:p,updated:v,activated:h,deactivated:m,beforeDestroy:g,beforeUnmount:b,destroyed:y,unmounted:w,render:_,renderTracked:x,renderTriggered:N,errorCaptured:M,serverPrefetch:A,expose:E,inheritAttrs:D,components:C,directives:$,filters:L}=t;if(d&&Hy(d,n,null,e.appContext.config.unwrapInjectedRef),o)for(const X in o){const W=o[X];Ke(W)&&(n[X]=W.bind(r))}if(i){const X=i.call(r,r);dt(X)&&(e.data=wc(X))}if(il=!0,a)for(const X in a){const W=a[X],H=Ke(W)?W.bind(r,r):Ke(W.get)?W.get.bind(r,r):Pr,U=!Ke(W)&&Ke(W.set)?W.set.bind(r):Pr,G=Re({get:H,set:U});Object.defineProperty(n,X,{enumerable:!0,configurable:!0,get:()=>G.value,set:ie=>G.value=ie})}if(u)for(const X in u)Up(u[X],n,r,X);if(c){const X=Ke(c)?c.call(r):c;Reflect.ownKeys(X).forEach(W=>{Rn(W,X[W])})}l&&ed(l,e,"c");function F(X,W){$e(W)?W.forEach(H=>X(H.bind(r))):W&&X(W.bind(r))}if(F(Ry,s),F(br,f),F($y,p),F(By,v),F(Ty,h),F(Py,m),F(Ly,M),F(ky,x),F(zy,N),F(zp,b),F($n,w),F(Fy,A),$e(E))if(E.length){const X=e.exposed||(e.exposed={});E.forEach(W=>{Object.defineProperty(X,W,{get:()=>r[W],set:H=>r[W]=H})})}else e.exposed||(e.exposed={});_&&e.render===Pr&&(e.render=_),D!=null&&(e.inheritAttrs=D),C&&(e.components=C),$&&(e.directives=$)}function Hy(e,t,r=Pr,n=!1){$e(e)&&(e=al(e));for(const i in e){const a=e[i];let o;dt(a)?"default"in a?o=qr(a.from||i,a.default,!0):o=qr(a.from||i):o=qr(a),Bt(o)&&n?Object.defineProperty(t,i,{enumerable:!0,configurable:!0,get:()=>o.value,set:u=>o.value=u}):t[i]=o}}function ed(e,t,r){yr($e(e)?e.map(n=>n.bind(t.proxy)):e.bind(t.proxy),t,r)}function Up(e,t,r,n){const i=n.includes(".")?Ip(r,n):()=>r[n];if(Rt(e)){const a=t[e];Ke(a)&&$t(i,a)}else if(Ke(e))$t(i,e.bind(r));else if(dt(e))if($e(e))e.forEach(a=>Up(a,t,r,n));else{const a=Ke(e.handler)?e.handler.bind(r):t[e.handler];Ke(a)&&$t(i,a,e)}}function Nc(e){const t=e.type,{mixins:r,extends:n}=t,{mixins:i,optionsCache:a,config:{optionMergeStrategies:o}}=e.appContext,u=a.get(t);let c;return u?c=u:!i.length&&!r&&!n?c=t:(c={},i.length&&i.forEach(d=>Xo(c,d,o,!0)),Xo(c,t,o)),dt(t)&&a.set(t,c),c}function Xo(e,t,r,n=!1){const{mixins:i,extends:a}=t;a&&Xo(e,a,r,!0),i&&i.forEach(o=>Xo(e,o,r,!0));for(const o in t)if(!(n&&o==="expose")){const u=Wy[o]||r&&r[o];e[o]=u?u(e[o],t[o]):t[o]}return e}const Wy={data:td,props:Kn,emits:Kn,methods:Kn,computed:Kn,beforeCreate:Jt,created:Jt,beforeMount:Jt,mounted:Jt,beforeUpdate:Jt,updated:Jt,beforeDestroy:Jt,beforeUnmount:Jt,destroyed:Jt,unmounted:Jt,activated:Jt,deactivated:Jt,errorCaptured:Jt,serverPrefetch:Jt,components:Kn,directives:Kn,watch:Xy,provide:td,inject:Yy};function td(e,t){return t?e?function(){return kt(Ke(e)?e.call(this,this):e,Ke(t)?t.call(this,this):t)}:t:e}function Yy(e,t){return Kn(al(e),al(t))}function al(e){if($e(e)){const t={};for(let r=0;r<e.length;r++)t[e[r]]=e[r];return t}return e}function Jt(e,t){return e?[...new Set([].concat(e,t))]:t}function Kn(e,t){return e?kt(kt(Object.create(null),e),t):t}function Xy(e,t){if(!e)return t;if(!t)return e;const r=kt(Object.create(null),e);for(const n in t)r[n]=Jt(e[n],t[n]);return r}function Gy(e,t,r,n=!1){const i={},a={};Vo(a,$s,1),e.propsDefaults=Object.create(null),qp(e,t,i,a);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);r?e.props=n?i:oy(i):e.type.props?e.props=i:e.props=a,e.attrs=a}function Zy(e,t,r,n){const{props:i,attrs:a,vnode:{patchFlag:o}}=e,u=Te(i),[c]=e.propsOptions;let d=!1;if((n||o>0)&&!(o&16)){if(o&8){const l=e.vnode.dynamicProps;for(let s=0;s<l.length;s++){let f=l[s];if(Ts(e.emitsOptions,f))continue;const p=t[f];if(c)if(Je(a,f))p!==a[f]&&(a[f]=p,d=!0);else{const v=Wr(f);i[v]=ol(c,u,v,p,e,!1)}else p!==a[f]&&(a[f]=p,d=!0)}}}else{qp(e,t,i,a)&&(d=!0);let l;for(const s in u)(!t||!Je(t,s)&&((l=Hi(s))===s||!Je(t,l)))&&(c?r&&(r[s]!==void 0||r[l]!==void 0)&&(i[s]=ol(c,u,s,void 0,e,!0)):delete i[s]);if(a!==u)for(const s in a)(!t||!Je(t,s)&&!0)&&(delete a[s],d=!0)}d&&an(e,"set","$attrs")}function qp(e,t,r,n){const[i,a]=e.propsOptions;let o=!1,u;if(t)for(let c in t){if(Ao(c))continue;const d=t[c];let l;i&&Je(i,l=Wr(c))?!a||!a.includes(l)?r[l]=d:(u||(u={}))[l]=d:Ts(e.emitsOptions,c)||(!(c in n)||d!==n[c])&&(n[c]=d,o=!0)}if(a){const c=Te(r),d=u||at;for(let l=0;l<a.length;l++){const s=a[l];r[s]=ol(i,c,s,d[s],e,!Je(d,s))}}return o}function ol(e,t,r,n,i,a){const o=e[r];if(o!=null){const u=Je(o,"default");if(u&&n===void 0){const c=o.default;if(o.type!==Function&&Ke(c)){const{propsDefaults:d}=i;r in d?n=d[r]:(Bi(i),n=d[r]=c.call(null,t),ei())}else n=c}o[0]&&(a&&!u?n=!1:o[1]&&(n===""||n===Hi(r))&&(n=!0))}return n}function Vp(e,t,r=!1){const n=t.propsCache,i=n.get(e);if(i)return i;const a=e.props,o={},u=[];let c=!1;if(!Ke(e)){const l=s=>{c=!0;const[f,p]=Vp(s,t,!0);kt(o,f),p&&u.push(...p)};!r&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}if(!a&&!c)return dt(e)&&n.set(e,Ei),Ei;if($e(a))for(let l=0;l<a.length;l++){const s=Wr(a[l]);rd(s)&&(o[s]=at)}else if(a)for(const l in a){const s=Wr(l);if(rd(s)){const f=a[l],p=o[s]=$e(f)||Ke(f)?{type:f}:f;if(p){const v=ad(Boolean,p.type),h=ad(String,p.type);p[0]=v>-1,p[1]=h<0||v<h,(v>-1||Je(p,"default"))&&u.push(s)}}}const d=[o,u];return dt(e)&&n.set(e,d),d}function rd(e){return e[0]!=="$"}function nd(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:e===null?"null":""}function id(e,t){return nd(e)===nd(t)}function ad(e,t){return $e(t)?t.findIndex(r=>id(r,e)):Ke(t)&&id(t,e)?0:-1}const Kp=e=>e[0]==="_"||e==="$stable",Cc=e=>$e(e)?e.map(kr):[kr(e)],Jy=(e,t,r)=>{if(t._n)return t;const n=Ot((...i)=>Cc(t(...i)),r);return n._c=!1,n},Hp=(e,t,r)=>{const n=e._ctx;for(const i in e){if(Kp(i))continue;const a=e[i];if(Ke(a))t[i]=Jy(i,a,n);else if(a!=null){const o=Cc(a);t[i]=()=>o}}},Wp=(e,t)=>{const r=Cc(t);e.slots.default=()=>r},Qy=(e,t)=>{if(e.vnode.shapeFlag&32){const r=t._;r?(e.slots=Te(t),Vo(t,"_",r)):Hp(t,e.slots={})}else e.slots={},t&&Wp(e,t);Vo(e.slots,$s,1)},jy=(e,t,r)=>{const{vnode:n,slots:i}=e;let a=!0,o=at;if(n.shapeFlag&32){const u=t._;u?r&&u===1?a=!1:(kt(i,t),!r&&u===1&&delete i._):(a=!t.$stable,Hp(t,i)),o=t}else t&&(Wp(e,t),o={default:1});if(a)for(const u in i)!Kp(u)&&!(u in o)&&delete i[u]};function Yp(){return{app:null,config:{isNativeTag:Sg,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let eb=0;function tb(e,t){return function(n,i=null){Ke(n)||(n=Object.assign({},n)),i!=null&&!dt(i)&&(i=null);const a=Yp(),o=new Set;let u=!1;const c=a.app={_uid:eb++,_component:n,_props:i,_container:null,_context:a,_instance:null,version:wb,get config(){return a.config},set config(d){},use(d,...l){return o.has(d)||(d&&Ke(d.install)?(o.add(d),d.install(c,...l)):Ke(d)&&(o.add(d),d(c,...l))),c},mixin(d){return a.mixins.includes(d)||a.mixins.push(d),c},component(d,l){return l?(a.components[d]=l,c):a.components[d]},directive(d,l){return l?(a.directives[d]=l,c):a.directives[d]},mount(d,l,s){if(!u){const f=Be(n,i);return f.appContext=a,l&&t?t(f,d):e(f,d,s),u=!0,c._container=d,d.__vue_app__=c,Fs(f.component)||f.component.proxy}},unmount(){u&&(e(null,c._container),delete c._container.__vue_app__)},provide(d,l){return a.provides[d]=l,c}};return c}}function sl(e,t,r,n,i=!1){if($e(e)){e.forEach((f,p)=>sl(f,t&&($e(t)?t[p]:t),r,n,i));return}if(ma(n)&&!i)return;const a=n.shapeFlag&4?Fs(n.component)||n.component.proxy:n.el,o=i?null:a,{i:u,r:c}=e,d=t&&t.r,l=u.refs===at?u.refs={}:u.refs,s=u.setupState;if(d!=null&&d!==c&&(Rt(d)?(l[d]=null,Je(s,d)&&(s[d]=null)):Bt(d)&&(d.value=null)),Ke(c))Mn(c,u,12,[o,l]);else{const f=Rt(c),p=Bt(c);if(f||p){const v=()=>{if(e.f){const h=f?l[c]:c.value;i?$e(h)&&dc(h,a):$e(h)?h.includes(a)||h.push(a):f?(l[c]=[a],Je(s,c)&&(s[c]=l[c])):(c.value=[a],e.k&&(l[e.k]=c.value))}else f?(l[c]=o,Je(s,c)&&(s[c]=o)):p&&(c.value=o,e.k&&(l[e.k]=o))};o?(v.id=-1,ir(v,r)):v()}}}const ir=Ny;function rb(e){return nb(e)}function nb(e,t){const r=Dg();r.__VUE__=!0;const{insert:n,remove:i,patchProp:a,createElement:o,createText:u,createComment:c,setText:d,setElementText:l,parentNode:s,nextSibling:f,setScopeId:p=Pr,insertStaticContent:v}=e,h=(P,R,K,J=null,ee=null,oe=null,de=!1,ae=null,O=!!R.dynamicChildren)=>{if(P===R)return;P&&!Wn(P,R)&&(J=se(P),ie(P,ee,oe,!0),P=null),R.patchFlag===-2&&(O=!1,R.dynamicChildren=null);const{type:I,ref:q,shapeFlag:k}=R;switch(I){case Oc:m(P,R,K,J);break;case wr:g(P,R,K,J);break;case Co:P==null&&b(R,K,J,de);break;case gt:C(P,R,K,J,ee,oe,de,ae,O);break;default:k&1?_(P,R,K,J,ee,oe,de,ae,O):k&6?$(P,R,K,J,ee,oe,de,ae,O):(k&64||k&128)&&I.process(P,R,K,J,ee,oe,de,ae,O,xe)}q!=null&&ee&&sl(q,P&&P.ref,oe,R||P,!R)},m=(P,R,K,J)=>{if(P==null)n(R.el=u(R.children),K,J);else{const ee=R.el=P.el;R.children!==P.children&&d(ee,R.children)}},g=(P,R,K,J)=>{P==null?n(R.el=c(R.children||""),K,J):R.el=P.el},b=(P,R,K,J)=>{[P.el,P.anchor]=v(P.children,R,K,J,P.el,P.anchor)},y=({el:P,anchor:R},K,J)=>{let ee;for(;P&&P!==R;)ee=f(P),n(P,K,J),P=ee;n(R,K,J)},w=({el:P,anchor:R})=>{let K;for(;P&&P!==R;)K=f(P),i(P),P=K;i(R)},_=(P,R,K,J,ee,oe,de,ae,O)=>{de=de||R.type==="svg",P==null?x(R,K,J,ee,oe,de,ae,O):A(P,R,ee,oe,de,ae,O)},x=(P,R,K,J,ee,oe,de,ae)=>{let O,I;const{type:q,props:k,shapeFlag:re,transition:ue,dirs:ve}=P;if(O=P.el=o(P.type,oe,k&&k.is,k),re&8?l(O,P.children):re&16&&M(P.children,O,null,J,ee,oe&&q!=="foreignObject",de,ae),ve&&Ln(P,null,J,"created"),k){for(const he in k)he!=="value"&&!Ao(he)&&a(O,he,null,k[he],oe,P.children,J,ee,Y);"value"in k&&a(O,"value",null,k.value),(I=k.onVnodeBeforeMount)&&Fr(I,J,P)}N(O,P,P.scopeId,de,J),ve&&Ln(P,null,J,"beforeMount");const me=(!ee||ee&&!ee.pendingBranch)&&ue&&!ue.persisted;me&&ue.beforeEnter(O),n(O,R,K),((I=k&&k.onVnodeMounted)||me||ve)&&ir(()=>{I&&Fr(I,J,P),me&&ue.enter(O),ve&&Ln(P,null,J,"mounted")},ee)},N=(P,R,K,J,ee)=>{if(K&&p(P,K),J)for(let oe=0;oe<J.length;oe++)p(P,J[oe]);if(ee){let oe=ee.subTree;if(R===oe){const de=ee.vnode;N(P,de,de.scopeId,de.slotScopeIds,ee.parent)}}},M=(P,R,K,J,ee,oe,de,ae,O=0)=>{for(let I=O;I<P.length;I++){const q=P[I]=ae?mn(P[I]):kr(P[I]);h(null,q,R,K,J,ee,oe,de,ae)}},A=(P,R,K,J,ee,oe,de)=>{const ae=R.el=P.el;let{patchFlag:O,dynamicChildren:I,dirs:q}=R;O|=P.patchFlag&16;const k=P.props||at,re=R.props||at;let ue;K&&Un(K,!1),(ue=re.onVnodeBeforeUpdate)&&Fr(ue,K,R,P),q&&Ln(R,P,K,"beforeUpdate"),K&&Un(K,!0);const ve=ee&&R.type!=="foreignObject";if(I?E(P.dynamicChildren,I,ae,K,J,ve,oe):de||W(P,R,ae,null,K,J,ve,oe,!1),O>0){if(O&16)D(ae,R,k,re,K,J,ee);else if(O&2&&k.class!==re.class&&a(ae,"class",null,re.class,ee),O&4&&a(ae,"style",k.style,re.style,ee),O&8){const me=R.dynamicProps;for(let he=0;he<me.length;he++){const T=me[he],S=k[T],le=re[T];(le!==S||T==="value")&&a(ae,T,S,le,ee,P.children,K,J,Y)}}O&1&&P.children!==R.children&&l(ae,R.children)}else!de&&I==null&&D(ae,R,k,re,K,J,ee);((ue=re.onVnodeUpdated)||q)&&ir(()=>{ue&&Fr(ue,K,R,P),q&&Ln(R,P,K,"updated")},J)},E=(P,R,K,J,ee,oe,de)=>{for(let ae=0;ae<R.length;ae++){const O=P[ae],I=R[ae],q=O.el&&(O.type===gt||!Wn(O,I)||O.shapeFlag&70)?s(O.el):K;h(O,I,q,null,J,ee,oe,de,!0)}},D=(P,R,K,J,ee,oe,de)=>{if(K!==J){if(K!==at)for(const ae in K)!Ao(ae)&&!(ae in J)&&a(P,ae,K[ae],null,de,R.children,ee,oe,Y);for(const ae in J){if(Ao(ae))continue;const O=J[ae],I=K[ae];O!==I&&ae!=="value"&&a(P,ae,I,O,de,R.children,ee,oe,Y)}"value"in J&&a(P,"value",K.value,J.value)}},C=(P,R,K,J,ee,oe,de,ae,O)=>{const I=R.el=P?P.el:u(""),q=R.anchor=P?P.anchor:u("");let{patchFlag:k,dynamicChildren:re,slotScopeIds:ue}=R;ue&&(ae=ae?ae.concat(ue):ue),P==null?(n(I,K,J),n(q,K,J),M(R.children,K,q,ee,oe,de,ae,O)):k>0&&k&64&&re&&P.dynamicChildren?(E(P.dynamicChildren,re,K,ee,oe,de,ae),(R.key!=null||ee&&R===ee.subTree)&&Xp(P,R,!0)):W(P,R,K,q,ee,oe,de,ae,O)},$=(P,R,K,J,ee,oe,de,ae,O)=>{R.slotScopeIds=ae,P==null?R.shapeFlag&512?ee.ctx.activate(R,K,J,de,O):L(R,K,J,ee,oe,de,O):B(P,R,O)},L=(P,R,K,J,ee,oe,de)=>{const ae=P.component=db(P,J,ee);if(Is(P)&&(ae.ctx.renderer=xe),pb(ae),ae.asyncDep){if(ee&&ee.registerDep(ae,F),!P.el){const O=ae.subTree=Be(wr);g(null,O,R,K)}return}F(ae,P,R,K,ee,oe,de)},B=(P,R,K)=>{const J=R.component=P.component;if(Sy(P,R,K))if(J.asyncDep&&!J.asyncResolved){X(J,R,K);return}else J.next=R,my(J.update),J.update();else R.el=P.el,J.vnode=R},F=(P,R,K,J,ee,oe,de)=>{const ae=()=>{if(P.isMounted){let{next:q,bu:k,u:re,parent:ue,vnode:ve}=P,me=q,he;Un(P,!1),q?(q.el=ve.el,X(P,q,de)):q=ve,k&&No(k),(he=q.props&&q.props.onVnodeBeforeUpdate)&&Fr(he,ue,q,ve),Un(P,!0);const T=Cu(P),S=P.subTree;P.subTree=T,h(S,T,s(S.el),se(S),P,ee,oe),q.el=T.el,me===null&&Ey(P,T.el),re&&ir(re,ee),(he=q.props&&q.props.onVnodeUpdated)&&ir(()=>Fr(he,ue,q,ve),ee)}else{let q;const{el:k,props:re}=R,{bm:ue,m:ve,parent:me}=P,he=ma(R);if(Un(P,!1),ue&&No(ue),!he&&(q=re&&re.onVnodeBeforeMount)&&Fr(q,me,R),Un(P,!0),k&&Ue){const T=()=>{P.subTree=Cu(P),Ue(k,P.subTree,P,ee,null)};he?R.type.__asyncLoader().then(()=>!P.isUnmounted&&T()):T()}else{const T=P.subTree=Cu(P);h(null,T,K,J,P,ee,oe),R.el=T.el}if(ve&&ir(ve,ee),!he&&(q=re&&re.onVnodeMounted)){const T=R;ir(()=>Fr(q,me,T),ee)}(R.shapeFlag&256||me&&ma(me.vnode)&&me.vnode.shapeFlag&256)&&P.a&&ir(P.a,ee),P.isMounted=!0,R=K=J=null}},O=P.effect=new mc(ae,()=>Ec(I),P.scope),I=P.update=()=>O.run();I.id=P.uid,Un(P,!0),I()},X=(P,R,K)=>{R.component=P;const J=P.vnode.props;P.vnode=R,P.next=null,Zy(P,R.props,J,K),jy(P,R.children,K),Wi(),Xf(),Yi()},W=(P,R,K,J,ee,oe,de,ae,O=!1)=>{const I=P&&P.children,q=P?P.shapeFlag:0,k=R.children,{patchFlag:re,shapeFlag:ue}=R;if(re>0){if(re&128){U(I,k,K,J,ee,oe,de,ae,O);return}else if(re&256){H(I,k,K,J,ee,oe,de,ae,O);return}}ue&8?(q&16&&Y(I,ee,oe),k!==I&&l(K,k)):q&16?ue&16?U(I,k,K,J,ee,oe,de,ae,O):Y(I,ee,oe,!0):(q&8&&l(K,""),ue&16&&M(k,K,J,ee,oe,de,ae,O))},H=(P,R,K,J,ee,oe,de,ae,O)=>{P=P||Ei,R=R||Ei;const I=P.length,q=R.length,k=Math.min(I,q);let re;for(re=0;re<k;re++){const ue=R[re]=O?mn(R[re]):kr(R[re]);h(P[re],ue,K,null,ee,oe,de,ae,O)}I>q?Y(P,ee,oe,!0,!1,k):M(R,K,J,ee,oe,de,ae,O,k)},U=(P,R,K,J,ee,oe,de,ae,O)=>{let I=0;const q=R.length;let k=P.length-1,re=q-1;for(;I<=k&&I<=re;){const ue=P[I],ve=R[I]=O?mn(R[I]):kr(R[I]);if(Wn(ue,ve))h(ue,ve,K,null,ee,oe,de,ae,O);else break;I++}for(;I<=k&&I<=re;){const ue=P[k],ve=R[re]=O?mn(R[re]):kr(R[re]);if(Wn(ue,ve))h(ue,ve,K,null,ee,oe,de,ae,O);else break;k--,re--}if(I>k){if(I<=re){const ue=re+1,ve=ue<q?R[ue].el:J;for(;I<=re;)h(null,R[I]=O?mn(R[I]):kr(R[I]),K,ve,ee,oe,de,ae,O),I++}}else if(I>re)for(;I<=k;)ie(P[I],ee,oe,!0),I++;else{const ue=I,ve=I,me=new Map;for(I=ve;I<=re;I++){const Le=R[I]=O?mn(R[I]):kr(R[I]);Le.key!=null&&me.set(Le.key,I)}let he,T=0;const S=re-ve+1;let le=!1,ye=0;const ge=new Array(S);for(I=0;I<S;I++)ge[I]=0;for(I=ue;I<=k;I++){const Le=P[I];if(T>=S){ie(Le,ee,oe,!0);continue}let Ze;if(Le.key!=null)Ze=me.get(Le.key);else for(he=ve;he<=re;he++)if(ge[he-ve]===0&&Wn(Le,R[he])){Ze=he;break}Ze===void 0?ie(Le,ee,oe,!0):(ge[Ze-ve]=I+1,Ze>=ye?ye=Ze:le=!0,h(Le,R[Ze],K,null,ee,oe,de,ae,O),T++)}const Ne=le?ib(ge):Ei;for(he=Ne.length-1,I=S-1;I>=0;I--){const Le=ve+I,Ze=R[Le],rt=Le+1<q?R[Le+1].el:J;ge[I]===0?h(null,Ze,K,rt,ee,oe,de,ae,O):le&&(he<0||I!==Ne[he]?G(Ze,K,rt,2):he--)}}},G=(P,R,K,J,ee=null)=>{const{el:oe,type:de,transition:ae,children:O,shapeFlag:I}=P;if(I&6){G(P.component.subTree,R,K,J);return}if(I&128){P.suspense.move(R,K,J);return}if(I&64){de.move(P,R,K,xe);return}if(de===gt){n(oe,R,K);for(let k=0;k<O.length;k++)G(O[k],R,K,J);n(P.anchor,R,K);return}if(de===Co){y(P,R,K);return}if(J!==2&&I&1&&ae)if(J===0)ae.beforeEnter(oe),n(oe,R,K),ir(()=>ae.enter(oe),ee);else{const{leave:k,delayLeave:re,afterLeave:ue}=ae,ve=()=>n(oe,R,K),me=()=>{k(oe,()=>{ve(),ue&&ue()})};re?re(oe,ve,me):me()}else n(oe,R,K)},ie=(P,R,K,J=!1,ee=!1)=>{const{type:oe,props:de,ref:ae,children:O,dynamicChildren:I,shapeFlag:q,patchFlag:k,dirs:re}=P;if(ae!=null&&sl(ae,null,K,P,!0),q&256){R.ctx.deactivate(P);return}const ue=q&1&&re,ve=!ma(P);let me;if(ve&&(me=de&&de.onVnodeBeforeUnmount)&&Fr(me,R,P),q&6)te(P.component,K,J);else{if(q&128){P.suspense.unmount(K,J);return}ue&&Ln(P,null,R,"beforeUnmount"),q&64?P.type.remove(P,R,K,ee,xe,J):I&&(oe!==gt||k>0&&k&64)?Y(I,R,K,!1,!0):(oe===gt&&k&384||!ee&&q&16)&&Y(O,R,K),J&&ne(P)}(ve&&(me=de&&de.onVnodeUnmounted)||ue)&&ir(()=>{me&&Fr(me,R,P),ue&&Ln(P,null,R,"unmounted")},K)},ne=P=>{const{type:R,el:K,anchor:J,transition:ee}=P;if(R===gt){Q(K,J);return}if(R===Co){w(P);return}const oe=()=>{i(K),ee&&!ee.persisted&&ee.afterLeave&&ee.afterLeave()};if(P.shapeFlag&1&&ee&&!ee.persisted){const{leave:de,delayLeave:ae}=ee,O=()=>de(K,oe);ae?ae(P.el,oe,O):O()}else oe()},Q=(P,R)=>{let K;for(;P!==R;)K=f(P),i(P),P=K;i(R)},te=(P,R,K)=>{const{bum:J,scope:ee,update:oe,subTree:de,um:ae}=P;J&&No(J),ee.stop(),oe&&(oe.active=!1,ie(de,P,R,K)),ae&&ir(ae,R),ir(()=>{P.isUnmounted=!0},R),R&&R.pendingBranch&&!R.isUnmounted&&P.asyncDep&&!P.asyncResolved&&P.suspenseId===R.pendingId&&(R.deps--,R.deps===0&&R.resolve())},Y=(P,R,K,J=!1,ee=!1,oe=0)=>{for(let de=oe;de<P.length;de++)ie(P[de],R,K,J,ee)},se=P=>P.shapeFlag&6?se(P.component.subTree):P.shapeFlag&128?P.suspense.next():f(P.anchor||P.el),we=(P,R,K)=>{P==null?R._vnode&&ie(R._vnode,null,null,!0):h(R._vnode||null,P,R,null,null,null,K),Xf(),Dp(),R._vnode=P},xe={p:h,um:ie,m:G,r:ne,mt:L,mc:M,pc:W,pbc:E,n:se,o:e};let pe,Ue;return t&&([pe,Ue]=t(xe)),{render:we,hydrate:pe,createApp:tb(we,pe)}}function Un({effect:e,update:t},r){e.allowRecurse=t.allowRecurse=r}function Xp(e,t,r=!1){const n=e.children,i=t.children;if($e(n)&&$e(i))for(let a=0;a<n.length;a++){const o=n[a];let u=i[a];u.shapeFlag&1&&!u.dynamicChildren&&((u.patchFlag<=0||u.patchFlag===32)&&(u=i[a]=mn(i[a]),u.el=o.el),r||Xp(o,u))}}function ib(e){const t=e.slice(),r=[0];let n,i,a,o,u;const c=e.length;for(n=0;n<c;n++){const d=e[n];if(d!==0){if(i=r[r.length-1],e[i]<d){t[n]=i,r.push(n);continue}for(a=0,o=r.length-1;a<o;)u=a+o>>1,e[r[u]]<d?a=u+1:o=u;d<e[r[a]]&&(a>0&&(t[n]=r[a-1]),r[a]=n)}}for(a=r.length,o=r[a-1];a-- >0;)r[a]=o,o=t[o];return r}const ab=e=>e.__isTeleport,gt=Symbol(void 0),Oc=Symbol(void 0),wr=Symbol(void 0),Co=Symbol(void 0),ga=[];let Dr=null;function Ae(e=!1){ga.push(Dr=e?null:[])}function ob(){ga.pop(),Dr=ga[ga.length-1]||null}let Ea=1;function od(e){Ea+=e}function Gp(e){return e.dynamicChildren=Ea>0?Dr||Ei:null,ob(),Ea>0&&Dr&&Dr.push(e),e}function Pe(e,t,r,n,i,a){return Gp(j(e,t,r,n,i,a,!0))}function Vr(e,t,r,n,i){return Gp(Be(e,t,r,n,i,!0))}function Go(e){return e?e.__v_isVNode===!0:!1}function Wn(e,t){return e.type===t.type&&e.key===t.key}const $s="__vInternal",Zp=({key:e})=>e!=null?e:null,Oo=({ref:e,ref_key:t,ref_for:r})=>e!=null?Rt(e)||Bt(e)||Ke(e)?{i:Vt,r:e,k:t,f:!!r}:e:null;function j(e,t=null,r=null,n=0,i=null,a=e===gt?0:1,o=!1,u=!1){const c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Zp(t),ref:t&&Oo(t),scopeId:Ps,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null};return u?(Dc(c,r),a&128&&e.normalize(c)):r&&(c.shapeFlag|=Rt(r)?8:16),Ea>0&&!o&&Dr&&(c.patchFlag>0||a&6)&&c.patchFlag!==32&&Dr.push(c),c}const Be=sb;function sb(e,t=null,r=null,n=0,i=null,a=!1){if((!e||e===Uy)&&(e=wr),Go(e)){const u=on(e,t,!0);return r&&Dc(u,r),Ea>0&&!a&&Dr&&(u.shapeFlag&6?Dr[Dr.indexOf(e)]=u:Dr.push(u)),u.patchFlag|=-2,u}if(bb(e)&&(e=e.__vccOpts),t){t=ub(t);let{class:u,style:c}=t;u&&!Rt(u)&&(t.class=tt(u)),dt(c)&&(xp(c)&&!$e(c)&&(c=kt({},c)),t.style=cc(c))}const o=Rt(e)?1:Ay(e)?128:ab(e)?64:dt(e)?4:Ke(e)?2:0;return j(e,t,r,n,i,o,a,!0)}function ub(e){return e?xp(e)||$s in e?kt({},e):e:null}function on(e,t,r=!1){const{props:n,ref:i,patchFlag:a,children:o}=e,u=t?Jp(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&Zp(u),ref:t&&t.ref?r&&i?$e(i)?i.concat(Oo(t)):[i,Oo(t)]:Oo(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==gt?a===-1?16:a|16:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&on(e.ssContent),ssFallback:e.ssFallback&&on(e.ssFallback),el:e.el,anchor:e.anchor}}function Bs(e=" ",t=0){return Be(Oc,null,e,t)}function lb(e,t){const r=Be(Co,null,e);return r.staticCount=t,r}function An(e="",t=!1){return t?(Ae(),Vr(wr,null,e)):Be(wr,null,e)}function kr(e){return e==null||typeof e=="boolean"?Be(wr):$e(e)?Be(gt,null,e.slice()):typeof e=="object"?mn(e):Be(Oc,null,String(e))}function mn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:on(e)}function Dc(e,t){let r=0;const{shapeFlag:n}=e;if(t==null)t=null;else if($e(t))r=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),Dc(e,i()),i._c&&(i._d=!0));return}else{r=32;const i=t._;!i&&!($s in t)?t._ctx=Vt:i===3&&Vt&&(Vt.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else Ke(t)?(t={default:t,_ctx:Vt},r=32):(t=String(t),n&64?(r=16,t=[Bs(t)]):r=8);e.children=t,e.shapeFlag|=r}function Jp(...e){const t={};for(let r=0;r<e.length;r++){const n=e[r];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=tt([t.class,n.class]));else if(i==="style")t.style=cc([t.style,n.style]);else if(Es(i)){const a=t[i],o=n[i];o&&a!==o&&!($e(a)&&a.includes(o))&&(t[i]=a?[].concat(a,o):o)}else i!==""&&(t[i]=n[i])}return t}function Fr(e,t,r,n=null){yr(e,t,7,[r,n])}const cb=Yp();let fb=0;function db(e,t,r){const n=e.type,i=(t?t.appContext:e.appContext)||cb,a={uid:fb++,vnode:e,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Tg(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Vp(n,i),emitsOptions:Pp(n,i),emit:null,emitted:null,propsDefaults:at,inheritAttrs:n.inheritAttrs,ctx:at,data:at,props:at,attrs:at,slots:at,refs:at,setupState:at,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=t?t.root:a,a.emit=by.bind(null,a),e.ce&&e.ce(a),a}let It=null;const hb=()=>It||Vt,Bi=e=>{It=e,e.scope.on()},ei=()=>{It&&It.scope.off(),It=null};function Qp(e){return e.vnode.shapeFlag&4}let Aa=!1;function pb(e,t=!1){Aa=t;const{props:r,children:n}=e.vnode,i=Qp(e);Gy(e,r,i,t),Qy(e,n);const a=i?vb(e,t):void 0;return Aa=!1,a}function vb(e,t){const r=e.type;e.accessCache=Object.create(null),e.proxy=Mp(new Proxy(e.ctx,Vy));const{setup:n}=r;if(n){const i=e.setupContext=n.length>1?gb(e):null;Bi(e),Wi();const a=Mn(n,e,0,[e.props,i]);if(Yi(),ei(),up(a)){if(a.then(ei,ei),t)return a.then(o=>{sd(e,o,t)}).catch(o=>{Ds(o,e,0)});e.asyncDep=a}else sd(e,a,t)}else jp(e,t)}function sd(e,t,r){Ke(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:dt(t)&&(e.setupState=Ap(t)),jp(e,r)}let ud;function jp(e,t,r){const n=e.type;if(!e.render){if(!t&&ud&&!n.render){const i=n.template||Nc(e).template;if(i){const{isCustomElement:a,compilerOptions:o}=e.appContext.config,{delimiters:u,compilerOptions:c}=n,d=kt(kt({isCustomElement:a,delimiters:u},o),c);n.render=ud(i,d)}}e.render=n.render||Pr}Bi(e),Wi(),Ky(e),Yi(),ei()}function mb(e){return new Proxy(e.attrs,{get(t,r){return fr(e,"get","$attrs"),t[r]}})}function gb(e){const t=n=>{e.exposed=n||{}};let r;return{get attrs(){return r||(r=mb(e))},slots:e.slots,emit:e.emit,expose:t}}function Fs(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Ap(Mp(e.exposed)),{get(t,r){if(r in t)return t[r];if(r in Yo)return Yo[r](e)}}))}function yb(e,t=!0){return Ke(e)?e.displayName||e.name:e.name||t&&e.__name}function bb(e){return Ke(e)&&"__vccOpts"in e}const Re=(e,t)=>hy(e,t,Aa);function Nn(e,t,r){const n=arguments.length;return n===2?dt(t)&&!$e(t)?Go(t)?Be(e,null,[t]):Be(e,t):Be(e,null,t):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&Go(r)&&(r=[r]),Be(e,t,r))}const wb="3.2.40",_b="http://www.w3.org/2000/svg",Yn=typeof document!="undefined"?document:null,ld=Yn&&Yn.createElement("template"),xb={insert:(e,t,r)=>{t.insertBefore(e,r||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,r,n)=>{const i=t?Yn.createElementNS(_b,e):Yn.createElement(e,r?{is:r}:void 0);return e==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:e=>Yn.createTextNode(e),createComment:e=>Yn.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Yn.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,r,n,i,a){const o=r?r.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),r),!(i===a||!(i=i.nextSibling)););else{ld.innerHTML=n?`<svg>${e}</svg>`:e;const u=ld.content;if(n){const c=u.firstChild;for(;c.firstChild;)u.appendChild(c.firstChild);u.removeChild(c)}t.insertBefore(u,r)}return[o?o.nextSibling:t.firstChild,r?r.previousSibling:t.lastChild]}};function Mb(e,t,r){const n=e._vtc;n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?e.removeAttribute("class"):r?e.setAttribute("class",t):e.className=t}function Sb(e,t,r){const n=e.style,i=Rt(r);if(r&&!i){for(const a in r)ul(n,a,r[a]);if(t&&!Rt(t))for(const a in t)r[a]==null&&ul(n,a,"")}else{const a=n.display;i?t!==r&&(n.cssText=r):t&&e.removeAttribute("style"),"_vod"in e&&(n.display=a)}}const cd=/\s*!important$/;function ul(e,t,r){if($e(r))r.forEach(n=>ul(e,t,n));else if(r==null&&(r=""),t.startsWith("--"))e.setProperty(t,r);else{const n=Eb(e,t);cd.test(r)?e.setProperty(Hi(n),r.replace(cd,""),"important"):e[n]=r}}const fd=["Webkit","Moz","ms"],Du={};function Eb(e,t){const r=Du[t];if(r)return r;let n=Wr(t);if(n!=="filter"&&n in e)return Du[t]=n;n=Cs(n);for(let i=0;i<fd.length;i++){const a=fd[i]+n;if(a in e)return Du[t]=a}return t}const dd="http://www.w3.org/1999/xlink";function Ab(e,t,r,n,i){if(n&&t.startsWith("xlink:"))r==null?e.removeAttributeNS(dd,t.slice(6,t.length)):e.setAttributeNS(dd,t,r);else{const a=wg(t);r==null||a&&!ap(r)?e.removeAttribute(t):e.setAttribute(t,a?"":r)}}function Nb(e,t,r,n,i,a,o){if(t==="innerHTML"||t==="textContent"){n&&o(n,i,a),e[t]=r==null?"":r;return}if(t==="value"&&e.tagName!=="PROGRESS"&&!e.tagName.includes("-")){e._value=r;const c=r==null?"":r;(e.value!==c||e.tagName==="OPTION")&&(e.value=c),r==null&&e.removeAttribute(t);return}let u=!1;if(r===""||r==null){const c=typeof e[t];c==="boolean"?r=ap(r):r==null&&c==="string"?(r="",u=!0):c==="number"&&(r=0,u=!0)}try{e[t]=r}catch{}u&&e.removeAttribute(t)}const[ev,Cb]=(()=>{let e=Date.now,t=!1;if(typeof window!="undefined"){Date.now()>document.createEvent("Event").timeStamp&&(e=performance.now.bind(performance));const r=navigator.userAgent.match(/firefox\/(\d+)/i);t=!!(r&&Number(r[1])<=53)}return[e,t]})();let ll=0;const Ob=Promise.resolve(),Db=()=>{ll=0},Tb=()=>ll||(Ob.then(Db),ll=ev());function _i(e,t,r,n){e.addEventListener(t,r,n)}function Pb(e,t,r,n){e.removeEventListener(t,r,n)}function Ib(e,t,r,n,i=null){const a=e._vei||(e._vei={}),o=a[t];if(n&&o)o.value=n;else{const[u,c]=Rb(t);if(n){const d=a[t]=$b(n,i);_i(e,u,d,c)}else o&&(Pb(e,u,o,c),a[t]=void 0)}}const hd=/(?:Once|Passive|Capture)$/;function Rb(e){let t;if(hd.test(e)){t={};let n;for(;n=e.match(hd);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Hi(e.slice(2)),t]}function $b(e,t){const r=n=>{const i=n.timeStamp||ev();(Cb||i>=r.attached-1)&&yr(Bb(n,r.value),t,5,[n])};return r.value=e,r.attached=Tb(),r}function Bb(e,t){if($e(t)){const r=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{r.call(e),e._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const pd=/^on[a-z]/,Fb=(e,t,r,n,i=!1,a,o,u,c)=>{t==="class"?Mb(e,n,i):t==="style"?Sb(e,r,n):Es(t)?fc(t)||Ib(e,t,r,n,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):zb(e,t,n,i))?Nb(e,t,n,a,o,u,c):(t==="true-value"?e._trueValue=n:t==="false-value"&&(e._falseValue=n),Ab(e,t,n,i))};function zb(e,t,r,n){return n?!!(t==="innerHTML"||t==="textContent"||t in e&&pd.test(t)&&Ke(r)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||pd.test(t)&&Rt(r)?!1:t in e}const hn="transition",ua="animation",Tc=(e,{slots:t})=>Nn(Rp,kb(e),t);Tc.displayName="Transition";const tv={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Tc.props=kt({},Rp.props,tv);const qn=(e,t=[])=>{$e(e)?e.forEach(r=>r(...t)):e&&e(...t)},vd=e=>e?$e(e)?e.some(t=>t.length>1):e.length>1:!1;function kb(e){const t={};for(const C in e)C in tv||(t[C]=e[C]);if(e.css===!1)return t;const{name:r="v",type:n,duration:i,enterFromClass:a=`${r}-enter-from`,enterActiveClass:o=`${r}-enter-active`,enterToClass:u=`${r}-enter-to`,appearFromClass:c=a,appearActiveClass:d=o,appearToClass:l=u,leaveFromClass:s=`${r}-leave-from`,leaveActiveClass:f=`${r}-leave-active`,leaveToClass:p=`${r}-leave-to`}=e,v=Lb(i),h=v&&v[0],m=v&&v[1],{onBeforeEnter:g,onEnter:b,onEnterCancelled:y,onLeave:w,onLeaveCancelled:_,onBeforeAppear:x=g,onAppear:N=b,onAppearCancelled:M=y}=t,A=(C,$,L)=>{Vn(C,$?l:u),Vn(C,$?d:o),L&&L()},E=(C,$)=>{C._isLeaving=!1,Vn(C,s),Vn(C,p),Vn(C,f),$&&$()},D=C=>($,L)=>{const B=C?N:b,F=()=>A($,C,L);qn(B,[$,F]),md(()=>{Vn($,C?c:a),pn($,C?l:u),vd(B)||gd($,n,h,F)})};return kt(t,{onBeforeEnter(C){qn(g,[C]),pn(C,a),pn(C,o)},onBeforeAppear(C){qn(x,[C]),pn(C,c),pn(C,d)},onEnter:D(!1),onAppear:D(!0),onLeave(C,$){C._isLeaving=!0;const L=()=>E(C,$);pn(C,s),Vb(),pn(C,f),md(()=>{!C._isLeaving||(Vn(C,s),pn(C,p),vd(w)||gd(C,n,m,L))}),qn(w,[C,L])},onEnterCancelled(C){A(C,!1),qn(y,[C])},onAppearCancelled(C){A(C,!0),qn(M,[C])},onLeaveCancelled(C){E(C),qn(_,[C])}})}function Lb(e){if(e==null)return null;if(dt(e))return[Tu(e.enter),Tu(e.leave)];{const t=Tu(e);return[t,t]}}function Tu(e){return Ko(e)}function pn(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.add(r)),(e._vtc||(e._vtc=new Set)).add(t)}function Vn(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.remove(n));const{_vtc:r}=e;r&&(r.delete(t),r.size||(e._vtc=void 0))}function md(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Ub=0;function gd(e,t,r,n){const i=e._endId=++Ub,a=()=>{i===e._endId&&n()};if(r)return setTimeout(a,r);const{type:o,timeout:u,propCount:c}=qb(e,t);if(!o)return n();const d=o+"end";let l=0;const s=()=>{e.removeEventListener(d,f),a()},f=p=>{p.target===e&&++l>=c&&s()};setTimeout(()=>{l<c&&s()},u+1),e.addEventListener(d,f)}function qb(e,t){const r=window.getComputedStyle(e),n=v=>(r[v]||"").split(", "),i=n(hn+"Delay"),a=n(hn+"Duration"),o=yd(i,a),u=n(ua+"Delay"),c=n(ua+"Duration"),d=yd(u,c);let l=null,s=0,f=0;t===hn?o>0&&(l=hn,s=o,f=a.length):t===ua?d>0&&(l=ua,s=d,f=c.length):(s=Math.max(o,d),l=s>0?o>d?hn:ua:null,f=l?l===hn?a.length:c.length:0);const p=l===hn&&/\b(transform|all)(,|$)/.test(r[hn+"Property"]);return{type:l,timeout:s,propCount:f,hasTransform:p}}function yd(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((r,n)=>bd(r)+bd(e[n])))}function bd(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function Vb(){return document.body.offsetHeight}const wd=e=>{const t=e.props["onUpdate:modelValue"]||!1;return $e(t)?r=>No(t,r):t};function Kb(e){e.target.composing=!0}function _d(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const or={created(e,{modifiers:{lazy:t,trim:r,number:n}},i){e._assign=wd(i);const a=n||i.props&&i.props.type==="number";_i(e,t?"change":"input",o=>{if(o.target.composing)return;let u=e.value;r&&(u=u.trim()),a&&(u=Ko(u)),e._assign(u)}),r&&_i(e,"change",()=>{e.value=e.value.trim()}),t||(_i(e,"compositionstart",Kb),_i(e,"compositionend",_d),_i(e,"change",_d))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:r,trim:n,number:i}},a){if(e._assign=wd(a),e.composing||document.activeElement===e&&e.type!=="range"&&(r||n&&e.value.trim()===t||(i||e.type==="number")&&Ko(e.value)===t))return;const o=t==null?"":t;e.value!==o&&(e.value=o)}},Hb=kt({patchProp:Fb},xb);let xd;function Wb(){return xd||(xd=rb(Hb))}const Yb=(...e)=>{const t=Wb().createApp(...e),{mount:r}=t;return t.mount=n=>{const i=Xb(n);if(!i)return;const a=t._component;!Ke(a)&&!a.render&&!a.template&&(a.template=i.innerHTML),i.innerHTML="";const o=r(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t};function Xb(e){return Rt(e)?document.querySelector(e):e}function Zo(){return Zo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zo.apply(this,arguments)}var rv={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1,randomSeed:null};function bt(e){return typeof e=="number"}function Ft(e){return!e||typeof e!="object"||typeof e.constructor!="function"?!1:e.isBigNumber===!0&&typeof e.constructor.prototype=="object"&&e.constructor.prototype.isBigNumber===!0||typeof e.constructor.isDecimal=="function"&&e.constructor.isDecimal(e)===!0}function zs(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isComplex===!0||!1}function ks(e){return e&&typeof e=="object"&&Object.getPrototypeOf(e).isFraction===!0||!1}function Pc(e){return e&&e.constructor.prototype.isUnit===!0||!1}function Lr(e){return typeof e=="string"}var it=Array.isArray;function yt(e){return e&&e.constructor.prototype.isMatrix===!0||!1}function nv(e){return Array.isArray(e)||yt(e)}function iv(e){return e&&e.isDenseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function av(e){return e&&e.isSparseMatrix&&e.constructor.prototype.isMatrix===!0||!1}function Ic(e){return e&&e.constructor.prototype.isRange===!0||!1}function Ls(e){return e&&e.constructor.prototype.isIndex===!0||!1}function Gb(e){return typeof e=="boolean"}function ov(e){return e&&e.constructor.prototype.isResultSet===!0||!1}function sv(e){return e&&e.constructor.prototype.isHelp===!0||!1}function Zb(e){return typeof e=="function"}function Jb(e){return e instanceof Date}function Qb(e){return e instanceof RegExp}function jb(e){return!!(e&&typeof e=="object"&&e.constructor===Object&&!zs(e)&&!ks(e))}function e1(e){return e===null}function t1(e){return e===void 0}function r1(e){return e&&e.isAccessorNode===!0&&e.constructor.prototype.isNode===!0||!1}function n1(e){return e&&e.isArrayNode===!0&&e.constructor.prototype.isNode===!0||!1}function i1(e){return e&&e.isAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function a1(e){return e&&e.isBlockNode===!0&&e.constructor.prototype.isNode===!0||!1}function o1(e){return e&&e.isConditionalNode===!0&&e.constructor.prototype.isNode===!0||!1}function s1(e){return e&&e.isConstantNode===!0&&e.constructor.prototype.isNode===!0||!1}function u1(e){return e&&e.isFunctionAssignmentNode===!0&&e.constructor.prototype.isNode===!0||!1}function l1(e){return e&&e.isFunctionNode===!0&&e.constructor.prototype.isNode===!0||!1}function c1(e){return e&&e.isIndexNode===!0&&e.constructor.prototype.isNode===!0||!1}function uv(e){return e&&e.isNode===!0&&e.constructor.prototype.isNode===!0||!1}function f1(e){return e&&e.isObjectNode===!0&&e.constructor.prototype.isNode===!0||!1}function d1(e){return e&&e.isOperatorNode===!0&&e.constructor.prototype.isNode===!0||!1}function h1(e){return e&&e.isParenthesisNode===!0&&e.constructor.prototype.isNode===!0||!1}function p1(e){return e&&e.isRangeNode===!0&&e.constructor.prototype.isNode===!0||!1}function v1(e){return e&&e.isSymbolNode===!0&&e.constructor.prototype.isNode===!0||!1}function lv(e){return e&&e.constructor.prototype.isChain===!0||!1}function Kr(e){var t=typeof e;return t==="object"?e===null?"null":Array.isArray(e)?"Array":e instanceof Date?"Date":e instanceof RegExp?"RegExp":Ft(e)?"BigNumber":zs(e)?"Complex":ks(e)?"Fraction":yt(e)?"Matrix":Pc(e)?"Unit":Ls(e)?"Index":Ic(e)?"Range":ov(e)?"ResultSet":uv(e)?e.type:lv(e)?"Chain":sv(e)?"Help":"Object":t==="function"?"Function":t}function Ge(e){var t=typeof e;if(t==="number"||t==="string"||t==="boolean"||e===null||e===void 0)return e;if(typeof e.clone=="function")return e.clone();if(Array.isArray(e))return e.map(function(r){return Ge(r)});if(e instanceof Date)return new Date(e.valueOf());if(Ft(e))return e;if(e instanceof RegExp)throw new TypeError("Cannot clone "+e);return m1(e,Ge)}function m1(e,t){var r={};for(var n in e)Na(e,n)&&(r[n]=t(e[n]));return r}function cv(e,t){for(var r in t)Na(t,r)&&(e[r]=t[r]);return e}function Jo(e,t){var r,n,i;if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;n++)if(!Jo(e[n],t[n]))return!1;return!0}else{if(typeof e=="function")return e===t;if(e instanceof Object){if(Array.isArray(t)||!(t instanceof Object))return!1;for(r in e)if(!(r in t)||!Jo(e[r],t[r]))return!1;for(r in t)if(!(r in e))return!1;return!0}else return e===t}}function Na(e,t){return e&&Object.hasOwnProperty.call(e,t)}function g1(e,t){for(var r={},n=0;n<t.length;n++){var i=t[n],a=e[i];a!==void 0&&(r[i]=a)}return r}var y1=["Matrix","Array"],b1=["number","BigNumber","Fraction"],pr=function(t){if(t)throw new Error(`The global config is readonly. 
Please create a mathjs instance if you want to change the default configuration. 
Example:

  import { create, all } from 'mathjs';
  const mathjs = create(all);
  mathjs.config({ number: 'BigNumber' });
`);return Object.freeze(rv)};Zo(pr,rv,{MATRIX_OPTIONS:y1,NUMBER_OPTIONS:b1});var w1=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function fv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var dv={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(w1,function(){function r(){return!0}function n(){return!1}function i(){}function a(){var o=[{name:"number",test:function(O){return typeof O=="number"}},{name:"string",test:function(O){return typeof O=="string"}},{name:"boolean",test:function(O){return typeof O=="boolean"}},{name:"Function",test:function(O){return typeof O=="function"}},{name:"Array",test:Array.isArray},{name:"Date",test:function(O){return O instanceof Date}},{name:"RegExp",test:function(O){return O instanceof RegExp}},{name:"Object",test:function(O){return typeof O=="object"&&O!==null&&O.constructor===Object}},{name:"null",test:function(O){return O===null}},{name:"undefined",test:function(O){return O===void 0}}],u={name:"any",test:r},c=[],d=[],l={types:o,conversions:d,ignore:c};function s(O){var I=J(l.types,function(k){return k.name===O});if(I)return I;if(O==="any")return u;var q=J(l.types,function(k){return k.name.toLowerCase()===O.toLowerCase()});throw new TypeError('Unknown type "'+O+'"'+(q?'. Did you mean "'+q.name+'"?':""))}function f(O){return O===u?999:l.types.indexOf(O)}function p(O){var I=J(l.types,function(q){return q.test(O)});if(I)return I.name;throw new TypeError("Value has unknown type. Value: "+O)}function v(O,I){if(!O.signatures)throw new TypeError("Function is no typed-function");var q;if(typeof I=="string"){q=I.split(",");for(var k=0;k<q.length;k++)q[k]=q[k].trim()}else if(Array.isArray(I))q=I;else throw new TypeError("String array or a comma separated string expected");var re=q.join(","),ue=O.signatures[re];if(ue)return ue;throw new TypeError("Signature not found (signature: "+(O.name||"unnamed")+"("+q.join(", ")+"))")}function h(O,I){var q=p(O);if(I===q)return O;for(var k=0;k<l.conversions.length;k++){var re=l.conversions[k];if(re.from===q&&re.to===I)return re.convert(O)}throw new Error("Cannot convert from "+q+" to "+I)}function m(O){return O.map(function(I){var q=I.types.map(A);return(I.restParam?"...":"")+q.join("|")}).join(",")}function g(O,I){var q=O.indexOf("...")===0,k=q?O.length>3?O.slice(3):"any":O,re=k.split("|").map(Y).filter(se).filter(te),ue=X(I,re),ve=re.map(function(he){var T=s(he);return{name:he,typeIndex:f(T),test:T.test,conversion:null,conversionIndex:-1}}),me=ue.map(function(he){var T=s(he.from);return{name:he.from,typeIndex:f(T),test:T.test,conversion:he,conversionIndex:I.indexOf(he)}});return{types:ve.concat(me),restParam:q}}function b(O,I,q){var k=[];return O.trim()!==""&&(k=O.split(",").map(Y).map(function(re,ue,ve){var me=g(re,q);if(me.restParam&&ue!==ve.length-1)throw new SyntaxError('Unexpected rest parameter "'+re+'": only allowed for the last parameter');return me})),k.some(xe)?null:{params:k,fn:I}}function y(O){var I=Ue(O);return I?I.restParam:!1}function w(O){return O.types.some(function(I){return I.conversion!=null})}function _(O){if(!O||O.types.length===0)return r;if(O.types.length===1)return s(O.types[0].name).test;if(O.types.length===2){var I=s(O.types[0].name).test,q=s(O.types[1].name).test;return function(ue){return I(ue)||q(ue)}}else{var k=O.types.map(function(re){return s(re.name).test});return function(ue){for(var ve=0;ve<k.length;ve++)if(k[ve](ue))return!0;return!1}}}function x(O){var I,q,k;if(y(O)){I=pe(O).map(_);var re=I.length,ue=_(Ue(O)),ve=function(me){for(var he=re;he<me.length;he++)if(!ue(me[he]))return!1;return!0};return function(he){for(var T=0;T<I.length;T++)if(!I[T](he[T]))return!1;return ve(he)&&he.length>=re+1}}else return O.length===0?function(he){return he.length===0}:O.length===1?(q=_(O[0]),function(he){return q(he[0])&&he.length===1}):O.length===2?(q=_(O[0]),k=_(O[1]),function(he){return q(he[0])&&k(he[1])&&he.length===2}):(I=O.map(_),function(he){for(var T=0;T<I.length;T++)if(!I[T](he[T]))return!1;return he.length===I.length})}function N(O,I){return I<O.params.length?O.params[I]:y(O.params)?Ue(O.params):null}function M(O,I,q){var k=N(O,I),re=k?q?k.types.filter(E):k.types:[];return re.map(A)}function A(O){return O.name}function E(O){return O.conversion===null||O.conversion===void 0}function D(O,I){var q=ee(oe(O,function(k){return M(k,I,!1)}));return q.indexOf("any")!==-1?["any"]:q}function C(O,I,q){var k,re,ue=O||"unnamed",ve=q,me;for(me=0;me<I.length;me++){var he=ve.filter(function(ye){var ge=_(N(ye,me));return(me<ye.params.length||y(ye.params))&&ge(I[me])});if(he.length===0){if(re=D(ve,me),re.length>0){var T=p(I[me]);return k=new TypeError("Unexpected type of argument in function "+ue+" (expected: "+re.join(" or ")+", actual: "+T+", index: "+me+")"),k.data={category:"wrongType",fn:ue,index:me,actual:T,expected:re},k}}else ve=he}var S=ve.map(function(ye){return y(ye.params)?1/0:ye.params.length});if(I.length<Math.min.apply(null,S))return re=D(ve,me),k=new TypeError("Too few arguments in function "+ue+" (expected: "+re.join(" or ")+", index: "+I.length+")"),k.data={category:"tooFewArgs",fn:ue,index:I.length,expected:re},k;var le=Math.max.apply(null,S);return I.length>le?(k=new TypeError("Too many arguments in function "+ue+" (expected: "+le+", actual: "+I.length+")"),k.data={category:"tooManyArgs",fn:ue,index:I.length,expectedLength:le},k):(k=new TypeError('Arguments of type "'+I.join(", ")+'" do not match any of the defined signatures of function '+ue+"."),k.data={category:"mismatch",actual:I.map(p)},k)}function $(O){for(var I=999,q=0;q<O.types.length;q++)E(O.types[q])&&(I=Math.min(I,O.types[q].typeIndex));return I}function L(O){for(var I=999,q=0;q<O.types.length;q++)E(O.types[q])||(I=Math.min(I,O.types[q].conversionIndex));return I}function B(O,I){var q;return q=O.restParam-I.restParam,q!==0||(q=w(O)-w(I),q!==0)||(q=$(O)-$(I),q!==0)?q:L(O)-L(I)}function F(O,I){var q=Math.min(O.params.length,I.params.length),k,re;if(re=O.params.some(w)-I.params.some(w),re!==0)return re;for(k=0;k<q;k++)if(re=w(O.params[k])-w(I.params[k]),re!==0)return re;for(k=0;k<q;k++)if(re=B(O.params[k],I.params[k]),re!==0)return re;return O.params.length-I.params.length}function X(O,I){var q={};return O.forEach(function(k){I.indexOf(k.from)===-1&&I.indexOf(k.to)!==-1&&!q[k.from]&&(q[k.from]=k)}),Object.keys(q).map(function(k){return q[k]})}function W(O,I){var q=I;if(O.some(w)){var k=y(O),re=O.map(H);q=function(){for(var he=[],T=k?arguments.length-1:arguments.length,S=0;S<T;S++)he[S]=re[S](arguments[S]);return k&&(he[T]=arguments[T].map(re[T])),I.apply(this,he)}}var ue=q;if(y(O)){var ve=O.length-1;ue=function(){return q.apply(this,P(arguments,0,ve).concat([P(arguments,ve)]))}}return ue}function H(O){var I,q,k,re,ue=[],ve=[];switch(O.types.forEach(function(me){me.conversion&&(ue.push(s(me.conversion.from).test),ve.push(me.conversion.convert))}),ve.length){case 0:return function(he){return he};case 1:return I=ue[0],k=ve[0],function(he){return I(he)?k(he):he};case 2:return I=ue[0],q=ue[1],k=ve[0],re=ve[1],function(he){return I(he)?k(he):q(he)?re(he):he};default:return function(he){for(var T=0;T<ve.length;T++)if(ue[T](he))return ve[T](he);return he}}}function U(O){var I={};return O.forEach(function(q){q.params.some(w)||G(q.params,!0).forEach(function(k){I[m(k)]=q.fn})}),I}function G(O,I){function q(k,re,ue){if(re<k.length){var ve=k[re],me=I?ve.types.filter(E):ve.types,he;if(ve.restParam){var T=me.filter(E);he=T.length<me.length?[T,me]:[me]}else he=me.map(function(le){return[le]});return oe(he,function(le){return q(k,re+1,ue.concat([le]))})}else{var S=ue.map(function(le,ye){return{types:le,restParam:ye===k.length-1&&y(k)}});return[S]}}return q(O,0,[])}function ie(O,I){for(var q=Math.max(O.params.length,I.params.length),k=0;k<q;k++){var re=M(O,k,!0),ue=M(I,k,!0);if(!K(re,ue))return!1}var ve=O.params.length,me=I.params.length,he=y(O.params),T=y(I.params);return he?T?ve===me:me>=ve:T?ve>=me:ve===me}function ne(O,I){if(Object.keys(I).length===0)throw new SyntaxError("No signatures provided");var q=[];Object.keys(I).map(function(nt){return b(nt,I[nt],l.conversions)}).filter(we).forEach(function(nt){var Ct=J(q,function(vr){return ie(vr,nt)});if(Ct)throw new TypeError('Conflicting signatures "'+m(Ct.params)+'" and "'+m(nt.params)+'".');q.push(nt)});var k=oe(q,function(nt){var Ct=nt?G(nt.params,!1):[];return Ct.map(function(vr){return{params:vr,fn:nt.fn}})}).filter(we);k.sort(F);var re=k[0]&&k[0].params.length<=2&&!y(k[0].params),ue=k[1]&&k[1].params.length<=2&&!y(k[1].params),ve=k[2]&&k[2].params.length<=2&&!y(k[2].params),me=k[3]&&k[3].params.length<=2&&!y(k[3].params),he=k[4]&&k[4].params.length<=2&&!y(k[4].params),T=k[5]&&k[5].params.length<=2&&!y(k[5].params),S=re&&ue&&ve&&me&&he&&T,le=k.map(function(nt){return x(nt.params)}),ye=re?_(k[0].params[0]):n,ge=ue?_(k[1].params[0]):n,Ne=ve?_(k[2].params[0]):n,Le=me?_(k[3].params[0]):n,Ze=he?_(k[4].params[0]):n,rt=T?_(k[5].params[0]):n,xr=re?_(k[0].params[1]):n,Et=ue?_(k[1].params[1]):n,ze=ve?_(k[2].params[1]):n,Mr=me?_(k[3].params[1]):n,ht=he?_(k[4].params[1]):n,Lt=T?_(k[5].params[1]):n,Sr=k.map(function(nt){return W(nt.params,nt.fn)}),Er=re?Sr[0]:i,fn=ue?Sr[1]:i,vi=ve?Sr[2]:i,mi=me?Sr[3]:i,hu=he?Sr[4]:i,Ar=T?Sr[5]:i,pu=re?k[0].params.length:-1,to=ue?k[1].params.length:-1,vu=ve?k[2].params.length:-1,mu=me?k[3].params.length:-1,gu=he?k[4].params.length:-1,ro=T?k[5].params.length:-1,ia=S?6:0,aa=k.length,no=function(){for(var Ct=ia;Ct<aa;Ct++)if(le[Ct](arguments))return Sr[Ct].apply(this,arguments);return l.onMismatch(O,arguments,k)},oa=function nt(Ct,vr){return arguments.length===pu&&ye(Ct)&&xr(vr)?Er.apply(nt,arguments):arguments.length===to&&ge(Ct)&&Et(vr)?fn.apply(nt,arguments):arguments.length===vu&&Ne(Ct)&&ze(vr)?vi.apply(nt,arguments):arguments.length===mu&&Le(Ct)&&Mr(vr)?mi.apply(nt,arguments):arguments.length===gu&&Ze(Ct)&&ht(vr)?hu.apply(nt,arguments):arguments.length===ro&&rt(Ct)&&Lt(vr)?Ar.apply(nt,arguments):no.apply(nt,arguments)};try{Object.defineProperty(oa,"name",{value:O})}catch{}return oa.signatures=U(k),oa}function Q(O,I,q){throw C(O,I,q)}function te(O){return l.ignore.indexOf(O)===-1}function Y(O){return O.trim()}function se(O){return!!O}function we(O){return O!==null}function xe(O){return O.types.length===0}function pe(O){return O.slice(0,O.length-1)}function Ue(O){return O[O.length-1]}function P(O,I,q){return Array.prototype.slice.call(O,I,q)}function R(O,I){return O.indexOf(I)!==-1}function K(O,I){for(var q=0;q<O.length;q++)if(R(I,O[q]))return!0;return!1}function J(O,I){for(var q=0;q<O.length;q++)if(I(O[q]))return O[q]}function ee(O){for(var I={},q=0;q<O.length;q++)I[O[q]]=!0;return Object.keys(I)}function oe(O,I){return Array.prototype.concat.apply([],O.map(I))}function de(O){for(var I="",q=0;q<O.length;q++){var k=O[q];if((typeof k.signatures=="object"||typeof k.signature=="string")&&k.name!==""){if(I==="")I=k.name;else if(I!==k.name){var re=new Error("Function names do not match (expected: "+I+", actual: "+k.name+")");throw re.data={actual:k.name,expected:I},re}}}return I}function ae(O){var I,q={};function k(me,he){if(q.hasOwnProperty(me)&&he!==q[me])throw I=new Error('Signature "'+me+'" is defined twice'),I.data={signature:me},I}for(var re=0;re<O.length;re++){var ue=O[re];if(typeof ue.signatures=="object")for(var ve in ue.signatures)ue.signatures.hasOwnProperty(ve)&&(k(ve,ue.signatures[ve]),q[ve]=ue.signatures[ve]);else if(typeof ue.signature=="string")k(ue.signature,ue),q[ue.signature]=ue;else throw I=new TypeError("Function is no typed-function (index: "+re+")"),I.data={index:re},I}return q}return l=ne("typed",{"string, Object":ne,Object:function(O){var I=[];for(var q in O)O.hasOwnProperty(q)&&I.push(O[q]);var k=de(I);return ne(k,O)},"...Function":function(O){return ne(de(O),ae(O))},"string, ...Function":function(O,I){return ne(O,ae(I))}}),l.create=a,l.types=o,l.conversions=d,l.ignore=c,l.onMismatch=Q,l.throwMismatchError=Q,l.createError=C,l.convert=h,l.find=v,l.addType=function(O,I){if(!O||typeof O.name!="string"||typeof O.test!="function")throw new TypeError("Object with properties {name: string, test: function} expected");if(I!==!1){for(var q=0;q<l.types.length;q++)if(l.types[q].name==="Object"){l.types.splice(q,0,O);return}}l.types.push(O)},l.addConversion=function(O){if(!O||typeof O.from!="string"||typeof O.to!="string"||typeof O.convert!="function")throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");l.conversions.push(O)},l}return a()})})(dv);var Md=dv.exports;function xt(e){return typeof e=="boolean"?!0:isFinite(e)?e===Math.round(e):!1}var _1=Math.sign||function(e){return e>0?1:e<0?-1:0};function Pu(e,t,r){var n={2:"0b",8:"0o",16:"0x"},i=n[t],a="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!xt(r))throw new Error("size must be an integer");if(e>2**(r-1)-1||e<-(2**(r-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!xt(e))throw new Error("Value must be an integer");e<0&&(e=e+2**r),a="i".concat(r)}var o="";return e<0&&(e=-e,o="-"),"".concat(o).concat(i).concat(e.toString(t)).concat(a)}function cl(e,t){if(typeof t=="function")return t(e);if(e===1/0)return"Infinity";if(e===-1/0)return"-Infinity";if(isNaN(e))return"NaN";var r="auto",n,i;if(t&&(t.notation&&(r=t.notation),bt(t)?n=t:bt(t.precision)&&(n=t.precision),t.wordSize&&(i=t.wordSize,typeof i!="number")))throw new Error('Option "wordSize" must be a number');switch(r){case"fixed":return M1(e,n);case"exponential":return hv(e,n);case"engineering":return x1(e,n);case"bin":return Pu(e,2,i);case"oct":return Pu(e,8,i);case"hex":return Pu(e,16,i);case"auto":return S1(e,n,t&&t).replace(/((\.\d*?)(0+))($|e)/,function(){var a=arguments[2],o=arguments[4];return a!=="."?a+o:o});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function Us(e){var t=String(e).toLowerCase().match(/^(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!t)throw new SyntaxError("Invalid number "+e);var r=t[1],n=t[2],i=parseFloat(t[4]||"0"),a=n.indexOf(".");i+=a!==-1?a-1:n.length-1;var o=n.replace(".","").replace(/^0*/,function(u){return i-=u.length,""}).replace(/0*$/,"").split("").map(function(u){return parseInt(u)});return o.length===0&&(o.push(0),i++),{sign:r,coefficients:o,exponent:i}}function x1(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=Us(e),n=qs(r,t),i=n.exponent,a=n.coefficients,o=i%3===0?i:i<0?i-3-i%3:i-i%3;if(bt(t))for(;t>a.length||i-o+1>a.length;)a.push(0);else for(var u=Math.abs(i-o)-(a.length-1),c=0;c<u;c++)a.push(0);for(var d=Math.abs(i-o),l=1;d>0;)l++,d--;var s=a.slice(l).join(""),f=bt(t)&&s.length||s.match(/[1-9]/)?"."+s:"",p=a.slice(0,l).join("")+f+"e"+(i>=0?"+":"")+o.toString();return n.sign+p}function M1(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=Us(e),n=typeof t=="number"?qs(r,r.exponent+1+t):r,i=n.coefficients,a=n.exponent+1,o=a+(t||0);return i.length<o&&(i=i.concat(Oi(o-i.length))),a<0&&(i=Oi(-a+1).concat(i),a=1),a<i.length&&i.splice(a,0,a===0?"0.":"."),n.sign+i.join("")}function hv(e,t){if(isNaN(e)||!isFinite(e))return String(e);var r=Us(e),n=t?qs(r,t):r,i=n.coefficients,a=n.exponent;i.length<t&&(i=i.concat(Oi(t-i.length)));var o=i.shift();return n.sign+o+(i.length>0?"."+i.join(""):"")+"e"+(a>=0?"+":"")+a}function S1(e,t,r){if(isNaN(e)||!isFinite(e))return String(e);var n=r&&r.lowerExp!==void 0?r.lowerExp:-3,i=r&&r.upperExp!==void 0?r.upperExp:5,a=Us(e),o=t?qs(a,t):a;if(o.exponent<n||o.exponent>=i)return hv(e,t);var u=o.coefficients,c=o.exponent;u.length<t&&(u=u.concat(Oi(t-u.length))),u=u.concat(Oi(c-u.length+1+(u.length<t?t-u.length:0))),u=Oi(-c).concat(u);var d=c>0?c:0;return d<u.length-1&&u.splice(d+1,0,"."),o.sign+u.join("")}function qs(e,t){for(var r={sign:e.sign,coefficients:e.coefficients,exponent:e.exponent},n=r.coefficients;t<=0;)n.unshift(0),r.exponent++,t++;if(n.length>t){var i=n.splice(t,n.length-t);if(i[0]>=5){var a=t-1;for(n[a]++;n[a]===10;)n.pop(),a===0&&(n.unshift(0),r.exponent++,a++),a--,n[a]++}}return r}function Oi(e){for(var t=[],r=0;r<e;r++)t.push(0);return t}function E1(e){return e.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length}var A1=Number.EPSILON||2220446049250313e-31;function Cn(e,t,r){if(r==null)return e===t;if(e===t)return!0;if(isNaN(e)||isNaN(t))return!1;if(isFinite(e)&&isFinite(t)){var n=Math.abs(e-t);return n<A1?!0:n<=Math.max(Math.abs(e),Math.abs(t))*r}return!1}function Iu(e,t,r){var n=e.constructor,i=new n(2),a="";if(r){if(r<1)throw new Error("size must be in greater than 0");if(!xt(r))throw new Error("size must be an integer");if(e.greaterThan(i.pow(r-1).sub(1))||e.lessThan(i.pow(r-1).mul(-1)))throw new Error("Value must be in range [-2^".concat(r-1,", 2^").concat(r-1,"-1]"));if(!e.isInteger())throw new Error("Value must be an integer");e.lessThan(0)&&(e=e.add(i.pow(r))),a="i".concat(r)}switch(t){case 2:return"".concat(e.toBinary()).concat(a);case 8:return"".concat(e.toOctal()).concat(a);case 16:return"".concat(e.toHexadecimal()).concat(a);default:throw new Error("Base ".concat(t," not supported "))}}function N1(e,t){if(typeof t=="function")return t(e);if(!e.isFinite())return e.isNaN()?"NaN":e.gt(0)?"Infinity":"-Infinity";var r="auto",n,i;if(t!==void 0&&(t.notation&&(r=t.notation),typeof t=="number"?n=t:t.precision&&(n=t.precision),t.wordSize&&(i=t.wordSize,typeof i!="number")))throw new Error('Option "wordSize" must be a number');switch(r){case"fixed":return O1(e,n);case"exponential":return Sd(e,n);case"engineering":return C1(e,n);case"bin":return Iu(e,2,i);case"oct":return Iu(e,8,i);case"hex":return Iu(e,16,i);case"auto":{var a=t&&t.lowerExp!==void 0?t.lowerExp:-3,o=t&&t.upperExp!==void 0?t.upperExp:5;if(e.isZero())return"0";var u,c=e.toSignificantDigits(n),d=c.e;return d>=a&&d<o?u=c.toFixed():u=Sd(e,n),u.replace(/((\.\d*?)(0+))($|e)/,function(){var l=arguments[2],s=arguments[4];return l!=="."?l+s:s})}default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", "fixed", "bin", "oct", or "hex.')}}function C1(e,t){var r=e.e,n=r%3===0?r:r<0?r-3-r%3:r-r%3,i=e.mul(Math.pow(10,-n)),a=i.toPrecision(t);return a.indexOf("e")!==-1&&(a=i.toString()),a+"e"+(r>=0?"+":"")+n.toString()}function Sd(e,t){return t!==void 0?e.toExponential(t-1):e.toExponential()}function O1(e,t){return e.toFixed(t)}function ct(e,t){var r=D1(e,t);return t&&typeof t=="object"&&"truncate"in t&&r.length>t.truncate?r.substring(0,t.truncate-3)+"...":r}function D1(e,t){if(typeof e=="number")return cl(e,t);if(Ft(e))return N1(e,t);if(T1(e))return!t||t.fraction!=="decimal"?e.s*e.n+"/"+e.d:e.toString();if(Array.isArray(e))return pv(e,t);if(Lr(e))return'"'+e+'"';if(typeof e=="function")return e.syntax?String(e.syntax):"function";if(e&&typeof e=="object"){if(typeof e.format=="function")return e.format(t);if(e&&e.toString(t)!=={}.toString())return e.toString(t);var r=Object.keys(e).map(n=>'"'+n+'": '+ct(e[n],t));return"{"+r.join(", ")+"}"}return String(e)}function pv(e,t){if(Array.isArray(e)){for(var r="[",n=e.length,i=0;i<n;i++)i!==0&&(r+=", "),r+=pv(e[i],t);return r+="]",r}else return ct(e,t)}function T1(e){return e&&typeof e=="object"&&typeof e.s=="number"&&typeof e.n=="number"&&typeof e.d=="number"||!1}function Qe(e,t,r){if(!(this instanceof Qe))throw new SyntaxError("Constructor must be called with the new operator");this.actual=e,this.expected=t,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(e)?"["+e.join(", ")+"]":e)+" "+(this.relation||"!=")+" "+(Array.isArray(t)?"["+t.join(", ")+"]":t)+")",this.stack=new Error().stack}Qe.prototype=new RangeError;Qe.prototype.constructor=RangeError;Qe.prototype.name="DimensionError";Qe.prototype.isDimensionError=!0;function Xi(e,t,r){if(!(this instanceof Xi))throw new SyntaxError("Constructor must be called with the new operator");this.index=e,arguments.length<3?(this.min=0,this.max=t):(this.min=t,this.max=r),this.min!==void 0&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":this.max!==void 0&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=new Error().stack}Xi.prototype=new RangeError;Xi.prototype.constructor=RangeError;Xi.prototype.name="IndexError";Xi.prototype.isIndexError=!0;function Qt(e){for(var t=[];Array.isArray(e);)t.push(e.length),e=e[0];return t}function vv(e,t,r){var n,i=e.length;if(i!==t[r])throw new Qe(i,t[r]);if(r<t.length-1){var a=r+1;for(n=0;n<i;n++){var o=e[n];if(!Array.isArray(o))throw new Qe(t.length-1,t.length,"<");vv(e[n],t,a)}}else for(n=0;n<i;n++)if(Array.isArray(e[n]))throw new Qe(t.length+1,t.length,">")}function Ed(e,t){var r=t.length===0;if(r){if(Array.isArray(e))throw new Qe(e.length,0)}else vv(e,t,0)}function vt(e,t){if(!bt(e)||!xt(e))throw new TypeError("Index must be an integer (value: "+e+")");if(e<0||typeof t=="number"&&e>=t)throw new Xi(e,t)}function Qo(e,t,r){if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Error("Resizing to scalar is not supported");t.forEach(function(i){if(!bt(i)||!xt(i)||i<0)throw new TypeError("Invalid size, must contain positive integers (size: "+ct(t)+")")});var n=r!==void 0?r:0;return fl(e,t,0,n),e}function fl(e,t,r,n){var i,a,o=e.length,u=t[r],c=Math.min(o,u);if(e.length=u,r<t.length-1){var d=r+1;for(i=0;i<c;i++)a=e[i],Array.isArray(a)||(a=[a],e[i]=a),fl(a,t,d,n);for(i=c;i<u;i++)a=[],e[i]=a,fl(a,t,d,n)}else{for(i=0;i<c;i++)for(;Array.isArray(e[i]);)e[i]=e[i][0];for(i=c;i<u;i++)e[i]=n}}function P1(e,t){var r=dl(e),n=r.length;if(!Array.isArray(e)||!Array.isArray(t))throw new TypeError("Array expected");if(t.length===0)throw new Qe(0,n,"!=");t=Rc(t,n);var i=mv(t);if(n!==i)throw new Qe(i,n,"!=");try{return I1(r,t)}catch(a){throw a instanceof Qe?new Qe(i,n,"!="):a}}function Rc(e,t){var r=mv(e),n=e.slice(),i=-1,a=e.indexOf(i),o=e.indexOf(i,a+1)>=0;if(o)throw new Error("More than one wildcard in sizes");var u=a>=0,c=t%r===0;if(u)if(c)n[a]=-t/r;else throw new Error("Could not replace wildcard, since "+t+" is no multiple of "+-r);return n}function mv(e){return e.reduce((t,r)=>t*r,1)}function I1(e,t){for(var r=e,n,i=t.length-1;i>0;i--){var a=t[i];n=[];for(var o=r.length/a,u=0;u<o;u++)n.push(r.slice(u*a,(u+1)*a));r=n}return r}function gv(e,t,r,n){var i=n||Qt(e);if(r)for(var a=0;a<r;a++)e=[e],i.unshift(1);for(e=yv(e,t,0);i.length<t;)i.push(1);return e}function yv(e,t,r){var n,i;if(Array.isArray(e)){var a=r+1;for(n=0,i=e.length;n<i;n++)e[n]=yv(e[n],t,a)}else for(var o=r;o<t;o++)e=[e];return e}function dl(e){if(!Array.isArray(e))return e;var t=[];return e.forEach(function r(n){Array.isArray(n)?n.forEach(r):t.push(n)}),t}function jo(e,t){for(var r,n=0,i=0;i<e.length;i++){var a=e[i],o=Array.isArray(a);if(i===0&&o&&(n=a.length),o&&a.length!==n)return;var u=o?jo(a,t):t(a);if(r===void 0)r=u;else if(r!==u)return"mixed"}return r}function Ee(e,t,r,n){function i(a){var o=g1(a,t.map(B1));return R1(e,t,a),r(o)}return i.isFactory=!0,i.fn=e,i.dependencies=t.slice().sort(),n&&(i.meta=n),i}function R1(e,t,r){var n=t.filter(a=>!$1(a)).every(a=>r[a]!==void 0);if(!n){var i=t.filter(a=>r[a]===void 0);throw new Error('Cannot create function "'.concat(e,'", ')+"some dependencies are missing: ".concat(i.map(a=>'"'.concat(a,'"')).join(", "),"."))}}function $1(e){return e&&e[0]==="?"}function B1(e){return e&&e[0]==="?"?e.slice(1):e}function F1(e,t){if(wv(e)&&bv(e,t))return e[t];throw typeof e[t]=="function"&&L1(e,t)?new Error('Cannot access method "'+t+'" as a property'):new Error('No access to property "'+t+'"')}function z1(e,t,r){if(wv(e)&&bv(e,t))return e[t]=r,r;throw new Error('No access to property "'+t+'"')}function k1(e,t){return t in e}function bv(e,t){return!e||typeof e!="object"?!1:Na(U1,t)?!0:!(t in Object.prototype||t in Function.prototype)}function L1(e,t){return e==null||typeof e[t]!="function"||Na(e,t)&&Object.getPrototypeOf&&t in Object.getPrototypeOf(e)?!1:Na(q1,t)?!0:!(t in Object.prototype||t in Function.prototype)}function wv(e){return typeof e=="object"&&e&&e.constructor===Object}var U1={length:!0,name:!0},q1={toString:!0,valueOf:!0,toLocaleString:!0};class V1{constructor(t){this.wrappedObject=t}keys(){return Object.keys(this.wrappedObject)}get(t){return F1(this.wrappedObject,t)}set(t,r){return z1(this.wrappedObject,t,r),this}has(t){return k1(this.wrappedObject,t)}}function K1(e){return e?e instanceof Map||e instanceof V1||typeof e.set=="function"&&typeof e.get=="function"&&typeof e.keys=="function"&&typeof e.has=="function":!1}var _v=function(){return _v=Md.create,Md},H1=["?BigNumber","?Complex","?DenseMatrix","?Fraction"],W1=Ee("typed",H1,function(t){var{BigNumber:r,Complex:n,DenseMatrix:i,Fraction:a}=t,o=_v();return o.types=[{name:"number",test:bt},{name:"Complex",test:zs},{name:"BigNumber",test:Ft},{name:"Fraction",test:ks},{name:"Unit",test:Pc},{name:"string",test:Lr},{name:"Chain",test:lv},{name:"Array",test:it},{name:"Matrix",test:yt},{name:"DenseMatrix",test:iv},{name:"SparseMatrix",test:av},{name:"Range",test:Ic},{name:"Index",test:Ls},{name:"boolean",test:Gb},{name:"ResultSet",test:ov},{name:"Help",test:sv},{name:"function",test:Zb},{name:"Date",test:Jb},{name:"RegExp",test:Qb},{name:"null",test:e1},{name:"undefined",test:t1},{name:"AccessorNode",test:r1},{name:"ArrayNode",test:n1},{name:"AssignmentNode",test:i1},{name:"BlockNode",test:a1},{name:"ConditionalNode",test:o1},{name:"ConstantNode",test:s1},{name:"FunctionNode",test:l1},{name:"FunctionAssignmentNode",test:u1},{name:"IndexNode",test:c1},{name:"Node",test:uv},{name:"ObjectNode",test:f1},{name:"OperatorNode",test:d1},{name:"ParenthesisNode",test:h1},{name:"RangeNode",test:p1},{name:"SymbolNode",test:v1},{name:"Map",test:K1},{name:"Object",test:jb}],o.conversions=[{from:"number",to:"BigNumber",convert:function(c){if(r||Ru(c),E1(c)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+c+"). Use function bignumber(x) to convert to BigNumber.");return new r(c)}},{from:"number",to:"Complex",convert:function(c){return n||po(c),new n(c,0)}},{from:"number",to:"string",convert:function(c){return c+""}},{from:"BigNumber",to:"Complex",convert:function(c){return n||po(c),new n(c.toNumber(),0)}},{from:"Fraction",to:"BigNumber",convert:function(c){throw new TypeError("Cannot implicitly convert a Fraction to BigNumber or vice versa. Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.")}},{from:"Fraction",to:"Complex",convert:function(c){return n||po(c),new n(c.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(c){a||$u(c);var d=new a(c);if(d.valueOf()!==c)throw new TypeError("Cannot implicitly convert a number to a Fraction when there will be a loss of precision (value: "+c+"). Use function fraction(x) to convert to Fraction.");return d}},{from:"string",to:"number",convert:function(c){var d=Number(c);if(isNaN(d))throw new Error('Cannot convert "'+c+'" to a number');return d}},{from:"string",to:"BigNumber",convert:function(c){r||Ru(c);try{return new r(c)}catch{throw new Error('Cannot convert "'+c+'" to BigNumber')}}},{from:"string",to:"Fraction",convert:function(c){a||$u(c);try{return new a(c)}catch{throw new Error('Cannot convert "'+c+'" to Fraction')}}},{from:"string",to:"Complex",convert:function(c){n||po(c);try{return new n(c)}catch{throw new Error('Cannot convert "'+c+'" to Complex')}}},{from:"boolean",to:"number",convert:function(c){return+c}},{from:"boolean",to:"BigNumber",convert:function(c){return r||Ru(c),new r(+c)}},{from:"boolean",to:"Fraction",convert:function(c){return a||$u(c),new a(+c)}},{from:"boolean",to:"string",convert:function(c){return String(c)}},{from:"Array",to:"Matrix",convert:function(c){return i||Y1(),new i(c)}},{from:"Matrix",to:"Array",convert:function(c){return c.valueOf()}}],o});function Ru(e){throw new Error("Cannot convert value ".concat(e," into a BigNumber: no class 'BigNumber' provided"))}function po(e){throw new Error("Cannot convert value ".concat(e," into a Complex number: no class 'Complex' provided"))}function Y1(){throw new Error("Cannot convert array into a Matrix: no class 'DenseMatrix' provided")}function $u(e){throw new Error("Cannot convert value ".concat(e," into a Fraction, no class 'Fraction' provided."))}/*!
 *  decimal.js v10.4.2
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var Mi=9e15,Bn=1e9,hl="0123456789abcdef",es="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",ts="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",pl={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-Mi,maxE:Mi,crypto:!1},xv,tn,Fe=!0,Vs="[DecimalError] ",On=Vs+"Invalid argument: ",Mv=Vs+"Precision limit exceeded",Sv=Vs+"crypto unavailable",Ev="[object Decimal]",Wt=Math.floor,Dt=Math.pow,X1=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,G1=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,Z1=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Av=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ir=1e7,De=7,J1=9007199254740991,Q1=es.length-1,vl=ts.length-1,ce={toStringTag:Ev};ce.absoluteValue=ce.abs=function(){var e=new this.constructor(this);return e.s<0&&(e.s=1),Ce(e)};ce.ceil=function(){return Ce(new this.constructor(this),this.e+1,2)};ce.clampedTo=ce.clamp=function(e,t){var r,n=this,i=n.constructor;if(e=new i(e),t=new i(t),!e.s||!t.s)return new i(NaN);if(e.gt(t))throw Error(On+t);return r=n.cmp(e),r<0?e:n.cmp(t)>0?t:new i(n)};ce.comparedTo=ce.cmp=function(e){var t,r,n,i,a=this,o=a.d,u=(e=new a.constructor(e)).d,c=a.s,d=e.s;if(!o||!u)return!c||!d?NaN:c!==d?c:o===u?0:!o^c<0?1:-1;if(!o[0]||!u[0])return o[0]?c:u[0]?-d:0;if(c!==d)return c;if(a.e!==e.e)return a.e>e.e^c<0?1:-1;for(n=o.length,i=u.length,t=0,r=n<i?n:i;t<r;++t)if(o[t]!==u[t])return o[t]>u[t]^c<0?1:-1;return n===i?0:n>i^c<0?1:-1};ce.cosine=ce.cos=function(){var e,t,r=this,n=r.constructor;return r.d?r.d[0]?(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+De,n.rounding=1,r=j1(n,Tv(n,r)),n.precision=e,n.rounding=t,Ce(tn==2||tn==3?r.neg():r,e,t,!0)):new n(1):new n(NaN)};ce.cubeRoot=ce.cbrt=function(){var e,t,r,n,i,a,o,u,c,d,l=this,s=l.constructor;if(!l.isFinite()||l.isZero())return new s(l);for(Fe=!1,a=l.s*Dt(l.s*l,1/3),!a||Math.abs(a)==1/0?(r=zt(l.d),e=l.e,(a=(e-r.length+1)%3)&&(r+=a==1||a==-2?"0":"00"),a=Dt(r,1/3),e=Wt((e+1)/3)-(e%3==(e<0?-1:2)),a==1/0?r="5e"+e:(r=a.toExponential(),r=r.slice(0,r.indexOf("e")+1)+e),n=new s(r),n.s=l.s):n=new s(a.toString()),o=(e=s.precision)+3;;)if(u=n,c=u.times(u).times(u),d=c.plus(l),n=ut(d.plus(l).times(u),d.plus(c),o+2,1),zt(u.d).slice(0,o)===(r=zt(n.d)).slice(0,o))if(r=r.slice(o-3,o+1),r=="9999"||!i&&r=="4999"){if(!i&&(Ce(u,e+1,0),u.times(u).times(u).eq(l))){n=u;break}o+=4,i=1}else{(!+r||!+r.slice(1)&&r.charAt(0)=="5")&&(Ce(n,e+1,1),t=!n.times(n).times(n).eq(l));break}return Fe=!0,Ce(n,e,s.rounding,t)};ce.decimalPlaces=ce.dp=function(){var e,t=this.d,r=NaN;if(t){if(e=t.length-1,r=(e-Wt(this.e/De))*De,e=t[e],e)for(;e%10==0;e/=10)r--;r<0&&(r=0)}return r};ce.dividedBy=ce.div=function(e){return ut(this,new this.constructor(e))};ce.dividedToIntegerBy=ce.divToInt=function(e){var t=this,r=t.constructor;return Ce(ut(t,new r(e),0,1,1),r.precision,r.rounding)};ce.equals=ce.eq=function(e){return this.cmp(e)===0};ce.floor=function(){return Ce(new this.constructor(this),this.e+1,3)};ce.greaterThan=ce.gt=function(e){return this.cmp(e)>0};ce.greaterThanOrEqualTo=ce.gte=function(e){var t=this.cmp(e);return t==1||t===0};ce.hyperbolicCosine=ce.cosh=function(){var e,t,r,n,i,a=this,o=a.constructor,u=new o(1);if(!a.isFinite())return new o(a.s?1/0:NaN);if(a.isZero())return u;r=o.precision,n=o.rounding,o.precision=r+Math.max(a.e,a.sd())+4,o.rounding=1,i=a.d.length,i<32?(e=Math.ceil(i/3),t=(1/Hs(4,e)).toString()):(e=16,t="2.3283064365386962890625e-10"),a=Fi(o,1,a.times(t),new o(1),!0);for(var c,d=e,l=new o(8);d--;)c=a.times(a),a=u.minus(c.times(l.minus(c.times(l))));return Ce(a,o.precision=r,o.rounding=n,!0)};ce.hyperbolicSine=ce.sinh=function(){var e,t,r,n,i=this,a=i.constructor;if(!i.isFinite()||i.isZero())return new a(i);if(t=a.precision,r=a.rounding,a.precision=t+Math.max(i.e,i.sd())+4,a.rounding=1,n=i.d.length,n<3)i=Fi(a,2,i,i,!0);else{e=1.4*Math.sqrt(n),e=e>16?16:e|0,i=i.times(1/Hs(5,e)),i=Fi(a,2,i,i,!0);for(var o,u=new a(5),c=new a(16),d=new a(20);e--;)o=i.times(i),i=i.times(u.plus(o.times(c.times(o).plus(d))))}return a.precision=t,a.rounding=r,Ce(i,t,r,!0)};ce.hyperbolicTangent=ce.tanh=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+7,n.rounding=1,ut(r.sinh(),r.cosh(),n.precision=e,n.rounding=t)):new n(r.s)};ce.inverseCosine=ce.acos=function(){var e,t=this,r=t.constructor,n=t.abs().cmp(1),i=r.precision,a=r.rounding;return n!==-1?n===0?t.isNeg()?Tr(r,i,a):new r(0):new r(NaN):t.isZero()?Tr(r,i+4,a).times(.5):(r.precision=i+6,r.rounding=1,t=t.asin(),e=Tr(r,i+4,a).times(.5),r.precision=i,r.rounding=a,e.minus(t))};ce.inverseHyperbolicCosine=ce.acosh=function(){var e,t,r=this,n=r.constructor;return r.lte(1)?new n(r.eq(1)?0:NaN):r.isFinite()?(e=n.precision,t=n.rounding,n.precision=e+Math.max(Math.abs(r.e),r.sd())+4,n.rounding=1,Fe=!1,r=r.times(r).minus(1).sqrt().plus(r),Fe=!0,n.precision=e,n.rounding=t,r.ln()):new n(r)};ce.inverseHyperbolicSine=ce.asinh=function(){var e,t,r=this,n=r.constructor;return!r.isFinite()||r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+2*Math.max(Math.abs(r.e),r.sd())+6,n.rounding=1,Fe=!1,r=r.times(r).plus(1).sqrt().plus(r),Fe=!0,n.precision=e,n.rounding=t,r.ln())};ce.inverseHyperbolicTangent=ce.atanh=function(){var e,t,r,n,i=this,a=i.constructor;return i.isFinite()?i.e>=0?new a(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(e=a.precision,t=a.rounding,n=i.sd(),Math.max(n,e)<2*-i.e-1?Ce(new a(i),e,t,!0):(a.precision=r=n-i.e,i=ut(i.plus(1),new a(1).minus(i),r+e,1),a.precision=e+4,a.rounding=1,i=i.ln(),a.precision=e,a.rounding=t,i.times(.5))):new a(NaN)};ce.inverseSine=ce.asin=function(){var e,t,r,n,i=this,a=i.constructor;return i.isZero()?new a(i):(t=i.abs().cmp(1),r=a.precision,n=a.rounding,t!==-1?t===0?(e=Tr(a,r+4,n).times(.5),e.s=i.s,e):new a(NaN):(a.precision=r+6,a.rounding=1,i=i.div(new a(1).minus(i.times(i)).sqrt().plus(1)).atan(),a.precision=r,a.rounding=n,i.times(2)))};ce.inverseTangent=ce.atan=function(){var e,t,r,n,i,a,o,u,c,d=this,l=d.constructor,s=l.precision,f=l.rounding;if(d.isFinite()){if(d.isZero())return new l(d);if(d.abs().eq(1)&&s+4<=vl)return o=Tr(l,s+4,f).times(.25),o.s=d.s,o}else{if(!d.s)return new l(NaN);if(s+4<=vl)return o=Tr(l,s+4,f).times(.5),o.s=d.s,o}for(l.precision=u=s+10,l.rounding=1,r=Math.min(28,u/De+2|0),e=r;e;--e)d=d.div(d.times(d).plus(1).sqrt().plus(1));for(Fe=!1,t=Math.ceil(u/De),n=1,c=d.times(d),o=new l(d),i=d;e!==-1;)if(i=i.times(c),a=o.minus(i.div(n+=2)),i=i.times(c),o=a.plus(i.div(n+=2)),o.d[t]!==void 0)for(e=t;o.d[e]===a.d[e]&&e--;);return r&&(o=o.times(2<<r-1)),Fe=!0,Ce(o,l.precision=s,l.rounding=f,!0)};ce.isFinite=function(){return!!this.d};ce.isInteger=ce.isInt=function(){return!!this.d&&Wt(this.e/De)>this.d.length-2};ce.isNaN=function(){return!this.s};ce.isNegative=ce.isNeg=function(){return this.s<0};ce.isPositive=ce.isPos=function(){return this.s>0};ce.isZero=function(){return!!this.d&&this.d[0]===0};ce.lessThan=ce.lt=function(e){return this.cmp(e)<0};ce.lessThanOrEqualTo=ce.lte=function(e){return this.cmp(e)<1};ce.logarithm=ce.log=function(e){var t,r,n,i,a,o,u,c,d=this,l=d.constructor,s=l.precision,f=l.rounding,p=5;if(e==null)e=new l(10),t=!0;else{if(e=new l(e),r=e.d,e.s<0||!r||!r[0]||e.eq(1))return new l(NaN);t=e.eq(10)}if(r=d.d,d.s<0||!r||!r[0]||d.eq(1))return new l(r&&!r[0]?-1/0:d.s!=1?NaN:r?0:1/0);if(t)if(r.length>1)a=!0;else{for(i=r[0];i%10===0;)i/=10;a=i!==1}if(Fe=!1,u=s+p,o=bn(d,u),n=t?rs(l,u+10):bn(e,u),c=ut(o,n,u,1),Ca(c.d,i=s,f))do if(u+=10,o=bn(d,u),n=t?rs(l,u+10):bn(e,u),c=ut(o,n,u,1),!a){+zt(c.d).slice(i+1,i+15)+1==1e14&&(c=Ce(c,s+1,0));break}while(Ca(c.d,i+=10,f));return Fe=!0,Ce(c,s,f)};ce.minus=ce.sub=function(e){var t,r,n,i,a,o,u,c,d,l,s,f,p=this,v=p.constructor;if(e=new v(e),!p.d||!e.d)return!p.s||!e.s?e=new v(NaN):p.d?e.s=-e.s:e=new v(e.d||p.s!==e.s?p:NaN),e;if(p.s!=e.s)return e.s=-e.s,p.plus(e);if(d=p.d,f=e.d,u=v.precision,c=v.rounding,!d[0]||!f[0]){if(f[0])e.s=-e.s;else if(d[0])e=new v(p);else return new v(c===3?-0:0);return Fe?Ce(e,u,c):e}if(r=Wt(e.e/De),l=Wt(p.e/De),d=d.slice(),a=l-r,a){for(s=a<0,s?(t=d,a=-a,o=f.length):(t=f,r=l,o=d.length),n=Math.max(Math.ceil(u/De),o)+2,a>n&&(a=n,t.length=1),t.reverse(),n=a;n--;)t.push(0);t.reverse()}else{for(n=d.length,o=f.length,s=n<o,s&&(o=n),n=0;n<o;n++)if(d[n]!=f[n]){s=d[n]<f[n];break}a=0}for(s&&(t=d,d=f,f=t,e.s=-e.s),o=d.length,n=f.length-o;n>0;--n)d[o++]=0;for(n=f.length;n>a;){if(d[--n]<f[n]){for(i=n;i&&d[--i]===0;)d[i]=Ir-1;--d[i],d[n]+=Ir}d[n]-=f[n]}for(;d[--o]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(e.d=d,e.e=Ks(d,r),Fe?Ce(e,u,c):e):new v(c===3?-0:0)};ce.modulo=ce.mod=function(e){var t,r=this,n=r.constructor;return e=new n(e),!r.d||!e.s||e.d&&!e.d[0]?new n(NaN):!e.d||r.d&&!r.d[0]?Ce(new n(r),n.precision,n.rounding):(Fe=!1,n.modulo==9?(t=ut(r,e.abs(),0,3,1),t.s*=e.s):t=ut(r,e,0,n.modulo,1),t=t.times(e),Fe=!0,r.minus(t))};ce.naturalExponential=ce.exp=function(){return ml(this)};ce.naturalLogarithm=ce.ln=function(){return bn(this)};ce.negated=ce.neg=function(){var e=new this.constructor(this);return e.s=-e.s,Ce(e)};ce.plus=ce.add=function(e){var t,r,n,i,a,o,u,c,d,l,s=this,f=s.constructor;if(e=new f(e),!s.d||!e.d)return!s.s||!e.s?e=new f(NaN):s.d||(e=new f(e.d||s.s===e.s?s:NaN)),e;if(s.s!=e.s)return e.s=-e.s,s.minus(e);if(d=s.d,l=e.d,u=f.precision,c=f.rounding,!d[0]||!l[0])return l[0]||(e=new f(s)),Fe?Ce(e,u,c):e;if(a=Wt(s.e/De),n=Wt(e.e/De),d=d.slice(),i=a-n,i){for(i<0?(r=d,i=-i,o=l.length):(r=l,n=a,o=d.length),a=Math.ceil(u/De),o=a>o?a+1:o+1,i>o&&(i=o,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(o=d.length,i=l.length,o-i<0&&(i=o,r=l,l=d,d=r),t=0;i;)t=(d[--i]=d[i]+l[i]+t)/Ir|0,d[i]%=Ir;for(t&&(d.unshift(t),++n),o=d.length;d[--o]==0;)d.pop();return e.d=d,e.e=Ks(d,n),Fe?Ce(e,u,c):e};ce.precision=ce.sd=function(e){var t,r=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(On+e);return r.d?(t=Nv(r.d),e&&r.e+1>t&&(t=r.e+1)):t=NaN,t};ce.round=function(){var e=this,t=e.constructor;return Ce(new t(e),e.e+1,t.rounding)};ce.sine=ce.sin=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+Math.max(r.e,r.sd())+De,n.rounding=1,r=tw(n,Tv(n,r)),n.precision=e,n.rounding=t,Ce(tn>2?r.neg():r,e,t,!0)):new n(NaN)};ce.squareRoot=ce.sqrt=function(){var e,t,r,n,i,a,o=this,u=o.d,c=o.e,d=o.s,l=o.constructor;if(d!==1||!u||!u[0])return new l(!d||d<0&&(!u||u[0])?NaN:u?o:1/0);for(Fe=!1,d=Math.sqrt(+o),d==0||d==1/0?(t=zt(u),(t.length+c)%2==0&&(t+="0"),d=Math.sqrt(t),c=Wt((c+1)/2)-(c<0||c%2),d==1/0?t="5e"+c:(t=d.toExponential(),t=t.slice(0,t.indexOf("e")+1)+c),n=new l(t)):n=new l(d.toString()),r=(c=l.precision)+3;;)if(a=n,n=a.plus(ut(o,a,r+2,1)).times(.5),zt(a.d).slice(0,r)===(t=zt(n.d)).slice(0,r))if(t=t.slice(r-3,r+1),t=="9999"||!i&&t=="4999"){if(!i&&(Ce(a,c+1,0),a.times(a).eq(o))){n=a;break}r+=4,i=1}else{(!+t||!+t.slice(1)&&t.charAt(0)=="5")&&(Ce(n,c+1,1),e=!n.times(n).eq(o));break}return Fe=!0,Ce(n,c,l.rounding,e)};ce.tangent=ce.tan=function(){var e,t,r=this,n=r.constructor;return r.isFinite()?r.isZero()?new n(r):(e=n.precision,t=n.rounding,n.precision=e+10,n.rounding=1,r=r.sin(),r.s=1,r=ut(r,new n(1).minus(r.times(r)).sqrt(),e+10,0),n.precision=e,n.rounding=t,Ce(tn==2||tn==4?r.neg():r,e,t,!0)):new n(NaN)};ce.times=ce.mul=function(e){var t,r,n,i,a,o,u,c,d,l=this,s=l.constructor,f=l.d,p=(e=new s(e)).d;if(e.s*=l.s,!f||!f[0]||!p||!p[0])return new s(!e.s||f&&!f[0]&&!p||p&&!p[0]&&!f?NaN:!f||!p?e.s/0:e.s*0);for(r=Wt(l.e/De)+Wt(e.e/De),c=f.length,d=p.length,c<d&&(a=f,f=p,p=a,o=c,c=d,d=o),a=[],o=c+d,n=o;n--;)a.push(0);for(n=d;--n>=0;){for(t=0,i=c+n;i>n;)u=a[i]+p[n]*f[i-n-1]+t,a[i--]=u%Ir|0,t=u/Ir|0;a[i]=(a[i]+t)%Ir|0}for(;!a[--o];)a.pop();return t?++r:a.shift(),e.d=a,e.e=Ks(a,r),Fe?Ce(e,s.precision,s.rounding):e};ce.toBinary=function(e,t){return $c(this,2,e,t)};ce.toDecimalPlaces=ce.toDP=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(sr(e,0,Bn),t===void 0?t=n.rounding:sr(t,0,8),Ce(r,e+r.e+1,t))};ce.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Yr(n,!0):(sr(e,0,Bn),t===void 0?t=i.rounding:sr(t,0,8),n=Ce(new i(n),e+1,t),r=Yr(n,!0,e+1)),n.isNeg()&&!n.isZero()?"-"+r:r};ce.toFixed=function(e,t){var r,n,i=this,a=i.constructor;return e===void 0?r=Yr(i):(sr(e,0,Bn),t===void 0?t=a.rounding:sr(t,0,8),n=Ce(new a(i),e+i.e+1,t),r=Yr(n,!1,e+n.e+1)),i.isNeg()&&!i.isZero()?"-"+r:r};ce.toFraction=function(e){var t,r,n,i,a,o,u,c,d,l,s,f,p=this,v=p.d,h=p.constructor;if(!v)return new h(p);if(d=r=new h(1),n=c=new h(0),t=new h(n),a=t.e=Nv(v)-p.e-1,o=a%De,t.d[0]=Dt(10,o<0?De+o:o),e==null)e=a>0?t:d;else{if(u=new h(e),!u.isInt()||u.lt(d))throw Error(On+u);e=u.gt(t)?a>0?t:d:u}for(Fe=!1,u=new h(zt(v)),l=h.precision,h.precision=a=v.length*De*2;s=ut(u,t,0,1,1),i=r.plus(s.times(n)),i.cmp(e)!=1;)r=n,n=i,i=d,d=c.plus(s.times(i)),c=i,i=t,t=u.minus(s.times(i)),u=i;return i=ut(e.minus(r),n,0,1,1),c=c.plus(i.times(d)),r=r.plus(i.times(n)),c.s=d.s=p.s,f=ut(d,n,a,1).minus(p).abs().cmp(ut(c,r,a,1).minus(p).abs())<1?[d,n]:[c,r],h.precision=l,Fe=!0,f};ce.toHexadecimal=ce.toHex=function(e,t){return $c(this,16,e,t)};ce.toNearest=function(e,t){var r=this,n=r.constructor;if(r=new n(r),e==null){if(!r.d)return r;e=new n(1),t=n.rounding}else{if(e=new n(e),t===void 0?t=n.rounding:sr(t,0,8),!r.d)return e.s?r:e;if(!e.d)return e.s&&(e.s=r.s),e}return e.d[0]?(Fe=!1,r=ut(r,e,0,t,1).times(e),Fe=!0,Ce(r)):(e.s=r.s,r=e),r};ce.toNumber=function(){return+this};ce.toOctal=function(e,t){return $c(this,8,e,t)};ce.toPower=ce.pow=function(e){var t,r,n,i,a,o,u=this,c=u.constructor,d=+(e=new c(e));if(!u.d||!e.d||!u.d[0]||!e.d[0])return new c(Dt(+u,d));if(u=new c(u),u.eq(1))return u;if(n=c.precision,a=c.rounding,e.eq(1))return Ce(u,n,a);if(t=Wt(e.e/De),t>=e.d.length-1&&(r=d<0?-d:d)<=J1)return i=Cv(c,u,r,n),e.s<0?new c(1).div(i):Ce(i,n,a);if(o=u.s,o<0){if(t<e.d.length-1)return new c(NaN);if((e.d[t]&1)==0&&(o=1),u.e==0&&u.d[0]==1&&u.d.length==1)return u.s=o,u}return r=Dt(+u,d),t=r==0||!isFinite(r)?Wt(d*(Math.log("0."+zt(u.d))/Math.LN10+u.e+1)):new c(r+"").e,t>c.maxE+1||t<c.minE-1?new c(t>0?o/0:0):(Fe=!1,c.rounding=u.s=1,r=Math.min(12,(t+"").length),i=ml(e.times(bn(u,n+r)),n),i.d&&(i=Ce(i,n+5,1),Ca(i.d,n,a)&&(t=n+10,i=Ce(ml(e.times(bn(u,t+r)),t),t+5,1),+zt(i.d).slice(n+1,n+15)+1==1e14&&(i=Ce(i,n+1,0)))),i.s=o,Fe=!0,c.rounding=a,Ce(i,n,a))};ce.toPrecision=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=Yr(n,n.e<=i.toExpNeg||n.e>=i.toExpPos):(sr(e,1,Bn),t===void 0?t=i.rounding:sr(t,0,8),n=Ce(new i(n),e,t),r=Yr(n,e<=n.e||n.e<=i.toExpNeg,e)),n.isNeg()&&!n.isZero()?"-"+r:r};ce.toSignificantDigits=ce.toSD=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(sr(e,1,Bn),t===void 0?t=n.rounding:sr(t,0,8)),Ce(new n(r),e,t)};ce.toString=function(){var e=this,t=e.constructor,r=Yr(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()&&!e.isZero()?"-"+r:r};ce.truncated=ce.trunc=function(){return Ce(new this.constructor(this),this.e+1,1)};ce.valueOf=ce.toJSON=function(){var e=this,t=e.constructor,r=Yr(e,e.e<=t.toExpNeg||e.e>=t.toExpPos);return e.isNeg()?"-"+r:r};function zt(e){var t,r,n,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)n=e[t]+"",r=De-n.length,r&&(a+=gn(r)),a+=n;o=e[t],n=o+"",r=De-n.length,r&&(a+=gn(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}function sr(e,t,r){if(e!==~~e||e<t||e>r)throw Error(On+e)}function Ca(e,t,r,n){var i,a,o,u;for(a=e[0];a>=10;a/=10)--t;return--t<0?(t+=De,i=0):(i=Math.ceil((t+1)/De),t%=De),a=Dt(10,De-t),u=e[i]%a|0,n==null?t<3?(t==0?u=u/100|0:t==1&&(u=u/10|0),o=r<4&&u==99999||r>3&&u==49999||u==5e4||u==0):o=(r<4&&u+1==a||r>3&&u+1==a/2)&&(e[i+1]/a/100|0)==Dt(10,t-2)-1||(u==a/2||u==0)&&(e[i+1]/a/100|0)==0:t<4?(t==0?u=u/1e3|0:t==1?u=u/100|0:t==2&&(u=u/10|0),o=(n||r<4)&&u==9999||!n&&r>3&&u==4999):o=((n||r<4)&&u+1==a||!n&&r>3&&u+1==a/2)&&(e[i+1]/a/1e3|0)==Dt(10,t-3)-1,o}function Do(e,t,r){for(var n,i=[0],a,o=0,u=e.length;o<u;){for(a=i.length;a--;)i[a]*=t;for(i[0]+=hl.indexOf(e.charAt(o++)),n=0;n<i.length;n++)i[n]>r-1&&(i[n+1]===void 0&&(i[n+1]=0),i[n+1]+=i[n]/r|0,i[n]%=r)}return i.reverse()}function j1(e,t){var r,n,i;if(t.isZero())return t;n=t.d.length,n<32?(r=Math.ceil(n/3),i=(1/Hs(4,r)).toString()):(r=16,i="2.3283064365386962890625e-10"),e.precision+=r,t=Fi(e,1,t.times(i),new e(1));for(var a=r;a--;){var o=t.times(t);t=o.times(o).minus(o).times(8).plus(1)}return e.precision-=r,t}var ut=function(){function e(n,i,a){var o,u=0,c=n.length;for(n=n.slice();c--;)o=n[c]*i+u,n[c]=o%a|0,u=o/a|0;return u&&n.unshift(u),n}function t(n,i,a,o){var u,c;if(a!=o)c=a>o?1:-1;else for(u=c=0;u<a;u++)if(n[u]!=i[u]){c=n[u]>i[u]?1:-1;break}return c}function r(n,i,a,o){for(var u=0;a--;)n[a]-=u,u=n[a]<i[a]?1:0,n[a]=u*o+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o,u,c){var d,l,s,f,p,v,h,m,g,b,y,w,_,x,N,M,A,E,D,C,$=n.constructor,L=n.s==i.s?1:-1,B=n.d,F=i.d;if(!B||!B[0]||!F||!F[0])return new $(!n.s||!i.s||(B?F&&B[0]==F[0]:!F)?NaN:B&&B[0]==0||!F?L*0:L/0);for(c?(p=1,l=n.e-i.e):(c=Ir,p=De,l=Wt(n.e/p)-Wt(i.e/p)),D=F.length,A=B.length,g=new $(L),b=g.d=[],s=0;F[s]==(B[s]||0);s++);if(F[s]>(B[s]||0)&&l--,a==null?(x=a=$.precision,o=$.rounding):u?x=a+(n.e-i.e)+1:x=a,x<0)b.push(1),v=!0;else{if(x=x/p+2|0,s=0,D==1){for(f=0,F=F[0],x++;(s<A||f)&&x--;s++)N=f*c+(B[s]||0),b[s]=N/F|0,f=N%F|0;v=f||s<A}else{for(f=c/(F[0]+1)|0,f>1&&(F=e(F,f,c),B=e(B,f,c),D=F.length,A=B.length),M=D,y=B.slice(0,D),w=y.length;w<D;)y[w++]=0;C=F.slice(),C.unshift(0),E=F[0],F[1]>=c/2&&++E;do f=0,d=t(F,y,D,w),d<0?(_=y[0],D!=w&&(_=_*c+(y[1]||0)),f=_/E|0,f>1?(f>=c&&(f=c-1),h=e(F,f,c),m=h.length,w=y.length,d=t(h,y,m,w),d==1&&(f--,r(h,D<m?C:F,m,c))):(f==0&&(d=f=1),h=F.slice()),m=h.length,m<w&&h.unshift(0),r(y,h,w,c),d==-1&&(w=y.length,d=t(F,y,D,w),d<1&&(f++,r(y,D<w?C:F,w,c))),w=y.length):d===0&&(f++,y=[0]),b[s++]=f,d&&y[0]?y[w++]=B[M]||0:(y=[B[M]],w=1);while((M++<A||y[0]!==void 0)&&x--);v=y[0]!==void 0}b[0]||b.shift()}if(p==1)g.e=l,xv=v;else{for(s=1,f=b[0];f>=10;f/=10)s++;g.e=s+l*p-1,Ce(g,u?a+g.e+1:a,o,v)}return g}}();function Ce(e,t,r,n){var i,a,o,u,c,d,l,s,f,p=e.constructor;e:if(t!=null){if(s=e.d,!s)return e;for(i=1,u=s[0];u>=10;u/=10)i++;if(a=t-i,a<0)a+=De,o=t,l=s[f=0],c=l/Dt(10,i-o-1)%10|0;else if(f=Math.ceil((a+1)/De),u=s.length,f>=u)if(n){for(;u++<=f;)s.push(0);l=c=0,i=1,a%=De,o=a-De+1}else break e;else{for(l=u=s[f],i=1;u>=10;u/=10)i++;a%=De,o=a-De+i,c=o<0?0:l/Dt(10,i-o-1)%10|0}if(n=n||t<0||s[f+1]!==void 0||(o<0?l:l%Dt(10,i-o-1)),d=r<4?(c||n)&&(r==0||r==(e.s<0?3:2)):c>5||c==5&&(r==4||n||r==6&&(a>0?o>0?l/Dt(10,i-o):0:s[f-1])%10&1||r==(e.s<0?8:7)),t<1||!s[0])return s.length=0,d?(t-=e.e+1,s[0]=Dt(10,(De-t%De)%De),e.e=-t||0):s[0]=e.e=0,e;if(a==0?(s.length=f,u=1,f--):(s.length=f+1,u=Dt(10,De-a),s[f]=o>0?(l/Dt(10,i-o)%Dt(10,o)|0)*u:0),d)for(;;)if(f==0){for(a=1,o=s[0];o>=10;o/=10)a++;for(o=s[0]+=u,u=1;o>=10;o/=10)u++;a!=u&&(e.e++,s[0]==Ir&&(s[0]=1));break}else{if(s[f]+=u,s[f]!=Ir)break;s[f--]=0,u=1}for(a=s.length;s[--a]===0;)s.pop()}return Fe&&(e.e>p.maxE?(e.d=null,e.e=NaN):e.e<p.minE&&(e.e=0,e.d=[0])),e}function Yr(e,t,r){if(!e.isFinite())return Dv(e);var n,i=e.e,a=zt(e.d),o=a.length;return t?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+gn(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(e.e<0?"e":"e+")+e.e):i<0?(a="0."+gn(-i-1)+a,r&&(n=r-o)>0&&(a+=gn(n))):i>=o?(a+=gn(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+gn(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=gn(n))),a}function Ks(e,t){var r=e[0];for(t*=De;r>=10;r/=10)t++;return t}function rs(e,t,r){if(t>Q1)throw Fe=!0,r&&(e.precision=r),Error(Mv);return Ce(new e(es),t,1,!0)}function Tr(e,t,r){if(t>vl)throw Error(Mv);return Ce(new e(ts),t,r,!0)}function Nv(e){var t=e.length-1,r=t*De+1;if(t=e[t],t){for(;t%10==0;t/=10)r--;for(t=e[0];t>=10;t/=10)r++}return r}function gn(e){for(var t="";e--;)t+="0";return t}function Cv(e,t,r,n){var i,a=new e(1),o=Math.ceil(n/De+4);for(Fe=!1;;){if(r%2&&(a=a.times(t),Nd(a.d,o)&&(i=!0)),r=Wt(r/2),r===0){r=a.d.length-1,i&&a.d[r]===0&&++a.d[r];break}t=t.times(t),Nd(t.d,o)}return Fe=!0,a}function Ad(e){return e.d[e.d.length-1]&1}function Ov(e,t,r){for(var n,i=new e(t[0]),a=0;++a<t.length;)if(n=new e(t[a]),n.s)i[r](n)&&(i=n);else{i=n;break}return i}function ml(e,t){var r,n,i,a,o,u,c,d=0,l=0,s=0,f=e.constructor,p=f.rounding,v=f.precision;if(!e.d||!e.d[0]||e.e>17)return new f(e.d?e.d[0]?e.s<0?0:1/0:1:e.s?e.s<0?0:e:0/0);for(t==null?(Fe=!1,c=v):c=t,u=new f(.03125);e.e>-2;)e=e.times(u),s+=5;for(n=Math.log(Dt(2,s))/Math.LN10*2+5|0,c+=n,r=a=o=new f(1),f.precision=c;;){if(a=Ce(a.times(e),c,1),r=r.times(++l),u=o.plus(ut(a,r,c,1)),zt(u.d).slice(0,c)===zt(o.d).slice(0,c)){for(i=s;i--;)o=Ce(o.times(o),c,1);if(t==null)if(d<3&&Ca(o.d,c-n,p,d))f.precision=c+=10,r=a=u=new f(1),l=0,d++;else return Ce(o,f.precision=v,p,Fe=!0);else return f.precision=v,o}o=u}}function bn(e,t){var r,n,i,a,o,u,c,d,l,s,f,p=1,v=10,h=e,m=h.d,g=h.constructor,b=g.rounding,y=g.precision;if(h.s<0||!m||!m[0]||!h.e&&m[0]==1&&m.length==1)return new g(m&&!m[0]?-1/0:h.s!=1?NaN:m?0:h);if(t==null?(Fe=!1,l=y):l=t,g.precision=l+=v,r=zt(m),n=r.charAt(0),Math.abs(a=h.e)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(e),r=zt(h.d),n=r.charAt(0),p++;a=h.e,n>1?(h=new g("0."+r),a++):h=new g(n+"."+r.slice(1))}else return d=rs(g,l+2,y).times(a+""),h=bn(new g(n+"."+r.slice(1)),l-v).plus(d),g.precision=y,t==null?Ce(h,y,b,Fe=!0):h;for(s=h,c=o=h=ut(h.minus(1),h.plus(1),l,1),f=Ce(h.times(h),l,1),i=3;;){if(o=Ce(o.times(f),l,1),d=c.plus(ut(o,new g(i),l,1)),zt(d.d).slice(0,l)===zt(c.d).slice(0,l))if(c=c.times(2),a!==0&&(c=c.plus(rs(g,l+2,y).times(a+""))),c=ut(c,new g(p),l,1),t==null)if(Ca(c.d,l-v,b,u))g.precision=l+=v,d=o=h=ut(s.minus(1),s.plus(1),l,1),f=Ce(h.times(h),l,1),i=u=1;else return Ce(c,g.precision=y,b,Fe=!0);else return g.precision=y,c;c=d,i+=2}}function Dv(e){return String(e.s*e.s/0)}function gl(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;n++);for(i=t.length;t.charCodeAt(i-1)===48;--i);if(t=t.slice(n,i),t){if(i-=n,e.e=r=r-n-1,e.d=[],n=(r+1)%De,r<0&&(n+=De),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=De;n<i;)e.d.push(+t.slice(n,n+=De));t=t.slice(n),n=De-t.length}else n-=i;for(;n--;)t+="0";e.d.push(+t),Fe&&(e.e>e.constructor.maxE?(e.d=null,e.e=NaN):e.e<e.constructor.minE&&(e.e=0,e.d=[0]))}else e.e=0,e.d=[0];return e}function ew(e,t){var r,n,i,a,o,u,c,d,l;if(t.indexOf("_")>-1){if(t=t.replace(/(\d)_(?=\d)/g,"$1"),Av.test(t))return gl(e,t)}else if(t==="Infinity"||t==="NaN")return+t||(e.s=NaN),e.e=NaN,e.d=null,e;if(G1.test(t))r=16,t=t.toLowerCase();else if(X1.test(t))r=2;else if(Z1.test(t))r=8;else throw Error(On+t);for(a=t.search(/p/i),a>0?(c=+t.slice(a+1),t=t.substring(2,a)):t=t.slice(2),a=t.indexOf("."),o=a>=0,n=e.constructor,o&&(t=t.replace(".",""),u=t.length,a=u-a,i=Cv(n,new n(r),a,a*2)),d=Do(t,r,Ir),l=d.length-1,a=l;d[a]===0;--a)d.pop();return a<0?new n(e.s*0):(e.e=Ks(d,l),e.d=d,Fe=!1,o&&(e=ut(e,i,u*4)),c&&(e=e.times(Math.abs(c)<54?Dt(2,c):zi.pow(2,c))),Fe=!0,e)}function tw(e,t){var r,n=t.d.length;if(n<3)return t.isZero()?t:Fi(e,2,t,t);r=1.4*Math.sqrt(n),r=r>16?16:r|0,t=t.times(1/Hs(5,r)),t=Fi(e,2,t,t);for(var i,a=new e(5),o=new e(16),u=new e(20);r--;)i=t.times(t),t=t.times(a.plus(i.times(o.times(i).minus(u))));return t}function Fi(e,t,r,n,i){var a,o,u,c,d=e.precision,l=Math.ceil(d/De);for(Fe=!1,c=r.times(r),u=new e(n);;){if(o=ut(u.times(c),new e(t++*t++),d,1),u=i?n.plus(o):n.minus(o),n=ut(o.times(c),new e(t++*t++),d,1),o=u.plus(n),o.d[l]!==void 0){for(a=l;o.d[a]===u.d[a]&&a--;);if(a==-1)break}a=u,u=n,n=o,o=a}return Fe=!0,o.d.length=l+1,o}function Hs(e,t){for(var r=e;--t;)r*=e;return r}function Tv(e,t){var r,n=t.s<0,i=Tr(e,e.precision,1),a=i.times(.5);if(t=t.abs(),t.lte(a))return tn=n?4:1,t;if(r=t.divToInt(i),r.isZero())tn=n?3:2;else{if(t=t.minus(r.times(i)),t.lte(a))return tn=Ad(r)?n?2:3:n?4:1,t;tn=Ad(r)?n?1:4:n?3:2}return t.minus(i).abs()}function $c(e,t,r,n){var i,a,o,u,c,d,l,s,f,p=e.constructor,v=r!==void 0;if(v?(sr(r,1,Bn),n===void 0?n=p.rounding:sr(n,0,8)):(r=p.precision,n=p.rounding),!e.isFinite())l=Dv(e);else{for(l=Yr(e),o=l.indexOf("."),v?(i=2,t==16?r=r*4-3:t==8&&(r=r*3-2)):i=t,o>=0&&(l=l.replace(".",""),f=new p(1),f.e=l.length-o,f.d=Do(Yr(f),10,i),f.e=f.d.length),s=Do(l,10,i),a=c=s.length;s[--c]==0;)s.pop();if(!s[0])l=v?"0p+0":"0";else{if(o<0?a--:(e=new p(e),e.d=s,e.e=a,e=ut(e,f,r,n,0,i),s=e.d,a=e.e,d=xv),o=s[r],u=i/2,d=d||s[r+1]!==void 0,d=n<4?(o!==void 0||d)&&(n===0||n===(e.s<0?3:2)):o>u||o===u&&(n===4||d||n===6&&s[r-1]&1||n===(e.s<0?8:7)),s.length=r,d)for(;++s[--r]>i-1;)s[r]=0,r||(++a,s.unshift(1));for(c=s.length;!s[c-1];--c);for(o=0,l="";o<c;o++)l+=hl.charAt(s[o]);if(v){if(c>1)if(t==16||t==8){for(o=t==16?4:3,--c;c%o;c++)l+="0";for(s=Do(l,i,t),c=s.length;!s[c-1];--c);for(o=1,l="1.";o<c;o++)l+=hl.charAt(s[o])}else l=l.charAt(0)+"."+l.slice(1);l=l+(a<0?"p":"p+")+a}else if(a<0){for(;++a;)l="0"+l;l="0."+l}else if(++a>c)for(a-=c;a--;)l+="0";else a<c&&(l=l.slice(0,a)+"."+l.slice(a))}l=(t==16?"0x":t==2?"0b":t==8?"0o":"")+l}return e.s<0?"-"+l:l}function Nd(e,t){if(e.length>t)return e.length=t,!0}function rw(e){return new this(e).abs()}function nw(e){return new this(e).acos()}function iw(e){return new this(e).acosh()}function aw(e,t){return new this(e).plus(t)}function ow(e){return new this(e).asin()}function sw(e){return new this(e).asinh()}function uw(e){return new this(e).atan()}function lw(e){return new this(e).atanh()}function cw(e,t){e=new this(e),t=new this(t);var r,n=this.precision,i=this.rounding,a=n+4;return!e.s||!t.s?r=new this(NaN):!e.d&&!t.d?(r=Tr(this,a,1).times(t.s>0?.25:.75),r.s=e.s):!t.d||e.isZero()?(r=t.s<0?Tr(this,n,i):new this(0),r.s=e.s):!e.d||t.isZero()?(r=Tr(this,a,1).times(.5),r.s=e.s):t.s<0?(this.precision=a,this.rounding=1,r=this.atan(ut(e,t,a,1)),t=Tr(this,a,1),this.precision=n,this.rounding=i,r=e.s<0?r.minus(t):r.plus(t)):r=this.atan(ut(e,t,a,1)),r}function fw(e){return new this(e).cbrt()}function dw(e){return Ce(e=new this(e),e.e+1,2)}function hw(e,t,r){return new this(e).clamp(t,r)}function pw(e){if(!e||typeof e!="object")throw Error(Vs+"Object expected");var t,r,n,i=e.defaults===!0,a=["precision",1,Bn,"rounding",0,8,"toExpNeg",-Mi,0,"toExpPos",0,Mi,"maxE",0,Mi,"minE",-Mi,0,"modulo",0,9];for(t=0;t<a.length;t+=3)if(r=a[t],i&&(this[r]=pl[r]),(n=e[r])!==void 0)if(Wt(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(On+r+": "+n);if(r="crypto",i&&(this[r]=pl[r]),(n=e[r])!==void 0)if(n===!0||n===!1||n===0||n===1)if(n)if(typeof crypto!="undefined"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[r]=!0;else throw Error(Sv);else this[r]=!1;else throw Error(On+r+": "+n);return this}function vw(e){return new this(e).cos()}function mw(e){return new this(e).cosh()}function Pv(e){var t,r,n;function i(a){var o,u,c,d=this;if(!(d instanceof i))return new i(a);if(d.constructor=i,Cd(a)){d.s=a.s,Fe?!a.d||a.e>i.maxE?(d.e=NaN,d.d=null):a.e<i.minE?(d.e=0,d.d=[0]):(d.e=a.e,d.d=a.d.slice()):(d.e=a.e,d.d=a.d?a.d.slice():a.d);return}if(c=typeof a,c==="number"){if(a===0){d.s=1/a<0?-1:1,d.e=0,d.d=[0];return}if(a<0?(a=-a,d.s=-1):d.s=1,a===~~a&&a<1e7){for(o=0,u=a;u>=10;u/=10)o++;Fe?o>i.maxE?(d.e=NaN,d.d=null):o<i.minE?(d.e=0,d.d=[0]):(d.e=o,d.d=[a]):(d.e=o,d.d=[a]);return}else if(a*0!==0){a||(d.s=NaN),d.e=NaN,d.d=null;return}return gl(d,a.toString())}else if(c!=="string")throw Error(On+a);return(u=a.charCodeAt(0))===45?(a=a.slice(1),d.s=-1):(u===43&&(a=a.slice(1)),d.s=1),Av.test(a)?gl(d,a):ew(d,a)}if(i.prototype=ce,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=pw,i.clone=Pv,i.isDecimal=Cd,i.abs=rw,i.acos=nw,i.acosh=iw,i.add=aw,i.asin=ow,i.asinh=sw,i.atan=uw,i.atanh=lw,i.atan2=cw,i.cbrt=fw,i.ceil=dw,i.clamp=hw,i.cos=vw,i.cosh=mw,i.div=gw,i.exp=yw,i.floor=bw,i.hypot=ww,i.ln=_w,i.log=xw,i.log10=Sw,i.log2=Mw,i.max=Ew,i.min=Aw,i.mod=Nw,i.mul=Cw,i.pow=Ow,i.random=Dw,i.round=Tw,i.sign=Pw,i.sin=Iw,i.sinh=Rw,i.sqrt=$w,i.sub=Bw,i.sum=Fw,i.tan=zw,i.tanh=kw,i.trunc=Lw,e===void 0&&(e={}),e&&e.defaults!==!0)for(n=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function gw(e,t){return new this(e).div(t)}function yw(e){return new this(e).exp()}function bw(e){return Ce(e=new this(e),e.e+1,3)}function ww(){var e,t,r=new this(0);for(Fe=!1,e=0;e<arguments.length;)if(t=new this(arguments[e++]),t.d)r.d&&(r=r.plus(t.times(t)));else{if(t.s)return Fe=!0,new this(1/0);r=t}return Fe=!0,r.sqrt()}function Cd(e){return e instanceof zi||e&&e.toStringTag===Ev||!1}function _w(e){return new this(e).ln()}function xw(e,t){return new this(e).log(t)}function Mw(e){return new this(e).log(2)}function Sw(e){return new this(e).log(10)}function Ew(){return Ov(this,arguments,"lt")}function Aw(){return Ov(this,arguments,"gt")}function Nw(e,t){return new this(e).mod(t)}function Cw(e,t){return new this(e).mul(t)}function Ow(e,t){return new this(e).pow(t)}function Dw(e){var t,r,n,i,a=0,o=new this(1),u=[];if(e===void 0?e=this.precision:sr(e,1,Bn),n=Math.ceil(e/De),this.crypto)if(crypto.getRandomValues)for(t=crypto.getRandomValues(new Uint32Array(n));a<n;)i=t[a],i>=429e7?t[a]=crypto.getRandomValues(new Uint32Array(1))[0]:u[a++]=i%1e7;else if(crypto.randomBytes){for(t=crypto.randomBytes(n*=4);a<n;)i=t[a]+(t[a+1]<<8)+(t[a+2]<<16)+((t[a+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(t,a):(u.push(i%1e7),a+=4);a=n/4}else throw Error(Sv);else for(;a<n;)u[a++]=Math.random()*1e7|0;for(n=u[--a],e%=De,n&&e&&(i=Dt(10,De-e),u[a]=(n/i|0)*i);u[a]===0;a--)u.pop();if(a<0)r=0,u=[0];else{for(r=-1;u[0]===0;r-=De)u.shift();for(n=1,i=u[0];i>=10;i/=10)n++;n<De&&(r-=De-n)}return o.e=r,o.d=u,o}function Tw(e){return Ce(e=new this(e),e.e+1,this.rounding)}function Pw(e){return e=new this(e),e.d?e.d[0]?e.s:0*e.s:e.s||NaN}function Iw(e){return new this(e).sin()}function Rw(e){return new this(e).sinh()}function $w(e){return new this(e).sqrt()}function Bw(e,t){return new this(e).sub(t)}function Fw(){var e=0,t=arguments,r=new this(t[e]);for(Fe=!1;r.s&&++e<t.length;)r=r.plus(t[e]);return Fe=!0,Ce(r,this.precision,this.rounding)}function zw(e){return new this(e).tan()}function kw(e){return new this(e).tanh()}function Lw(e){return Ce(e=new this(e),e.e+1,1)}ce[Symbol.for("nodejs.util.inspect.custom")]=ce.toString;ce[Symbol.toStringTag]="Decimal";var zi=ce.constructor=Pv(pl);es=new zi(es);ts=new zi(ts);var Uw="BigNumber",qw=["?on","config"],Vw=Ee(Uw,qw,e=>{var{on:t,config:r}=e,n=zi.clone({precision:r.precision,modulo:zi.EUCLID});return n.prototype=Object.create(n.prototype),n.prototype.type="BigNumber",n.prototype.isBigNumber=!0,n.prototype.toJSON=function(){return{mathjs:"BigNumber",value:this.toString()}},n.fromJSON=function(i){return new n(i.value)},t&&t("config",function(i,a){i.precision!==a.precision&&n.config({precision:i.precision})}),n},{isClass:!0}),Iv={exports:{}};/**
 * @license Complex.js v2.1.1 12/05/2020
 *
 * Copyright (c) 2020, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(e,t){(function(r){var n=Math.cosh||function(s){return Math.abs(s)<1e-9?1-s:(Math.exp(s)+Math.exp(-s))*.5},i=Math.sinh||function(s){return Math.abs(s)<1e-9?s:(Math.exp(s)-Math.exp(-s))*.5},a=function(s){var f=Math.PI/4;if(-f>s||s>f)return Math.cos(s)-1;var p=s*s;return p*(p*(p*(p*(p*(p*(p*(p/20922789888e3-1/87178291200)+1/479001600)-1/3628800)+1/40320)-1/720)+1/24)-1/2)},o=function(s,f){var p=Math.abs(s),v=Math.abs(f);return p<3e3&&v<3e3?Math.sqrt(p*p+v*v):(p<v?(p=v,v=s/f):v=f/s,p*Math.sqrt(1+v*v))},u=function(){throw SyntaxError("Invalid Param")};function c(s,f){var p=Math.abs(s),v=Math.abs(f);return s===0?Math.log(v):f===0?Math.log(p):p<3e3&&v<3e3?Math.log(s*s+f*f)*.5:(s=s/2,f=f/2,.5*Math.log(s*s+f*f)+Math.LN2)}var d=function(s,f){var p={re:0,im:0};if(s==null)p.re=p.im=0;else if(f!==void 0)p.re=s,p.im=f;else switch(typeof s){case"object":if("im"in s&&"re"in s)p.re=s.re,p.im=s.im;else if("abs"in s&&"arg"in s){if(!Number.isFinite(s.abs)&&Number.isFinite(s.arg))return l.INFINITY;p.re=s.abs*Math.cos(s.arg),p.im=s.abs*Math.sin(s.arg)}else if("r"in s&&"phi"in s){if(!Number.isFinite(s.r)&&Number.isFinite(s.phi))return l.INFINITY;p.re=s.r*Math.cos(s.phi),p.im=s.r*Math.sin(s.phi)}else s.length===2?(p.re=s[0],p.im=s[1]):u();break;case"string":p.im=p.re=0;var v=s.match(/\d+\.?\d*e[+-]?\d+|\d+\.?\d*|\.\d+|./g),h=1,m=0;v===null&&u();for(var g=0;g<v.length;g++){var b=v[g];b===" "||b==="	"||b===`
`||(b==="+"?h++:b==="-"?m++:b==="i"||b==="I"?(h+m===0&&u(),v[g+1]!==" "&&!isNaN(v[g+1])?(p.im+=parseFloat((m%2?"-":"")+v[g+1]),g++):p.im+=parseFloat((m%2?"-":"")+"1"),h=m=0):((h+m===0||isNaN(b))&&u(),v[g+1]==="i"||v[g+1]==="I"?(p.im+=parseFloat((m%2?"-":"")+b),g++):p.re+=parseFloat((m%2?"-":"")+b),h=m=0))}h+m>0&&u();break;case"number":p.im=0,p.re=s;break;default:u()}return isNaN(p.re)||isNaN(p.im),p};function l(s,f){if(!(this instanceof l))return new l(s,f);var p=d(s,f);this.re=p.re,this.im=p.im}l.prototype={re:0,im:0,sign:function(){var s=this.abs();return new l(this.re/s,this.im/s)},add:function(s,f){var p=new l(s,f);return this.isInfinite()&&p.isInfinite()?l.NAN:this.isInfinite()||p.isInfinite()?l.INFINITY:new l(this.re+p.re,this.im+p.im)},sub:function(s,f){var p=new l(s,f);return this.isInfinite()&&p.isInfinite()?l.NAN:this.isInfinite()||p.isInfinite()?l.INFINITY:new l(this.re-p.re,this.im-p.im)},mul:function(s,f){var p=new l(s,f);return this.isInfinite()&&p.isZero()||this.isZero()&&p.isInfinite()?l.NAN:this.isInfinite()||p.isInfinite()?l.INFINITY:p.im===0&&this.im===0?new l(this.re*p.re,0):new l(this.re*p.re-this.im*p.im,this.re*p.im+this.im*p.re)},div:function(s,f){var p=new l(s,f);if(this.isZero()&&p.isZero()||this.isInfinite()&&p.isInfinite())return l.NAN;if(this.isInfinite()||p.isZero())return l.INFINITY;if(this.isZero()||p.isInfinite())return l.ZERO;s=this.re,f=this.im;var v=p.re,h=p.im,m,g;return h===0?new l(s/v,f/v):Math.abs(v)<Math.abs(h)?(g=v/h,m=v*g+h,new l((s*g+f)/m,(f*g-s)/m)):(g=h/v,m=h*g+v,new l((s+f*g)/m,(f-s*g)/m))},pow:function(s,f){var p=new l(s,f);if(s=this.re,f=this.im,p.isZero())return l.ONE;if(p.im===0){if(f===0&&s>0)return new l(Math.pow(s,p.re),0);if(s===0)switch((p.re%4+4)%4){case 0:return new l(Math.pow(f,p.re),0);case 1:return new l(0,Math.pow(f,p.re));case 2:return new l(-Math.pow(f,p.re),0);case 3:return new l(0,-Math.pow(f,p.re))}}if(s===0&&f===0&&p.re>0&&p.im>=0)return l.ZERO;var v=Math.atan2(f,s),h=c(s,f);return s=Math.exp(p.re*h-p.im*v),f=p.im*h+p.re*v,new l(s*Math.cos(f),s*Math.sin(f))},sqrt:function(){var s=this.re,f=this.im,p=this.abs(),v,h;if(s>=0){if(f===0)return new l(Math.sqrt(s),0);v=.5*Math.sqrt(2*(p+s))}else v=Math.abs(f)/Math.sqrt(2*(p-s));return s<=0?h=.5*Math.sqrt(2*(p-s)):h=Math.abs(f)/Math.sqrt(2*(p+s)),new l(v,f<0?-h:h)},exp:function(){var s=Math.exp(this.re);return this.im,new l(s*Math.cos(this.im),s*Math.sin(this.im))},expm1:function(){var s=this.re,f=this.im;return new l(Math.expm1(s)*Math.cos(f)+a(f),Math.exp(s)*Math.sin(f))},log:function(){var s=this.re,f=this.im;return new l(c(s,f),Math.atan2(f,s))},abs:function(){return o(this.re,this.im)},arg:function(){return Math.atan2(this.im,this.re)},sin:function(){var s=this.re,f=this.im;return new l(Math.sin(s)*n(f),Math.cos(s)*i(f))},cos:function(){var s=this.re,f=this.im;return new l(Math.cos(s)*n(f),-Math.sin(s)*i(f))},tan:function(){var s=2*this.re,f=2*this.im,p=Math.cos(s)+n(f);return new l(Math.sin(s)/p,i(f)/p)},cot:function(){var s=2*this.re,f=2*this.im,p=Math.cos(s)-n(f);return new l(-Math.sin(s)/p,i(f)/p)},sec:function(){var s=this.re,f=this.im,p=.5*n(2*f)+.5*Math.cos(2*s);return new l(Math.cos(s)*n(f)/p,Math.sin(s)*i(f)/p)},csc:function(){var s=this.re,f=this.im,p=.5*n(2*f)-.5*Math.cos(2*s);return new l(Math.sin(s)*n(f)/p,-Math.cos(s)*i(f)/p)},asin:function(){var s=this.re,f=this.im,p=new l(f*f-s*s+1,-2*s*f).sqrt(),v=new l(p.re-f,p.im+s).log();return new l(v.im,-v.re)},acos:function(){var s=this.re,f=this.im,p=new l(f*f-s*s+1,-2*s*f).sqrt(),v=new l(p.re-f,p.im+s).log();return new l(Math.PI/2-v.im,v.re)},atan:function(){var s=this.re,f=this.im;if(s===0){if(f===1)return new l(0,1/0);if(f===-1)return new l(0,-1/0)}var p=s*s+(1-f)*(1-f),v=new l((1-f*f-s*s)/p,-2*s/p).log();return new l(-.5*v.im,.5*v.re)},acot:function(){var s=this.re,f=this.im;if(f===0)return new l(Math.atan2(1,s),0);var p=s*s+f*f;return p!==0?new l(s/p,-f/p).atan():new l(s!==0?s/0:0,f!==0?-f/0:0).atan()},asec:function(){var s=this.re,f=this.im;if(s===0&&f===0)return new l(0,1/0);var p=s*s+f*f;return p!==0?new l(s/p,-f/p).acos():new l(s!==0?s/0:0,f!==0?-f/0:0).acos()},acsc:function(){var s=this.re,f=this.im;if(s===0&&f===0)return new l(Math.PI/2,1/0);var p=s*s+f*f;return p!==0?new l(s/p,-f/p).asin():new l(s!==0?s/0:0,f!==0?-f/0:0).asin()},sinh:function(){var s=this.re,f=this.im;return new l(i(s)*Math.cos(f),n(s)*Math.sin(f))},cosh:function(){var s=this.re,f=this.im;return new l(n(s)*Math.cos(f),i(s)*Math.sin(f))},tanh:function(){var s=2*this.re,f=2*this.im,p=n(s)+Math.cos(f);return new l(i(s)/p,Math.sin(f)/p)},coth:function(){var s=2*this.re,f=2*this.im,p=n(s)-Math.cos(f);return new l(i(s)/p,-Math.sin(f)/p)},csch:function(){var s=this.re,f=this.im,p=Math.cos(2*f)-n(2*s);return new l(-2*i(s)*Math.cos(f)/p,2*n(s)*Math.sin(f)/p)},sech:function(){var s=this.re,f=this.im,p=Math.cos(2*f)+n(2*s);return new l(2*n(s)*Math.cos(f)/p,-2*i(s)*Math.sin(f)/p)},asinh:function(){var s=this.im;this.im=-this.re,this.re=s;var f=this.asin();return this.re=-this.im,this.im=s,s=f.re,f.re=-f.im,f.im=s,f},acosh:function(){var s=this.acos();if(s.im<=0){var f=s.re;s.re=-s.im,s.im=f}else{var f=s.im;s.im=-s.re,s.re=f}return s},atanh:function(){var s=this.re,f=this.im,p=s>1&&f===0,v=1-s,h=1+s,m=v*v+f*f,g=m!==0?new l((h*v-f*f)/m,(f*v+h*f)/m):new l(s!==-1?s/0:0,f!==0?f/0:0),b=g.re;return g.re=c(g.re,g.im)/2,g.im=Math.atan2(g.im,b)/2,p&&(g.im=-g.im),g},acoth:function(){var s=this.re,f=this.im;if(s===0&&f===0)return new l(0,Math.PI/2);var p=s*s+f*f;return p!==0?new l(s/p,-f/p).atanh():new l(s!==0?s/0:0,f!==0?-f/0:0).atanh()},acsch:function(){var s=this.re,f=this.im;if(f===0)return new l(s!==0?Math.log(s+Math.sqrt(s*s+1)):1/0,0);var p=s*s+f*f;return p!==0?new l(s/p,-f/p).asinh():new l(s!==0?s/0:0,f!==0?-f/0:0).asinh()},asech:function(){var s=this.re,f=this.im;if(this.isZero())return l.INFINITY;var p=s*s+f*f;return p!==0?new l(s/p,-f/p).acosh():new l(s!==0?s/0:0,f!==0?-f/0:0).acosh()},inverse:function(){if(this.isZero())return l.INFINITY;if(this.isInfinite())return l.ZERO;var s=this.re,f=this.im,p=s*s+f*f;return new l(s/p,-f/p)},conjugate:function(){return new l(this.re,-this.im)},neg:function(){return new l(-this.re,-this.im)},ceil:function(s){return s=Math.pow(10,s||0),new l(Math.ceil(this.re*s)/s,Math.ceil(this.im*s)/s)},floor:function(s){return s=Math.pow(10,s||0),new l(Math.floor(this.re*s)/s,Math.floor(this.im*s)/s)},round:function(s){return s=Math.pow(10,s||0),new l(Math.round(this.re*s)/s,Math.round(this.im*s)/s)},equals:function(s,f){var p=new l(s,f);return Math.abs(p.re-this.re)<=l.EPSILON&&Math.abs(p.im-this.im)<=l.EPSILON},clone:function(){return new l(this.re,this.im)},toString:function(){var s=this.re,f=this.im,p="";return this.isNaN()?"NaN":this.isInfinite()?"Infinity":(Math.abs(s)<l.EPSILON&&(s=0),Math.abs(f)<l.EPSILON&&(f=0),f===0?p+s:(s!==0?(p+=s,p+=" ",f<0?(f=-f,p+="-"):p+="+",p+=" "):f<0&&(f=-f,p+="-"),f!==1&&(p+=f),p+"i"))},toVector:function(){return[this.re,this.im]},valueOf:function(){return this.im===0?this.re:null},isNaN:function(){return isNaN(this.re)||isNaN(this.im)},isZero:function(){return this.im===0&&this.re===0},isFinite:function(){return isFinite(this.re)&&isFinite(this.im)},isInfinite:function(){return!(this.isNaN()||this.isFinite())}},l.ZERO=new l(0,0),l.ONE=new l(1,0),l.I=new l(0,1),l.PI=new l(Math.PI,0),l.E=new l(Math.E,0),l.INFINITY=new l(1/0,1/0),l.NAN=new l(NaN,NaN),l.EPSILON=1e-15,Object.defineProperty(l,"__esModule",{value:!0}),l.default=l,l.Complex=l,e.exports=l})()})(Iv);var nr=fv(Iv.exports),Kw="Complex",Hw=[],Ww=Ee(Kw,Hw,()=>(nr.prototype.type="Complex",nr.prototype.isComplex=!0,nr.prototype.toJSON=function(){return{mathjs:"Complex",re:this.re,im:this.im}},nr.prototype.toPolar=function(){return{r:this.abs(),phi:this.arg()}},nr.prototype.format=function(e){var t="",r=this.im,n=this.re,i=cl(this.re,e),a=cl(this.im,e),o=bt(e)?e:e?e.precision:null;if(o!==null){var u=Math.pow(10,-o);Math.abs(n/r)<u&&(n=0),Math.abs(r/n)<u&&(r=0)}return r===0?t=i:n===0?r===1?t="i":r===-1?t="-i":t=a+"i":r<0?r===-1?t=i+" - i":t=i+" - "+a.substring(1)+"i":r===1?t=i+" + i":t=i+" + "+a+"i",t},nr.fromPolar=function(e){switch(arguments.length){case 1:{var t=arguments[0];if(typeof t=="object")return nr(t);throw new TypeError("Input has to be an object with r and phi keys.")}case 2:{var r=arguments[0],n=arguments[1];if(bt(r)){if(Pc(n)&&n.hasBase("ANGLE")&&(n=n.toNumber("rad")),bt(n))return new nr({r,phi:n});throw new TypeError("Phi is not a number nor an angle unit.")}else throw new TypeError("Radius r is not a number.")}default:throw new SyntaxError("Wrong number of arguments in function fromPolar")}},nr.prototype.valueOf=nr.prototype.toString,nr.fromJSON=function(e){return new nr(e)},nr.compare=function(e,t){return e.re>t.re?1:e.re<t.re?-1:e.im>t.im?1:e.im<t.im?-1:0},nr),{isClass:!0}),Rv={exports:{}};/**
 * @license Fraction.js v4.2.0 05/03/2022
 * https://www.xarg.org/2014/03/rational-numbers-in-javascript/
 *
 * Copyright (c) 2021, Robert Eisele (robert@xarg.org)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 **/(function(e,t){(function(r){var n=2e3,i={s:1,n:0,d:1};function a(v,h){if(isNaN(v=parseInt(v,10)))throw p.InvalidParameter;return v*h}function o(v,h){if(h===0)throw p.DivisionByZero;var m=Object.create(p.prototype);m.s=v<0?-1:1,v=v<0?-v:v;var g=f(v,h);return m.n=v/g,m.d=h/g,m}function u(v){for(var h={},m=v,g=2,b=4;b<=m;){for(;m%g===0;)m/=g,h[g]=(h[g]||0)+1;b+=1+2*g++}return m!==v?m>1&&(h[m]=(h[m]||0)+1):h[v]=(h[v]||0)+1,h}var c=function(v,h){var m=0,g=1,b=1,y=0,w=0,_=0,x=1,N=1,M=0,A=1,E=1,D=1,C=1e7,$;if(v!=null)if(h!==void 0){if(m=v,g=h,b=m*g,m%1!==0||g%1!==0)throw p.NonIntegerParameter}else switch(typeof v){case"object":{if("d"in v&&"n"in v)m=v.n,g=v.d,"s"in v&&(m*=v.s);else if(0 in v)m=v[0],1 in v&&(g=v[1]);else throw p.InvalidParameter;b=m*g;break}case"number":{if(v<0&&(b=v,v=-v),v%1===0)m=v;else if(v>0){for(v>=1&&(N=Math.pow(10,Math.floor(1+Math.log(v)/Math.LN10)),v/=N);A<=C&&D<=C;)if($=(M+E)/(A+D),v===$){A+D<=C?(m=M+E,g=A+D):D>A?(m=E,g=D):(m=M,g=A);break}else v>$?(M+=E,A+=D):(E+=M,D+=A),A>C?(m=E,g=D):(m=M,g=A);m*=N}else(isNaN(v)||isNaN(h))&&(g=m=NaN);break}case"string":{if(A=v.match(/\d+|./g),A===null)throw p.InvalidParameter;if(A[M]==="-"?(b=-1,M++):A[M]==="+"&&M++,A.length===M+1?w=a(A[M++],b):A[M+1]==="."||A[M]==="."?(A[M]!=="."&&(y=a(A[M++],b)),M++,(M+1===A.length||A[M+1]==="("&&A[M+3]===")"||A[M+1]==="'"&&A[M+3]==="'")&&(w=a(A[M],b),x=Math.pow(10,A[M].length),M++),(A[M]==="("&&A[M+2]===")"||A[M]==="'"&&A[M+2]==="'")&&(_=a(A[M+1],b),N=Math.pow(10,A[M+1].length)-1,M+=3)):A[M+1]==="/"||A[M+1]===":"?(w=a(A[M],b),x=a(A[M+2],1),M+=3):A[M+3]==="/"&&A[M+1]===" "&&(y=a(A[M],b),w=a(A[M+2],b),x=a(A[M+4],1),M+=5),A.length<=M){g=x*N,b=m=_+g*y+N*w;break}}default:throw p.InvalidParameter}if(g===0)throw p.DivisionByZero;i.s=b<0?-1:1,i.n=Math.abs(m),i.d=Math.abs(g)};function d(v,h,m){for(var g=1;h>0;v=v*v%m,h>>=1)h&1&&(g=g*v%m);return g}function l(v,h){for(;h%2===0;h/=2);for(;h%5===0;h/=5);if(h===1)return 0;for(var m=10%h,g=1;m!==1;g++)if(m=m*10%h,g>n)return 0;return g}function s(v,h,m){for(var g=1,b=d(10,m,h),y=0;y<300;y++){if(g===b)return y;g=g*10%h,b=b*10%h}return 0}function f(v,h){if(!v)return h;if(!h)return v;for(;;){if(v%=h,!v)return h;if(h%=v,!h)return v}}function p(v,h){if(c(v,h),this instanceof p)v=f(i.d,i.n),this.s=i.s,this.n=i.n/v,this.d=i.d/v;else return o(i.s*i.n,i.d)}p.DivisionByZero=new Error("Division by Zero"),p.InvalidParameter=new Error("Invalid argument"),p.NonIntegerParameter=new Error("Parameters must be integer"),p.prototype={s:1,n:0,d:1,abs:function(){return o(this.n,this.d)},neg:function(){return o(-this.s*this.n,this.d)},add:function(v,h){return c(v,h),o(this.s*this.n*i.d+i.s*this.d*i.n,this.d*i.d)},sub:function(v,h){return c(v,h),o(this.s*this.n*i.d-i.s*this.d*i.n,this.d*i.d)},mul:function(v,h){return c(v,h),o(this.s*i.s*this.n*i.n,this.d*i.d)},div:function(v,h){return c(v,h),o(this.s*i.s*this.n*i.d,this.d*i.n)},clone:function(){return o(this.s*this.n,this.d)},mod:function(v,h){if(isNaN(this.n)||isNaN(this.d))return new p(NaN);if(v===void 0)return o(this.s*this.n%this.d,1);if(c(v,h),i.n===0&&this.d===0)throw p.DivisionByZero;return o(this.s*(i.d*this.n)%(i.n*this.d),i.d*this.d)},gcd:function(v,h){return c(v,h),o(f(i.n,this.n)*f(i.d,this.d),i.d*this.d)},lcm:function(v,h){return c(v,h),i.n===0&&this.n===0?o(0,1):o(i.n*this.n,f(i.n,this.n)*f(i.d,this.d))},ceil:function(v){return v=Math.pow(10,v||0),isNaN(this.n)||isNaN(this.d)?new p(NaN):o(Math.ceil(v*this.s*this.n/this.d),v)},floor:function(v){return v=Math.pow(10,v||0),isNaN(this.n)||isNaN(this.d)?new p(NaN):o(Math.floor(v*this.s*this.n/this.d),v)},round:function(v){return v=Math.pow(10,v||0),isNaN(this.n)||isNaN(this.d)?new p(NaN):o(Math.round(v*this.s*this.n/this.d),v)},inverse:function(){return o(this.s*this.d,this.n)},pow:function(v,h){if(c(v,h),i.d===1)return i.s<0?o(Math.pow(this.s*this.d,i.n),Math.pow(this.n,i.n)):o(Math.pow(this.s*this.n,i.n),Math.pow(this.d,i.n));if(this.s<0)return null;var m=u(this.n),g=u(this.d),b=1,y=1;for(var w in m)if(w!=="1"){if(w==="0"){b=0;break}if(m[w]*=i.n,m[w]%i.d===0)m[w]/=i.d;else return null;b*=Math.pow(w,m[w])}for(var w in g)if(w!=="1"){if(g[w]*=i.n,g[w]%i.d===0)g[w]/=i.d;else return null;y*=Math.pow(w,g[w])}return i.s<0?o(y,b):o(b,y)},equals:function(v,h){return c(v,h),this.s*this.n*i.d===i.s*i.n*this.d},compare:function(v,h){c(v,h);var m=this.s*this.n*i.d-i.s*i.n*this.d;return(0<m)-(m<0)},simplify:function(v){if(isNaN(this.n)||isNaN(this.d))return this;v=v||.001;for(var h=this.abs(),m=h.toContinued(),g=1;g<m.length;g++){for(var b=o(m[g-1],1),y=g-2;y>=0;y--)b=b.inverse().add(m[y]);if(b.sub(h).abs().valueOf()<v)return b.mul(this.s)}return this},divisible:function(v,h){return c(v,h),!(!(i.n*this.d)||this.n*i.d%(i.n*this.d))},valueOf:function(){return this.s*this.n/this.d},toFraction:function(v){var h,m="",g=this.n,b=this.d;return this.s<0&&(m+="-"),b===1?m+=g:(v&&(h=Math.floor(g/b))>0&&(m+=h,m+=" ",g%=b),m+=g,m+="/",m+=b),m},toLatex:function(v){var h,m="",g=this.n,b=this.d;return this.s<0&&(m+="-"),b===1?m+=g:(v&&(h=Math.floor(g/b))>0&&(m+=h,g%=b),m+="\\frac{",m+=g,m+="}{",m+=b,m+="}"),m},toContinued:function(){var v,h=this.n,m=this.d,g=[];if(isNaN(h)||isNaN(m))return g;do g.push(Math.floor(h/m)),v=h%m,h=m,m=v;while(h!==1);return g},toString:function(v){var h=this.n,m=this.d;if(isNaN(h)||isNaN(m))return"NaN";v=v||15;var g=l(h,m),b=s(h,m,g),y=this.s<0?"-":"";if(y+=h/m|0,h%=m,h*=10,h&&(y+="."),g){for(var w=b;w--;)y+=h/m|0,h%=m,h*=10;y+="(";for(var w=g;w--;)y+=h/m|0,h%=m,h*=10;y+=")"}else for(var w=v;h&&w--;)y+=h/m|0,h%=m,h*=10;return y}},Object.defineProperty(p,"__esModule",{value:!0}),p.default=p,p.Fraction=p,e.exports=p})()})(Rv);var yi=fv(Rv.exports),Yw="Fraction",Xw=[],Gw=Ee(Yw,Xw,()=>(yi.prototype.type="Fraction",yi.prototype.isFraction=!0,yi.prototype.toJSON=function(){return{mathjs:"Fraction",n:this.s*this.n,d:this.d}},yi.fromJSON=function(e){return new yi(e)},yi),{isClass:!0}),Zw="Matrix",Jw=[],Qw=Ee(Zw,Jw,()=>{function e(){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator")}return e.prototype.type="Matrix",e.prototype.isMatrix=!0,e.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},e.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},e.prototype.create=function(t,r){throw new Error("Cannot invoke create on a Matrix interface")},e.prototype.subset=function(t,r,n){throw new Error("Cannot invoke subset on a Matrix interface")},e.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},e.prototype.set=function(t,r,n){throw new Error("Cannot invoke set on a Matrix interface")},e.prototype.resize=function(t,r){throw new Error("Cannot invoke resize on a Matrix interface")},e.prototype.reshape=function(t,r){throw new Error("Cannot invoke reshape on a Matrix interface")},e.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},e.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},e.prototype.map=function(t,r){throw new Error("Cannot invoke map on a Matrix interface")},e.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},e.prototype[Symbol.iterator]=function(){throw new Error("Cannot iterate a Matrix interface")},e.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},e.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},e.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},e.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},e},{isClass:!0}),jw="DenseMatrix",e_=["Matrix"],t_=Ee(jw,e_,e=>{var{Matrix:t}=e;function r(l,s){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");if(s&&!Lr(s))throw new Error("Invalid datatype: "+s);if(yt(l))l.type==="DenseMatrix"?(this._data=Ge(l._data),this._size=Ge(l._size),this._datatype=s||l._datatype):(this._data=l.toArray(),this._size=l.size(),this._datatype=s||l._datatype);else if(l&&it(l.data)&&it(l.size))this._data=l.data,this._size=l.size,Ed(this._data,this._size),this._datatype=s||l.datatype;else if(it(l))this._data=d(l),this._size=Qt(this._data),Ed(this._data,this._size),this._datatype=s;else{if(l)throw new TypeError("Unsupported type of data ("+Kr(l)+")");this._data=[],this._size=[0],this._datatype=s}}r.prototype=new t,r.prototype.createDenseMatrix=function(l,s){return new r(l,s)},r.prototype.type="DenseMatrix",r.prototype.isDenseMatrix=!0,r.prototype.getDataType=function(){return jo(this._data,Kr)},r.prototype.storage=function(){return"dense"},r.prototype.datatype=function(){return this._datatype},r.prototype.create=function(l,s){return new r(l,s)},r.prototype.subset=function(l,s,f){switch(arguments.length){case 1:return n(this,l);case 2:case 3:return a(this,l,s,f);default:throw new SyntaxError("Wrong number of arguments")}},r.prototype.get=function(l){if(!it(l))throw new TypeError("Array expected");if(l.length!==this._size.length)throw new Qe(l.length,this._size.length);for(var s=0;s<l.length;s++)vt(l[s],this._size[s]);for(var f=this._data,p=0,v=l.length;p<v;p++){var h=l[p];vt(h,f.length),f=f[h]}return f},r.prototype.set=function(l,s,f){if(!it(l))throw new TypeError("Array expected");if(l.length<this._size.length)throw new Qe(l.length,this._size.length,"<");var p,v,h,m=l.map(function(b){return b+1});c(this,m,f);var g=this._data;for(p=0,v=l.length-1;p<v;p++)h=l[p],vt(h,g.length),g=g[h];return h=l[l.length-1],vt(h,g.length),g[h]=s,this};function n(l,s){if(!Ls(s))throw new TypeError("Invalid index");var f=s.isScalar();if(f)return l.get(s.min());var p=s.size();if(p.length!==l._size.length)throw new Qe(p.length,l._size.length);for(var v=s.min(),h=s.max(),m=0,g=l._size.length;m<g;m++)vt(v[m],l._size[m]),vt(h[m],l._size[m]);return new r(i(l._data,s,p.length,0),l._datatype)}function i(l,s,f,p){var v=p===f-1,h=s.dimension(p);return v?h.map(function(m){return vt(m,l.length),l[m]}).valueOf():h.map(function(m){vt(m,l.length);var g=l[m];return i(g,s,f,p+1)}).valueOf()}function a(l,s,f,p){if(!s||s.isIndex!==!0)throw new TypeError("Invalid index");var v=s.size(),h=s.isScalar(),m;if(yt(f)?(m=f.size(),f=f.valueOf()):m=Qt(f),h){if(m.length!==0)throw new TypeError("Scalar expected");l.set(s.min(),f,p)}else{if(v.length<l._size.length)throw new Qe(v.length,l._size.length,"<");if(m.length<v.length){for(var g=0,b=0;v[g]===1&&m[g]===1;)g++;for(;v[g]===1;)b++,g++;f=gv(f,v.length,b,m)}if(!Jo(v,m))throw new Qe(v,m,">");var y=s.max().map(function(x){return x+1});c(l,y,p);var w=v.length,_=0;o(l._data,s,f,w,_)}return l}function o(l,s,f,p,v){var h=v===p-1,m=s.dimension(v);h?m.forEach(function(g,b){vt(g),l[g]=f[b[0]]}):m.forEach(function(g,b){vt(g),o(l[g],s,f[b[0]],p,v+1)})}r.prototype.resize=function(l,s,f){if(!nv(l))throw new TypeError("Array or Matrix expected");var p=l.valueOf().map(h=>Array.isArray(h)&&h.length===1?h[0]:h),v=f?this.clone():this;return u(v,p,s)};function u(l,s,f){if(s.length===0){for(var p=l._data;it(p);)p=p[0];return p}return l._size=s.slice(0),l._data=Qo(l._data,l._size,f),l}r.prototype.reshape=function(l,s){var f=s?this.clone():this;f._data=P1(f._data,l);var p=f._size.reduce((v,h)=>v*h);return f._size=Rc(l,p),f};function c(l,s,f){for(var p=l._size.slice(0),v=!1;p.length<s.length;)p.push(0),v=!0;for(var h=0,m=s.length;h<m;h++)s[h]>p[h]&&(p[h]=s[h],v=!0);v&&u(l,p,f)}r.prototype.clone=function(){var l=new r({data:Ge(this._data),size:Ge(this._size),datatype:this._datatype});return l},r.prototype.size=function(){return this._size.slice(0)},r.prototype.map=function(l){var s=this,f=function h(m,g){return it(m)?m.map(function(b,y){return h(b,g.concat(y))}):l(m,g,s)},p=f(this._data,[]),v=this._datatype!==void 0?jo(p,Kr):void 0;return new r(p,v)},r.prototype.forEach=function(l){var s=this,f=function p(v,h){it(v)?v.forEach(function(m,g){p(m,h.concat(g))}):l(v,h,s)};f(this._data,[])},r.prototype[Symbol.iterator]=function*(){var l=function*s(f,p){if(it(f))for(var v=0;v<f.length;v++)yield*s(f[v],p.concat(v));else yield{value:f,index:p}};yield*l(this._data,[])},r.prototype.rows=function(){var l=[],s=this.size();if(s.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");var f=this._data;for(var p of f)l.push(new r([p],this._datatype));return l},r.prototype.columns=function(){var l=this,s=[],f=this.size();if(f.length!==2)throw new TypeError("Rows can only be returned for a 2D matrix.");for(var p=this._data,v=function(g){var b=p.map(y=>[y[g]]);s.push(new r(b,l._datatype))},h=0;h<f[1];h++)v(h);return s},r.prototype.toArray=function(){return Ge(this._data)},r.prototype.valueOf=function(){return this._data},r.prototype.format=function(l){return ct(this._data,l)},r.prototype.toString=function(){return ct(this._data)},r.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},r.prototype.diagonal=function(l){if(l){if(Ft(l)&&(l=l.toNumber()),!bt(l)||!xt(l))throw new TypeError("The parameter k must be an integer number")}else l=0;for(var s=l>0?l:0,f=l<0?-l:0,p=this._size[0],v=this._size[1],h=Math.min(p-f,v-s),m=[],g=0;g<h;g++)m[g]=this._data[g+f][g+s];return new r({data:m,size:[h],datatype:this._datatype})},r.diagonal=function(l,s,f,p){if(!it(l))throw new TypeError("Array expected, size parameter");if(l.length!==2)throw new Error("Only two dimensions matrix are supported");if(l=l.map(function(N){if(Ft(N)&&(N=N.toNumber()),!bt(N)||!xt(N)||N<1)throw new Error("Size values must be positive integers");return N}),f){if(Ft(f)&&(f=f.toNumber()),!bt(f)||!xt(f))throw new TypeError("The parameter k must be an integer number")}else f=0;var v=f>0?f:0,h=f<0?-f:0,m=l[0],g=l[1],b=Math.min(m-h,g-v),y;if(it(s)){if(s.length!==b)throw new Error("Invalid value array length");y=function(M){return s[M]}}else if(yt(s)){var w=s.size();if(w.length!==1||w[0]!==b)throw new Error("Invalid matrix length");y=function(M){return s.get([M])}}else y=function(){return s};p||(p=Ft(y(0))?y(0).mul(0):0);var _=[];if(l.length>0){_=Qo(_,l,p);for(var x=0;x<b;x++)_[x+h][x+v]=y(x)}return new r({data:_,size:[m,g]})},r.fromJSON=function(l){return new r(l)},r.prototype.swapRows=function(l,s){if(!bt(l)||!xt(l)||!bt(s)||!xt(s))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return vt(l,this._size[0]),vt(s,this._size[0]),r._swapRows(l,s,this._data),this},r._swapRows=function(l,s,f){var p=f[l];f[l]=f[s],f[s]=p};function d(l){for(var s=0,f=l.length;s<f;s++){var p=l[s];it(p)?l[s]=d(p):p&&p.isMatrix===!0&&(l[s]=d(p.valueOf()))}return l}return r},{isClass:!0});function Xt(e,t,r){return e&&typeof e.map=="function"?e.map(function(n){return Xt(n,t)}):t(e)}var Bc="number",$v="number, number";function Bv(e){return Math.abs(e)}Bv.signature=Bc;function Fv(e,t){return e+t}Fv.signature=$v;function zv(e,t){return e*t}zv.signature=$v;function kv(e){return-e}kv.signature=Bc;function yl(e){return _1(e)}yl.signature=Bc;var r_="number";function Lv(e){return e===0}Lv.signature=r_;var Od="isZero",n_=["typed"],i_=Ee(Od,n_,e=>{var{typed:t}=e;return t(Od,{number:Lv,BigNumber:function(n){return n.isZero()},Complex:function(n){return n.re===0&&n.im===0},Fraction:function(n){return n.d===1&&n.n===0},Unit:function(n){return this(n.value)},"Array | Matrix":function(n){return Xt(n,this)}})});function qa(e,t,r){if(r==null)return e.eq(t);if(e.eq(t))return!0;if(e.isNaN()||t.isNaN())return!1;if(e.isFinite()&&t.isFinite()){var n=e.minus(t).abs();if(n.isZero())return!0;var i=e.constructor.max(e.abs(),t.abs());return n.lte(i.times(r))}return!1}function a_(e,t,r){return Cn(e.re,t.re,r)&&Cn(e.im,t.im,r)}var ns="equalScalar",o_=["typed","config"],s_=Ee(ns,o_,e=>{var{typed:t,config:r}=e;return t(ns,{"boolean, boolean":function(i,a){return i===a},"number, number":function(i,a){return Cn(i,a,r.epsilon)},"BigNumber, BigNumber":function(i,a){return i.eq(a)||qa(i,a,r.epsilon)},"Fraction, Fraction":function(i,a){return i.equals(a)},"Complex, Complex":function(i,a){return a_(i,a,r.epsilon)},"Unit, Unit":function(i,a){if(!i.equalBase(a))throw new Error("Cannot compare units with different base");return this(i.value,a.value)}})});Ee(ns,["typed","config"],e=>{var{typed:t,config:r}=e;return t(ns,{"number, number":function(i,a){return Cn(i,a,r.epsilon)}})});var u_="SparseMatrix",l_=["typed","equalScalar","Matrix"],c_=Ee(u_,l_,e=>{var{typed:t,equalScalar:r,Matrix:n}=e;function i(h,m){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(m&&!Lr(m))throw new Error("Invalid datatype: "+m);if(yt(h))a(this,h,m);else if(h&&it(h.index)&&it(h.ptr)&&it(h.size))this._values=h.values,this._index=h.index,this._ptr=h.ptr,this._size=h.size,this._datatype=m||h.datatype;else if(it(h))o(this,h,m);else{if(h)throw new TypeError("Unsupported type of data ("+Kr(h)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=m}}function a(h,m,g){m.type==="SparseMatrix"?(h._values=m._values?Ge(m._values):void 0,h._index=Ge(m._index),h._ptr=Ge(m._ptr),h._size=Ge(m._size),h._datatype=g||m._datatype):o(h,m.valueOf(),g||m._datatype)}function o(h,m,g){h._values=[],h._index=[],h._ptr=[],h._datatype=g;var b=m.length,y=0,w=r,_=0;if(Lr(g)&&(w=t.find(r,[g,g])||r,_=t.convert(0,g)),b>0){var x=0;do{h._ptr.push(h._index.length);for(var N=0;N<b;N++){var M=m[N];if(it(M)){if(x===0&&y<M.length&&(y=M.length),x<M.length){var A=M[x];w(A,_)||(h._values.push(A),h._index.push(N))}}else x===0&&y<1&&(y=1),w(M,_)||(h._values.push(M),h._index.push(N))}x++}while(x<y)}h._ptr.push(h._index.length),h._size=[b,y]}i.prototype=new n,i.prototype.createSparseMatrix=function(h,m){return new i(h,m)},i.prototype.type="SparseMatrix",i.prototype.isSparseMatrix=!0,i.prototype.getDataType=function(){return jo(this._values,Kr)},i.prototype.storage=function(){return"sparse"},i.prototype.datatype=function(){return this._datatype},i.prototype.create=function(h,m){return new i(h,m)},i.prototype.density=function(){var h=this._size[0],m=this._size[1];return h!==0&&m!==0?this._index.length/(h*m):0},i.prototype.subset=function(h,m,g){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return u(this,h);case 2:case 3:return c(this,h,m,g);default:throw new SyntaxError("Wrong number of arguments")}};function u(h,m){if(!Ls(m))throw new TypeError("Invalid index");var g=m.isScalar();if(g)return h.get(m.min());var b=m.size();if(b.length!==h._size.length)throw new Qe(b.length,h._size.length);var y,w,_,x,N=m.min(),M=m.max();for(y=0,w=h._size.length;y<w;y++)vt(N[y],h._size[y]),vt(M[y],h._size[y]);var A=h._values,E=h._index,D=h._ptr,C=m.dimension(0),$=m.dimension(1),L=[],B=[];C.forEach(function(H,U){B[H]=U[0],L[H]=!0});var F=A?[]:void 0,X=[],W=[];return $.forEach(function(H){for(W.push(X.length),_=D[H],x=D[H+1];_<x;_++)y=E[_],L[y]===!0&&(X.push(B[y]),F&&F.push(A[_]))}),W.push(X.length),new i({values:F,index:X,ptr:W,size:b,datatype:h._datatype})}function c(h,m,g,b){if(!m||m.isIndex!==!0)throw new TypeError("Invalid index");var y=m.size(),w=m.isScalar(),_;if(yt(g)?(_=g.size(),g=g.toArray()):_=Qt(g),w){if(_.length!==0)throw new TypeError("Scalar expected");h.set(m.min(),g,b)}else{if(y.length!==1&&y.length!==2)throw new Qe(y.length,h._size.length,"<");if(_.length<y.length){for(var x=0,N=0;y[x]===1&&_[x]===1;)x++;for(;y[x]===1;)N++,x++;g=gv(g,y.length,N,_)}if(!Jo(y,_))throw new Qe(y,_,">");if(y.length===1){var M=m.dimension(0);M.forEach(function(D,C){vt(D),h.set([D,0],g[C[0]],b)})}else{var A=m.dimension(0),E=m.dimension(1);A.forEach(function(D,C){vt(D),E.forEach(function($,L){vt($),h.set([D,$],g[C[0]][L[0]],b)})})}}return h}i.prototype.get=function(h){if(!it(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new Qe(h.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var m=h[0],g=h[1];vt(m,this._size[0]),vt(g,this._size[1]);var b=d(m,this._ptr[g],this._ptr[g+1],this._index);return b<this._ptr[g+1]&&this._index[b]===m?this._values[b]:0},i.prototype.set=function(h,m,g){if(!it(h))throw new TypeError("Array expected");if(h.length!==this._size.length)throw new Qe(h.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var b=h[0],y=h[1],w=this._size[0],_=this._size[1],x=r,N=0;Lr(this._datatype)&&(x=t.find(r,[this._datatype,this._datatype])||r,N=t.convert(0,this._datatype)),(b>w-1||y>_-1)&&(f(this,Math.max(b+1,w),Math.max(y+1,_),g),w=this._size[0],_=this._size[1]),vt(b,w),vt(y,_);var M=d(b,this._ptr[y],this._ptr[y+1],this._index);return M<this._ptr[y+1]&&this._index[M]===b?x(m,N)?l(M,y,this._values,this._index,this._ptr):this._values[M]=m:s(M,b,y,m,this._values,this._index,this._ptr),this};function d(h,m,g,b){if(g-m===0)return g;for(var y=m;y<g;y++)if(b[y]===h)return y;return m}function l(h,m,g,b,y){g.splice(h,1),b.splice(h,1);for(var w=m+1;w<y.length;w++)y[w]--}function s(h,m,g,b,y,w,_){y.splice(h,0,b),w.splice(h,0,m);for(var x=g+1;x<_.length;x++)_[x]++}i.prototype.resize=function(h,m,g){if(!nv(h))throw new TypeError("Array or Matrix expected");var b=h.valueOf().map(w=>Array.isArray(w)&&w.length===1?w[0]:w);if(b.length!==2)throw new Error("Only two dimensions matrix are supported");b.forEach(function(w){if(!bt(w)||!xt(w)||w<0)throw new TypeError("Invalid size, must contain positive integers (size: "+ct(b)+")")});var y=g?this.clone():this;return f(y,b[0],b[1],m)};function f(h,m,g,b){var y=b||0,w=r,_=0;Lr(h._datatype)&&(w=t.find(r,[h._datatype,h._datatype])||r,_=t.convert(0,h._datatype),y=t.convert(y,h._datatype));var x=!w(y,_),N=h._size[0],M=h._size[1],A,E,D;if(g>M){for(E=M;E<g;E++)if(h._ptr[E]=h._values.length,x)for(A=0;A<N;A++)h._values.push(y),h._index.push(A);h._ptr[g]=h._values.length}else g<M&&(h._ptr.splice(g+1,M-g),h._values.splice(h._ptr[g],h._values.length),h._index.splice(h._ptr[g],h._index.length));if(M=g,m>N){if(x){var C=0;for(E=0;E<M;E++){h._ptr[E]=h._ptr[E]+C,D=h._ptr[E+1]+C;var $=0;for(A=N;A<m;A++,$++)h._values.splice(D+$,0,y),h._index.splice(D+$,0,A),C++}h._ptr[M]=h._values.length}}else if(m<N){var L=0;for(E=0;E<M;E++){h._ptr[E]=h._ptr[E]-L;var B=h._ptr[E],F=h._ptr[E+1]-L;for(D=B;D<F;D++)A=h._index[D],A>m-1&&(h._values.splice(D,1),h._index.splice(D,1),L++)}h._ptr[E]=h._values.length}return h._size[0]=m,h._size[1]=g,h}i.prototype.reshape=function(h,m){if(!it(h))throw new TypeError("Array expected");if(h.length!==2)throw new Error("Sparse matrices can only be reshaped in two dimensions");h.forEach(function(H){if(!bt(H)||!xt(H)||H<=-2||H===0)throw new TypeError("Invalid size, must contain positive integers or -1 (size: "+ct(h)+")")});var g=this._size[0]*this._size[1];h=Rc(h,g);var b=h[0]*h[1];if(g!==b)throw new Error("Reshaping sparse matrix will result in the wrong number of elements");var y=m?this.clone():this;if(this._size[0]===h[0]&&this._size[1]===h[1])return y;for(var w=[],_=0;_<y._ptr.length;_++)for(var x=0;x<y._ptr[_+1]-y._ptr[_];x++)w.push(_);for(var N=y._values.slice(),M=y._index.slice(),A=0;A<y._index.length;A++){var E=M[A],D=w[A],C=E*y._size[1]+D;w[A]=C%h[1],M[A]=Math.floor(C/h[1])}y._values.length=0,y._index.length=0,y._ptr.length=h[1]+1,y._size=h.slice();for(var $=0;$<y._ptr.length;$++)y._ptr[$]=0;for(var L=0;L<N.length;L++){var B=M[L],F=w[L],X=N[L],W=d(B,y._ptr[F],y._ptr[F+1],y._index);s(W,B,F,X,y._values,y._index,y._ptr)}return y},i.prototype.clone=function(){var h=new i({values:this._values?Ge(this._values):void 0,index:Ge(this._index),ptr:Ge(this._ptr),size:Ge(this._size),datatype:this._datatype});return h},i.prototype.size=function(){return this._size.slice(0)},i.prototype.map=function(h,m){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var g=this,b=this._size[0],y=this._size[1],w=function(x,N,M){return h(x,[N,M],g)};return p(this,0,b-1,0,y-1,w,m)};function p(h,m,g,b,y,w,_){var x=[],N=[],M=[],A=r,E=0;Lr(h._datatype)&&(A=t.find(r,[h._datatype,h._datatype])||r,E=t.convert(0,h._datatype));for(var D=function(ne,Q,te){ne=w(ne,Q,te),A(ne,E)||(x.push(ne),N.push(Q))},C=b;C<=y;C++){M.push(x.length);var $=h._ptr[C],L=h._ptr[C+1];if(_)for(var B=$;B<L;B++){var F=h._index[B];F>=m&&F<=g&&D(h._values[B],F-m,C-b)}else{for(var X={},W=$;W<L;W++){var H=h._index[W];X[H]=h._values[W]}for(var U=m;U<=g;U++){var G=U in X?X[U]:0;D(G,U-m,C-b)}}}return M.push(x.length),new i({values:x,index:N,ptr:M,size:[g-m+1,y-b+1]})}i.prototype.forEach=function(h,m){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var g=this,b=this._size[0],y=this._size[1],w=0;w<y;w++){var _=this._ptr[w],x=this._ptr[w+1];if(m)for(var N=_;N<x;N++){var M=this._index[N];h(this._values[N],[M,w],g)}else{for(var A={},E=_;E<x;E++){var D=this._index[E];A[D]=this._values[E]}for(var C=0;C<b;C++){var $=C in A?A[C]:0;h($,[C,w],g)}}}},i.prototype[Symbol.iterator]=function*(){if(!this._values)throw new Error("Cannot iterate a Pattern only matrix");for(var h=this._size[1],m=0;m<h;m++)for(var g=this._ptr[m],b=this._ptr[m+1],y=g;y<b;y++){var w=this._index[y];yield{value:this._values[y],index:[w,m]}}},i.prototype.toArray=function(){return v(this._values,this._index,this._ptr,this._size,!0)},i.prototype.valueOf=function(){return v(this._values,this._index,this._ptr,this._size,!1)};function v(h,m,g,b,y){var w=b[0],_=b[1],x=[],N,M;for(N=0;N<w;N++)for(x[N]=[],M=0;M<_;M++)x[N][M]=0;for(M=0;M<_;M++)for(var A=g[M],E=g[M+1],D=A;D<E;D++)N=m[D],x[N][M]=h?y?Ge(h[D]):h[D]:1;return x}return i.prototype.format=function(h){for(var m=this._size[0],g=this._size[1],b=this.density(),y="Sparse Matrix ["+ct(m,h)+" x "+ct(g,h)+"] density: "+ct(b,h)+`
`,w=0;w<g;w++)for(var _=this._ptr[w],x=this._ptr[w+1],N=_;N<x;N++){var M=this._index[N];y+=`
    (`+ct(M,h)+", "+ct(w,h)+") ==> "+(this._values?ct(this._values[N],h):"X")}return y},i.prototype.toString=function(){return ct(this.toArray())},i.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},i.prototype.diagonal=function(h){if(h){if(Ft(h)&&(h=h.toNumber()),!bt(h)||!xt(h))throw new TypeError("The parameter k must be an integer number")}else h=0;var m=h>0?h:0,g=h<0?-h:0,b=this._size[0],y=this._size[1],w=Math.min(b-g,y-m),_=[],x=[],N=[];N[0]=0;for(var M=m;M<y&&_.length<w;M++)for(var A=this._ptr[M],E=this._ptr[M+1],D=A;D<E;D++){var C=this._index[D];if(C===M-m+g){_.push(this._values[D]),x[_.length-1]=C-g;break}}return N.push(_.length),new i({values:_,index:x,ptr:N,size:[w,1]})},i.fromJSON=function(h){return new i(h)},i.diagonal=function(h,m,g,b,y){if(!it(h))throw new TypeError("Array expected, size parameter");if(h.length!==2)throw new Error("Only two dimensions matrix are supported");if(h=h.map(function(H){if(Ft(H)&&(H=H.toNumber()),!bt(H)||!xt(H)||H<1)throw new Error("Size values must be positive integers");return H}),g){if(Ft(g)&&(g=g.toNumber()),!bt(g)||!xt(g))throw new TypeError("The parameter k must be an integer number")}else g=0;var w=r,_=0;Lr(y)&&(w=t.find(r,[y,y])||r,_=t.convert(0,y));var x=g>0?g:0,N=g<0?-g:0,M=h[0],A=h[1],E=Math.min(M-N,A-x),D;if(it(m)){if(m.length!==E)throw new Error("Invalid value array length");D=function(U){return m[U]}}else if(yt(m)){var C=m.size();if(C.length!==1||C[0]!==E)throw new Error("Invalid matrix length");D=function(U){return m.get([U])}}else D=function(){return m};for(var $=[],L=[],B=[],F=0;F<A;F++){B.push($.length);var X=F-x;if(X>=0&&X<E){var W=D(X);w(W,_)||(L.push(X+N),$.push(W))}}return B.push($.length),new i({values:$,index:L,ptr:B,size:[M,A]})},i.prototype.swapRows=function(h,m){if(!bt(h)||!xt(h)||!bt(m)||!xt(m))throw new Error("Row index must be positive integers");if(this._size.length!==2)throw new Error("Only two dimensional matrix is supported");return vt(h,this._size[0]),vt(m,this._size[0]),i._swapRows(h,m,this._size[1],this._values,this._index,this._ptr),this},i._forEachRow=function(h,m,g,b,y){for(var w=b[h],_=b[h+1],x=w;x<_;x++)y(g[x],m[x])},i._swapRows=function(h,m,g,b,y,w){for(var _=0;_<g;_++){var x=w[_],N=w[_+1],M=d(h,x,N,y),A=d(m,x,N,y);if(M<N&&A<N&&y[M]===h&&y[A]===m){if(b){var E=b[M];b[M]=b[A],b[A]=E}continue}if(M<N&&y[M]===h&&(A>=N||y[A]!==m)){var D=b?b[M]:void 0;y.splice(A,0,m),b&&b.splice(A,0,D),y.splice(A<=M?M+1:M,1),b&&b.splice(A<=M?M+1:M,1);continue}if(A<N&&y[A]===m&&(M>=N||y[M]!==h)){var C=b?b[A]:void 0;y.splice(M,0,h),b&&b.splice(M,0,C),y.splice(M<=A?A+1:A,1),b&&b.splice(M<=A?A+1:A,1)}}},i},{isClass:!0}),f_="number",d_=["typed"];function h_(e){var t=e.match(/(0[box])([0-9a-fA-F]*)\.([0-9a-fA-F]*)/);if(t){var r={"0b":2,"0o":8,"0x":16}[t[1]],n=t[2],i=t[3];return{input:e,radix:r,integerPart:n,fractionalPart:i}}else return null}function p_(e){for(var t=parseInt(e.integerPart,e.radix),r=0,n=0;n<e.fractionalPart.length;n++){var i=parseInt(e.fractionalPart[n],e.radix);r+=i/Math.pow(e.radix,n+1)}var a=t+r;if(isNaN(a))throw new SyntaxError('String "'+e.input+'" is no valid number');return a}var v_=Ee(f_,d_,e=>{var{typed:t}=e,r=t("number",{"":function(){return 0},number:function(i){return i},string:function(i){if(i==="NaN")return NaN;var a=h_(i);if(a)return p_(a);var o=0,u=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);u&&(o=Number(u[2]),i=u[1]);var c=Number(i);if(isNaN(c))throw new SyntaxError('String "'+i+'" is no valid number');if(u){if(c>2**o-1)throw new SyntaxError('String "'.concat(i,'" is out of range'));c>=2**(o-1)&&(c=c-2**o)}return c},BigNumber:function(i){return i.toNumber()},Fraction:function(i){return i.valueOf()},Unit:function(i){throw new Error("Second argument with valueless unit expected")},null:function(i){return 0},"Unit, string | Unit":function(i,a){return i.toNumber(a)},"Array | Matrix":function(i){return Xt(i,this)}});return r.fromJSON=function(n){return parseFloat(n.value)},r}),m_="bignumber",g_=["typed","BigNumber"],y_=Ee(m_,g_,e=>{var{typed:t,BigNumber:r}=e;return t("bignumber",{"":function(){return new r(0)},number:function(i){return new r(i+"")},string:function(i){var a=i.match(/(0[box][0-9a-fA-F]*)i([0-9]*)/);if(a){var o=a[2],u=r(a[1]),c=new r(2).pow(Number(o));if(u.gt(c.sub(1)))throw new SyntaxError('String "'.concat(i,'" is out of range'));var d=new r(2).pow(Number(o)-1);return u.gte(d)?u.sub(c):u}return new r(i)},BigNumber:function(i){return i},Fraction:function(i){return new r(i.n).div(i.d).times(i.s)},null:function(i){return new r(0)},"Array | Matrix":function(i){return Xt(i,this)}})}),b_="complex",w_=["typed","Complex"],__=Ee(b_,w_,e=>{var{typed:t,Complex:r}=e;return t("complex",{"":function(){return r.ZERO},number:function(i){return new r(i,0)},"number, number":function(i,a){return new r(i,a)},"BigNumber, BigNumber":function(i,a){return new r(i.toNumber(),a.toNumber())},Fraction:function(i){return new r(i.valueOf(),0)},Complex:function(i){return i.clone()},string:function(i){return r(i)},null:function(i){return r(0)},Object:function(i){if("re"in i&&"im"in i)return new r(i.re,i.im);if("r"in i&&"phi"in i||"abs"in i&&"arg"in i)return new r(i);throw new Error("Expected object with properties (re and im) or (r and phi) or (abs and arg)")},"Array | Matrix":function(i){return Xt(i,this)}})}),x_="fraction",M_=["typed","Fraction"],S_=Ee(x_,M_,e=>{var{typed:t,Fraction:r}=e;return t("fraction",{number:function(i){if(!isFinite(i)||isNaN(i))throw new Error(i+" cannot be represented as a fraction");return new r(i)},string:function(i){return new r(i)},"number, number":function(i,a){return new r(i,a)},null:function(i){return new r(0)},BigNumber:function(i){return new r(i.toString())},Fraction:function(i){return i},Object:function(i){return new r(i)},"Array | Matrix":function(i){return Xt(i,this)}})}),Dd="matrix",E_=["typed","Matrix","DenseMatrix","SparseMatrix"],A_=Ee(Dd,E_,e=>{var{typed:t,Matrix:r,DenseMatrix:n,SparseMatrix:i}=e;return t(Dd,{"":function(){return a([])},string:function(u){return a([],u)},"string, string":function(u,c){return a([],u,c)},Array:function(u){return a(u)},Matrix:function(u){return a(u,u.storage())},"Array | Matrix, string":a,"Array | Matrix, string, string":a});function a(o,u,c){if(u==="dense"||u==="default"||u===void 0)return new n(o,c);if(u==="sparse")return new i(o,c);throw new TypeError("Unknown matrix type "+JSON.stringify(u)+".")}}),Td="matrixFromColumns",N_=["typed","matrix","flatten","size"],C_=Ee(Td,N_,e=>{var{typed:t,matrix:r,flatten:n,size:i}=e;return t(Td,{"...Array":function(c){return a(c)},"...Matrix":function(c){return r(a(c.map(d=>d.toArray())))}});function a(u){if(u.length===0)throw new TypeError("At least one column is needed to construct a matrix.");for(var c=o(u[0]),d=[],l=0;l<c;l++)d[l]=[];for(var s of u){var f=o(s);if(f!==c)throw new TypeError("The vectors had different length: "+(c|0)+" \u2260 "+(f|0));for(var p=n(s),v=0;v<c;v++)d[v].push(p[v])}return d}function o(u){var c=i(u);if(c.length===1)return c[0];if(c.length===2){if(c[0]===1)return c[1];if(c[1]===1)return c[0];throw new TypeError("At least one of the arguments is not a vector.")}else throw new TypeError("Only one- or two-dimensional vectors are supported.")}}),Pd="unaryMinus",O_=["typed"],D_=Ee(Pd,O_,e=>{var{typed:t}=e;return t(Pd,{number:kv,Complex:function(n){return n.neg()},BigNumber:function(n){return n.neg()},Fraction:function(n){return n.neg()},Unit:function(n){var i=n.clone();return i.value=this(n.value),i},"Array | Matrix":function(n){return Xt(n,this)}})}),Id="abs",T_=["typed"],P_=Ee(Id,T_,e=>{var{typed:t}=e;return t(Id,{number:Bv,Complex:function(n){return n.abs()},BigNumber:function(n){return n.abs()},Fraction:function(n){return n.abs()},"Array | Matrix":function(n){return Xt(n,this)},Unit:function(n){return n.abs()}})}),Rd="addScalar",I_=["typed"],R_=Ee(Rd,I_,e=>{var{typed:t}=e;return t(Rd,{"number, number":Fv,"Complex, Complex":function(n,i){return n.add(i)},"BigNumber, BigNumber":function(n,i){return n.plus(i)},"Fraction, Fraction":function(n,i){return n.add(i)},"Unit, Unit":function(n,i){if(n.value===null||n.value===void 0)throw new Error("Parameter x contains a unit with undefined value");if(i.value===null||i.value===void 0)throw new Error("Parameter y contains a unit with undefined value");if(!n.equalBase(i))throw new Error("Units do not match");var a=n.clone();return a.value=this(a.value,i.value),a.fixPrefix=!1,a}})}),$_="algorithm11",B_=["typed","equalScalar"],F_=Ee($_,B_,e=>{var{typed:t,equalScalar:r}=e;return function(i,a,o,u){var c=i._values,d=i._index,l=i._ptr,s=i._size,f=i._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=s[0],v=s[1],h,m=r,g=0,b=o;typeof f=="string"&&(h=f,m=t.find(r,[h,h]),g=t.convert(0,h),a=t.convert(a,h),b=t.find(o,[h,h]));for(var y=[],w=[],_=[],x=0;x<v;x++){_[x]=w.length;for(var N=l[x],M=l[x+1],A=N;A<M;A++){var E=d[A],D=u?b(a,c[A]):b(c[A],a);m(D,g)||(w.push(E),y.push(D))}}return _[v]=w.length,i.createSparseMatrix({values:y,index:w,ptr:_,size:[p,v],datatype:h})}}),z_="algorithm12",k_=["typed","DenseMatrix"],Va=Ee(z_,k_,e=>{var{typed:t,DenseMatrix:r}=e;return function(i,a,o,u){var c=i._values,d=i._index,l=i._ptr,s=i._size,f=i._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=s[0],v=s[1],h,m=o;typeof f=="string"&&(h=f,a=t.convert(a,h),m=t.find(o,[h,h]));for(var g=[],b=[],y=[],w=0;w<v;w++){for(var _=w+1,x=l[w],N=l[w+1],M=x;M<N;M++){var A=d[M];b[A]=c[M],y[A]=_}for(var E=0;E<p;E++)w===0&&(g[E]=[]),y[E]===_?g[E][w]=u?m(a,b[E]):m(b[E],a):g[E][w]=u?m(a,0):m(0,a)}return new r({data:g,size:[p,v],datatype:h})}}),L_="algorithm14",U_=["typed"],Fn=Ee(L_,U_,e=>{var{typed:t}=e;return function(i,a,o,u){var c=i._data,d=i._size,l=i._datatype,s,f=o;typeof l=="string"&&(s=l,a=t.convert(a,s),f=t.find(o,[s,s]));var p=d.length>0?r(f,0,d,d[0],c,a,u):[];return i.createDenseMatrix({data:p,size:Ge(d),datatype:s})};function r(n,i,a,o,u,c,d){var l=[];if(i===a.length-1)for(var s=0;s<o;s++)l[s]=d?n(c,u[s]):n(u[s],c);else for(var f=0;f<o;f++)l[f]=r(n,i+1,a,a[i+1],u[f],c,d);return l}}),q_="algorithm01",V_=["typed"],Uv=Ee(q_,V_,e=>{var{typed:t}=e;return function(n,i,a,o){var u=n._data,c=n._size,d=n._datatype,l=i._values,s=i._index,f=i._ptr,p=i._size,v=i._datatype;if(c.length!==p.length)throw new Qe(c.length,p.length);if(c[0]!==p[0]||c[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+p+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var h=c[0],m=c[1],g=typeof d=="string"&&d===v?d:void 0,b=g?t.find(a,[g,g]):a,y,w,_=[];for(y=0;y<h;y++)_[y]=[];var x=[],N=[];for(w=0;w<m;w++){for(var M=w+1,A=f[w],E=f[w+1],D=A;D<E;D++)y=s[D],x[y]=o?b(l[D],u[y][w]):b(u[y][w],l[D]),N[y]=M;for(y=0;y<h;y++)N[y]===M?_[y][w]=x[y]:_[y][w]=u[y][w]}return n.createDenseMatrix({data:_,size:[h,m],datatype:g})}}),K_="algorithm04",H_=["typed","equalScalar"],W_=Ee(K_,H_,e=>{var{typed:t,equalScalar:r}=e;return function(i,a,o){var u=i._values,c=i._index,d=i._ptr,l=i._size,s=i._datatype,f=a._values,p=a._index,v=a._ptr,h=a._size,m=a._datatype;if(l.length!==h.length)throw new Qe(l.length,h.length);if(l[0]!==h[0]||l[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");var g=l[0],b=l[1],y,w=r,_=0,x=o;typeof s=="string"&&s===m&&(y=s,w=t.find(r,[y,y]),_=t.convert(0,y),x=t.find(o,[y,y]));var N=u&&f?[]:void 0,M=[],A=[],E=u&&f?[]:void 0,D=u&&f?[]:void 0,C=[],$=[],L,B,F,X,W;for(B=0;B<b;B++){A[B]=M.length;var H=B+1;for(X=d[B],W=d[B+1],F=X;F<W;F++)L=c[F],M.push(L),C[L]=H,E&&(E[L]=u[F]);for(X=v[B],W=v[B+1],F=X;F<W;F++)if(L=p[F],C[L]===H){if(E){var U=x(E[L],f[F]);w(U,_)?C[L]=null:E[L]=U}}else M.push(L),$[L]=H,D&&(D[L]=f[F]);if(E&&D)for(F=A[B];F<M.length;)L=M[F],C[L]===H?(N[F]=E[L],F++):$[L]===H?(N[F]=D[L],F++):M.splice(F,1)}return A[b]=M.length,i.createSparseMatrix({values:N,index:M,ptr:A,size:[g,b],datatype:y})}}),Y_="algorithm10",X_=["typed","DenseMatrix"],qv=Ee(Y_,X_,e=>{var{typed:t,DenseMatrix:r}=e;return function(i,a,o,u){var c=i._values,d=i._index,l=i._ptr,s=i._size,f=i._datatype;if(!c)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var p=s[0],v=s[1],h,m=o;typeof f=="string"&&(h=f,a=t.convert(a,h),m=t.find(o,[h,h]));for(var g=[],b=[],y=[],w=0;w<v;w++){for(var _=w+1,x=l[w],N=l[w+1],M=x;M<N;M++){var A=d[M];b[A]=c[M],y[A]=_}for(var E=0;E<p;E++)w===0&&(g[E]=[]),y[E]===_?g[E][w]=u?m(a,b[E]):m(b[E],a):g[E][w]=a}return new r({data:g,size:[p,v],datatype:h})}}),G_="algorithm13",Z_=["typed"],fi=Ee(G_,Z_,e=>{var{typed:t}=e;return function(i,a,o){var u=i._data,c=i._size,d=i._datatype,l=a._data,s=a._size,f=a._datatype,p=[];if(c.length!==s.length)throw new Qe(c.length,s.length);for(var v=0;v<c.length;v++){if(c[v]!==s[v])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+s+")");p[v]=c[v]}var h,m=o;typeof d=="string"&&d===f&&(h=d,m=t.find(o,[h,h]));var g=p.length>0?r(m,0,p,p[0],u,l):[];return i.createDenseMatrix({data:g,size:p,datatype:h})};function r(n,i,a,o,u,c){var d=[];if(i===a.length-1)for(var l=0;l<o;l++)d[l]=n(u[l],c[l]);else for(var s=0;s<o;s++)d[s]=r(n,i+1,a,a[i+1],u[s],c[s]);return d}}),J_="algorithm03",Q_=["typed"],Gi=Ee(J_,Q_,e=>{var{typed:t}=e;return function(n,i,a,o){var u=n._data,c=n._size,d=n._datatype,l=i._values,s=i._index,f=i._ptr,p=i._size,v=i._datatype;if(c.length!==p.length)throw new Qe(c.length,p.length);if(c[0]!==p[0]||c[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+p+")");if(!l)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var h=c[0],m=c[1],g,b=0,y=a;typeof d=="string"&&d===v&&(g=d,b=t.convert(0,g),y=t.find(a,[g,g]));for(var w=[],_=0;_<h;_++)w[_]=[];for(var x=[],N=[],M=0;M<m;M++){for(var A=M+1,E=f[M],D=f[M+1],C=E;C<D;C++){var $=s[C];x[$]=o?y(l[C],u[$][M]):y(u[$][M],l[C]),N[$]=A}for(var L=0;L<h;L++)N[L]===A?w[L][M]=x[L]:w[L][M]=o?y(b,u[L][M]):y(u[L][M],b)}return n.createDenseMatrix({data:w,size:[h,m],datatype:g})}}),j_="algorithm05",ex=["typed","equalScalar"],tx=Ee(j_,ex,e=>{var{typed:t,equalScalar:r}=e;return function(i,a,o){var u=i._values,c=i._index,d=i._ptr,l=i._size,s=i._datatype,f=a._values,p=a._index,v=a._ptr,h=a._size,m=a._datatype;if(l.length!==h.length)throw new Qe(l.length,h.length);if(l[0]!==h[0]||l[1]!==h[1])throw new RangeError("Dimension mismatch. Matrix A ("+l+") must match Matrix B ("+h+")");var g=l[0],b=l[1],y,w=r,_=0,x=o;typeof s=="string"&&s===m&&(y=s,w=t.find(r,[y,y]),_=t.convert(0,y),x=t.find(o,[y,y]));var N=u&&f?[]:void 0,M=[],A=[],E=N?[]:void 0,D=N?[]:void 0,C=[],$=[],L,B,F,X;for(B=0;B<b;B++){A[B]=M.length;var W=B+1;for(F=d[B],X=d[B+1];F<X;F++)L=c[F],M.push(L),C[L]=W,E&&(E[L]=u[F]);for(F=v[B],X=v[B+1];F<X;F++)L=p[F],C[L]!==W&&M.push(L),$[L]=W,D&&(D[L]=f[F]);if(N)for(F=A[B];F<M.length;){L=M[F];var H=C[L],U=$[L];if(H===W||U===W){var G=H===W?E[L]:_,ie=U===W?D[L]:_,ne=x(G,ie);w(ne,_)?M.splice(F,1):(N.push(ne),F++)}}}return A[b]=M.length,i.createSparseMatrix({values:N,index:M,ptr:A,size:[g,b],datatype:y})}}),rx="multiplyScalar",nx=["typed"],ix=Ee(rx,nx,e=>{var{typed:t}=e;return t("multiplyScalar",{"number, number":zv,"Complex, Complex":function(n,i){return n.mul(i)},"BigNumber, BigNumber":function(n,i){return n.times(i)},"Fraction, Fraction":function(n,i){return n.mul(i)},"number | Fraction | BigNumber | Complex, Unit":function(n,i){var a=i.clone();return a.value=a.value===null?a._normalize(n):this(a.value,n),a},"Unit, number | Fraction | BigNumber | Complex":function(n,i){var a=n.clone();return a.value=a.value===null?a._normalize(i):this(a.value,i),a},"Unit, Unit":function(n,i){return n.multiply(i)}})}),$d="multiply",ax=["typed","matrix","addScalar","multiplyScalar","equalScalar","dot"],ox=Ee($d,ax,e=>{var{typed:t,matrix:r,addScalar:n,multiplyScalar:i,equalScalar:a,dot:o}=e,u=F_({typed:t,equalScalar:a}),c=Fn({typed:t});function d(_,x){switch(_.length){case 1:switch(x.length){case 1:if(_[0]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Vectors must have the same length");break;case 2:if(_[0]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Vector length ("+_[0]+") must match Matrix rows ("+x[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+x.length+" dimensions)")}break;case 2:switch(x.length){case 1:if(_[1]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Matrix columns ("+_[1]+") must match Vector length ("+x[0]+")");break;case 2:if(_[1]!==x[0])throw new RangeError("Dimension mismatch in multiplication. Matrix A columns ("+_[1]+") must match Matrix B rows ("+x[0]+")");break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix B has "+x.length+" dimensions)")}break;default:throw new Error("Can only multiply a 1 or 2 dimensional matrix (Matrix A has "+_.length+" dimensions)")}}function l(_,x,N){if(N===0)throw new Error("Cannot multiply two empty vectors");return o(_,x)}function s(_,x){if(x.storage()!=="dense")throw new Error("Support for SparseMatrix not implemented");return f(_,x)}function f(_,x){var N=_._data,M=_._size,A=_._datatype,E=x._data,D=x._size,C=x._datatype,$=M[0],L=D[1],B,F=n,X=i;A&&C&&A===C&&typeof A=="string"&&(B=A,F=t.find(n,[B,B]),X=t.find(i,[B,B]));for(var W=[],H=0;H<L;H++){for(var U=X(N[0],E[0][H]),G=1;G<$;G++)U=F(U,X(N[G],E[G][H]));W[H]=U}return _.createDenseMatrix({data:W,size:[L],datatype:B})}var p=t("_multiplyMatrixVector",{"DenseMatrix, any":h,"SparseMatrix, any":b}),v=t("_multiplyMatrixMatrix",{"DenseMatrix, DenseMatrix":m,"DenseMatrix, SparseMatrix":g,"SparseMatrix, DenseMatrix":y,"SparseMatrix, SparseMatrix":w});function h(_,x){var N=_._data,M=_._size,A=_._datatype,E=x._data,D=x._datatype,C=M[0],$=M[1],L,B=n,F=i;A&&D&&A===D&&typeof A=="string"&&(L=A,B=t.find(n,[L,L]),F=t.find(i,[L,L]));for(var X=[],W=0;W<C;W++){for(var H=N[W],U=F(H[0],E[0]),G=1;G<$;G++)U=B(U,F(H[G],E[G]));X[W]=U}return _.createDenseMatrix({data:X,size:[C],datatype:L})}function m(_,x){var N=_._data,M=_._size,A=_._datatype,E=x._data,D=x._size,C=x._datatype,$=M[0],L=M[1],B=D[1],F,X=n,W=i;A&&C&&A===C&&typeof A=="string"&&(F=A,X=t.find(n,[F,F]),W=t.find(i,[F,F]));for(var H=[],U=0;U<$;U++){var G=N[U];H[U]=[];for(var ie=0;ie<B;ie++){for(var ne=W(G[0],E[0][ie]),Q=1;Q<L;Q++)ne=X(ne,W(G[Q],E[Q][ie]));H[U][ie]=ne}}return _.createDenseMatrix({data:H,size:[$,B],datatype:F})}function g(_,x){var N=_._data,M=_._size,A=_._datatype,E=x._values,D=x._index,C=x._ptr,$=x._size,L=x._datatype;if(!E)throw new Error("Cannot multiply Dense Matrix times Pattern only Matrix");var B=M[0],F=$[1],X,W=n,H=i,U=a,G=0;A&&L&&A===L&&typeof A=="string"&&(X=A,W=t.find(n,[X,X]),H=t.find(i,[X,X]),U=t.find(a,[X,X]),G=t.convert(0,X));for(var ie=[],ne=[],Q=[],te=x.createSparseMatrix({values:ie,index:ne,ptr:Q,size:[B,F],datatype:X}),Y=0;Y<F;Y++){Q[Y]=ne.length;var se=C[Y],we=C[Y+1];if(we>se)for(var xe=0,pe=0;pe<B;pe++){for(var Ue=pe+1,P=void 0,R=se;R<we;R++){var K=D[R];xe!==Ue?(P=H(N[pe][K],E[R]),xe=Ue):P=W(P,H(N[pe][K],E[R]))}xe===Ue&&!U(P,G)&&(ne.push(pe),ie.push(P))}}return Q[F]=ne.length,te}function b(_,x){var N=_._values,M=_._index,A=_._ptr,E=_._datatype;if(!N)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var D=x._data,C=x._datatype,$=_._size[0],L=x._size[0],B=[],F=[],X=[],W,H=n,U=i,G=a,ie=0;E&&C&&E===C&&typeof E=="string"&&(W=E,H=t.find(n,[W,W]),U=t.find(i,[W,W]),G=t.find(a,[W,W]),ie=t.convert(0,W));var ne=[],Q=[];X[0]=0;for(var te=0;te<L;te++){var Y=D[te];if(!G(Y,ie))for(var se=A[te],we=A[te+1],xe=se;xe<we;xe++){var pe=M[xe];Q[pe]?ne[pe]=H(ne[pe],U(Y,N[xe])):(Q[pe]=!0,F.push(pe),ne[pe]=U(Y,N[xe]))}}for(var Ue=F.length,P=0;P<Ue;P++){var R=F[P];B[P]=ne[R]}return X[1]=F.length,_.createSparseMatrix({values:B,index:F,ptr:X,size:[$,1],datatype:W})}function y(_,x){var N=_._values,M=_._index,A=_._ptr,E=_._datatype;if(!N)throw new Error("Cannot multiply Pattern only Matrix times Dense Matrix");var D=x._data,C=x._datatype,$=_._size[0],L=x._size[0],B=x._size[1],F,X=n,W=i,H=a,U=0;E&&C&&E===C&&typeof E=="string"&&(F=E,X=t.find(n,[F,F]),W=t.find(i,[F,F]),H=t.find(a,[F,F]),U=t.convert(0,F));for(var G=[],ie=[],ne=[],Q=_.createSparseMatrix({values:G,index:ie,ptr:ne,size:[$,B],datatype:F}),te=[],Y=[],se=0;se<B;se++){ne[se]=ie.length;for(var we=se+1,xe=0;xe<L;xe++){var pe=D[xe][se];if(!H(pe,U))for(var Ue=A[xe],P=A[xe+1],R=Ue;R<P;R++){var K=M[R];Y[K]!==we?(Y[K]=we,ie.push(K),te[K]=W(pe,N[R])):te[K]=X(te[K],W(pe,N[R]))}}for(var J=ne[se],ee=ie.length,oe=J;oe<ee;oe++){var de=ie[oe];G[oe]=te[de]}}return ne[B]=ie.length,Q}function w(_,x){var N=_._values,M=_._index,A=_._ptr,E=_._datatype,D=x._values,C=x._index,$=x._ptr,L=x._datatype,B=_._size[0],F=x._size[1],X=N&&D,W,H=n,U=i;E&&L&&E===L&&typeof E=="string"&&(W=E,H=t.find(n,[W,W]),U=t.find(i,[W,W]));for(var G=X?[]:void 0,ie=[],ne=[],Q=_.createSparseMatrix({values:G,index:ie,ptr:ne,size:[B,F],datatype:W}),te=X?[]:void 0,Y=[],se,we,xe,pe,Ue,P,R,K,J=0;J<F;J++){ne[J]=ie.length;var ee=J+1;for(Ue=$[J],P=$[J+1],pe=Ue;pe<P;pe++)if(K=C[pe],X)for(we=A[K],xe=A[K+1],se=we;se<xe;se++)R=M[se],Y[R]!==ee?(Y[R]=ee,ie.push(R),te[R]=U(D[pe],N[se])):te[R]=H(te[R],U(D[pe],N[se]));else for(we=A[K],xe=A[K+1],se=we;se<xe;se++)R=M[se],Y[R]!==ee&&(Y[R]=ee,ie.push(R));if(X)for(var oe=ne[J],de=ie.length,ae=oe;ae<de;ae++){var O=ie[ae];G[ae]=te[O]}}return ne[F]=ie.length,Q}return t($d,cv({"Array, Array":function(x,N){d(Qt(x),Qt(N));var M=this(r(x),r(N));return yt(M)?M.valueOf():M},"Matrix, Matrix":function(x,N){var M=x.size(),A=N.size();return d(M,A),M.length===1?A.length===1?l(x,N,M[0]):s(x,N):A.length===1?p(x,N):v(x,N)},"Matrix, Array":function(x,N){return this(x,r(N))},"Array, Matrix":function(x,N){return this(r(x,N.storage()),N)},"SparseMatrix, any":function(x,N){return u(x,N,i,!1)},"DenseMatrix, any":function(x,N){return c(x,N,i,!1)},"any, SparseMatrix":function(x,N){return u(N,x,i,!0)},"any, DenseMatrix":function(x,N){return c(N,x,i,!0)},"Array, any":function(x,N){return c(r(x),N,i,!1).valueOf()},"any, Array":function(x,N){return c(r(N),x,i,!0).valueOf()},"any, any":i,"any, any, ...any":function(x,N,M){for(var A=this(x,N),E=0;E<M.length;E++)A=this(A,M[E]);return A}},i.signatures))}),Bd="sign",sx=["typed","BigNumber","Fraction","complex"],ux=Ee(Bd,sx,e=>{var{typed:t,BigNumber:r,complex:n,Fraction:i}=e;return t(Bd,{number:yl,Complex:function(o){return o.im===0?n(yl(o.re)):o.sign()},BigNumber:function(o){return new r(o.cmp(0))},Fraction:function(o){return new i(o.s,1)},"Array | Matrix":function(o){return Xt(o,this)},Unit:function(o){if(!o._isDerived()&&o.units[0].unit.offset!==0)throw new TypeError("sign is ambiguous for units with offset");return this(o.value)}})}),lx="sqrt",cx=["config","typed","Complex"],fx=Ee(lx,cx,e=>{var{config:t,typed:r,Complex:n}=e;return r("sqrt",{number:i,Complex:function(o){return o.sqrt()},BigNumber:function(o){return!o.isNegative()||t.predictable?o.sqrt():i(o.toNumber())},"Array | Matrix":function(o){return Xt(o,this)},Unit:function(o){return o.pow(.5)}});function i(a){return isNaN(a)?NaN:a>=0||t.predictable?Math.sqrt(a):new n(a,0).sqrt()}}),Fd="subtract",dx=["typed","matrix","equalScalar","addScalar","unaryMinus","DenseMatrix"],hx=Ee(Fd,dx,e=>{var{typed:t,matrix:r,equalScalar:n,addScalar:i,unaryMinus:a,DenseMatrix:o}=e,u=Uv({typed:t}),c=Gi({typed:t}),d=tx({typed:t,equalScalar:n}),l=qv({typed:t,DenseMatrix:o}),s=fi({typed:t}),f=Fn({typed:t});return t(Fd,{"number, number":function(v,h){return v-h},"Complex, Complex":function(v,h){return v.sub(h)},"BigNumber, BigNumber":function(v,h){return v.minus(h)},"Fraction, Fraction":function(v,h){return v.sub(h)},"Unit, Unit":function(v,h){if(v.value===null)throw new Error("Parameter x contains a unit with undefined value");if(h.value===null)throw new Error("Parameter y contains a unit with undefined value");if(!v.equalBase(h))throw new Error("Units do not match");var m=v.clone();return m.value=this(m.value,h.value),m.fixPrefix=!1,m},"SparseMatrix, SparseMatrix":function(v,h){return vo(v,h),d(v,h,this)},"SparseMatrix, DenseMatrix":function(v,h){return vo(v,h),c(h,v,this,!0)},"DenseMatrix, SparseMatrix":function(v,h){return vo(v,h),u(v,h,this,!1)},"DenseMatrix, DenseMatrix":function(v,h){return vo(v,h),s(v,h,this)},"Array, Array":function(v,h){return this(r(v),r(h)).valueOf()},"Array, Matrix":function(v,h){return this(r(v),h)},"Matrix, Array":function(v,h){return this(v,r(h))},"SparseMatrix, any":function(v,h){return l(v,a(h),i)},"DenseMatrix, any":function(v,h){return f(v,h,this)},"any, SparseMatrix":function(v,h){return l(h,v,this,!0)},"any, DenseMatrix":function(v,h){return f(h,v,this,!0)},"Array, any":function(v,h){return f(r(v),h,this,!1).valueOf()},"any, Array":function(v,h){return f(r(h),v,this,!0).valueOf()}})});function vo(e,t){var r=e.size(),n=t.size();if(r.length!==n.length)throw new Qe(r.length,n.length)}var px="algorithm07",vx=["typed","DenseMatrix"],Ka=Ee(px,vx,e=>{var{typed:t,DenseMatrix:r}=e;return function(a,o,u){var c=a._size,d=a._datatype,l=o._size,s=o._datatype;if(c.length!==l.length)throw new Qe(c.length,l.length);if(c[0]!==l[0]||c[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+l+")");var f=c[0],p=c[1],v,h=0,m=u;typeof d=="string"&&d===s&&(v=d,h=t.convert(0,v),m=t.find(u,[v,v]));var g,b,y=[];for(g=0;g<f;g++)y[g]=[];var w=[],_=[],x=[],N=[];for(b=0;b<p;b++){var M=b+1;for(n(a,b,x,w,M),n(o,b,N,_,M),g=0;g<f;g++){var A=x[g]===M?w[g]:h,E=N[g]===M?_[g]:h;y[g][b]=m(A,E)}}return new r({data:y,size:[f,p],datatype:v})};function n(i,a,o,u,c){for(var d=i._values,l=i._index,s=i._ptr,f=s[a],p=s[a+1];f<p;f++){var v=l[f];o[v]=c,u[v]=d[f]}}}),zd="conj",mx=["typed"],gx=Ee(zd,mx,e=>{var{typed:t}=e;return t(zd,{number:function(n){return n},BigNumber:function(n){return n},Complex:function(n){return n.conjugate()},"Array | Matrix":function(n){return Xt(n,this)}})}),kd="im",yx=["typed"],bx=Ee(kd,yx,e=>{var{typed:t}=e;return t(kd,{number:function(n){return 0},BigNumber:function(n){return n.mul(0)},Fraction:function(n){return n.mul(0)},Complex:function(n){return n.im},"Array | Matrix":function(n){return Xt(n,this)}})}),Ld="re",wx=["typed"],_x=Ee(Ld,wx,e=>{var{typed:t}=e;return t(Ld,{number:function(n){return n},BigNumber:function(n){return n},Fraction:function(n){return n},Complex:function(n){return n.re},"Array | Matrix":function(n){return Xt(n,this)}})}),Ud="column",xx=["typed","Index","matrix","range"],Mx=Ee(Ud,xx,e=>{var{typed:t,Index:r,matrix:n,range:i}=e;return t(Ud,{"Matrix, number":a,"Array, number":function(u,c){return a(n(Ge(u)),c).valueOf()}});function a(o,u){if(o.size().length!==2)throw new Error("Only two dimensional matrix is supported");vt(u,o.size()[1]);var c=i(0,o.size()[0]),d=new r(c,u);return o.subset(d)}}),qd="diag",Sx=["typed","matrix","DenseMatrix","SparseMatrix"],Ex=Ee(qd,Sx,e=>{var{typed:t,matrix:r,DenseMatrix:n,SparseMatrix:i}=e;return t(qd,{Array:function(d){return a(d,0,Qt(d),null)},"Array, number":function(d,l){return a(d,l,Qt(d),null)},"Array, BigNumber":function(d,l){return a(d,l.toNumber(),Qt(d),null)},"Array, string":function(d,l){return a(d,0,Qt(d),l)},"Array, number, string":function(d,l,s){return a(d,l,Qt(d),s)},"Array, BigNumber, string":function(d,l,s){return a(d,l.toNumber(),Qt(d),s)},Matrix:function(d){return a(d,0,d.size(),d.storage())},"Matrix, number":function(d,l){return a(d,l,d.size(),d.storage())},"Matrix, BigNumber":function(d,l){return a(d,l.toNumber(),d.size(),d.storage())},"Matrix, string":function(d,l){return a(d,0,d.size(),l)},"Matrix, number, string":function(d,l,s){return a(d,l,d.size(),s)},"Matrix, BigNumber, string":function(d,l,s){return a(d,l.toNumber(),d.size(),s)}});function a(c,d,l,s){if(!xt(d))throw new TypeError("Second parameter in function diag must be an integer");var f=d>0?d:0,p=d<0?-d:0;switch(l.length){case 1:return o(c,d,s,l[0],p,f);case 2:return u(c,d,s,l,p,f)}throw new RangeError("Matrix for function diag must be 2 dimensional")}function o(c,d,l,s,f,p){var v=[s+f,s+p];if(l&&l!=="sparse"&&l!=="dense")throw new TypeError("Unknown matrix type ".concat(l,'"'));var h=l==="sparse"?i.diagonal(v,c,d):n.diagonal(v,c,d);return l!==null?h:h.valueOf()}function u(c,d,l,s,f,p){if(yt(c)){var v=c.diagonal(d);return l!==null?l!==v.storage()?r(v,l):v:v.valueOf()}for(var h=Math.min(s[0]-f,s[1]-p),m=[],g=0;g<h;g++)m[g]=c[g+f][g+p];return l!==null?r(m):m}}),Vd="flatten",Ax=["typed","matrix"],Nx=Ee(Vd,Ax,e=>{var{typed:t,matrix:r}=e;return t(Vd,{Array:function(i){return dl(Ge(i))},Matrix:function(i){var a=dl(Ge(i.toArray()));return r(a)}})}),Kd="identity",Cx=["typed","config","matrix","BigNumber","DenseMatrix","SparseMatrix"],Ox=Ee(Kd,Cx,e=>{var{typed:t,config:r,matrix:n,BigNumber:i,DenseMatrix:a,SparseMatrix:o}=e;return t(Kd,{"":function(){return r.matrix==="Matrix"?n([]):[]},string:function(l){return n(l)},"number | BigNumber":function(l){return c(l,l,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, string":function(l,s){return c(l,l,s)},"number | BigNumber, number | BigNumber":function(l,s){return c(l,s,r.matrix==="Matrix"?"dense":void 0)},"number | BigNumber, number | BigNumber, string":function(l,s,f){return c(l,s,f)},Array:function(l){return u(l)},"Array, string":function(l,s){return u(l,s)},Matrix:function(l){return u(l.valueOf(),l.storage())},"Matrix, string":function(l,s){return u(l.valueOf(),s)}});function u(d,l){switch(d.length){case 0:return l?n(l):[];case 1:return c(d[0],d[0],l);case 2:return c(d[0],d[1],l);default:throw new Error("Vector containing two values expected")}}function c(d,l,s){var f=Ft(d)||Ft(l)?i:null;if(Ft(d)&&(d=d.toNumber()),Ft(l)&&(l=l.toNumber()),!xt(d)||d<1)throw new Error("Parameters in function identity must be positive integers");if(!xt(l)||l<1)throw new Error("Parameters in function identity must be positive integers");var p=f?new i(1):1,v=f?new f(0):0,h=[d,l];if(s){if(s==="sparse")return o.diagonal(h,p,0,v);if(s==="dense")return a.diagonal(h,p,0,v);throw new TypeError('Unknown matrix type "'.concat(s,'"'))}for(var m=Qo([],h,v),g=d<l?d:l,b=0;b<g;b++)m[b][b]=p;return m}});function Vv(){throw new Error('No "bignumber" implementation available')}function Dx(){throw new Error('No "fraction" implementation available')}function Kv(){throw new Error('No "matrix" implementation available')}var Hd="range",Tx=["typed","config","?matrix","?bignumber","smaller","smallerEq","larger","largerEq"],Px=Ee(Hd,Tx,e=>{var{typed:t,config:r,matrix:n,bignumber:i,smaller:a,smallerEq:o,larger:u,largerEq:c}=e;return t(Hd,{string:l,"string, boolean":l,"number, number":function(g,b){return d(s(g,b,1))},"number, number, number":function(g,b,y){return d(s(g,b,y))},"number, number, boolean":function(g,b,y){return d(y?f(g,b,1):s(g,b,1))},"number, number, number, boolean":function(g,b,y,w){return d(w?f(g,b,y):s(g,b,y))},"BigNumber, BigNumber":function(g,b){var y=g.constructor;return d(p(g,b,new y(1)))},"BigNumber, BigNumber, BigNumber":function(g,b,y){return d(p(g,b,y))},"BigNumber, BigNumber, boolean":function(g,b,y){var w=g.constructor;return d(y?v(g,b,new w(1)):p(g,b,new w(1)))},"BigNumber, BigNumber, BigNumber, boolean":function(g,b,y,w){return d(w?v(g,b,y):p(g,b,y))}});function d(m){return r.matrix==="Matrix"?n?n(m):Kv():m}function l(m,g){var b=h(m);if(!b)throw new SyntaxError('String "'+m+'" is no valid range');var y;return r.number==="BigNumber"?(i===void 0&&Vv(),y=g?v:p,d(y(i(b.start),i(b.end),i(b.step)))):(y=g?f:s,d(y(b.start,b.end,b.step)))}function s(m,g,b){var y=[],w=m;if(b>0)for(;a(w,g);)y.push(w),w+=b;else if(b<0)for(;u(w,g);)y.push(w),w+=b;return y}function f(m,g,b){var y=[],w=m;if(b>0)for(;o(w,g);)y.push(w),w+=b;else if(b<0)for(;c(w,g);)y.push(w),w+=b;return y}function p(m,g,b){var y=i(0),w=[],_=m;if(b.gt(y))for(;a(_,g);)w.push(_),_=_.plus(b);else if(b.lt(y))for(;u(_,g);)w.push(_),_=_.plus(b);return w}function v(m,g,b){var y=i(0),w=[],_=m;if(b.gt(y))for(;o(_,g);)w.push(_),_=_.plus(b);else if(b.lt(y))for(;c(_,g);)w.push(_),_=_.plus(b);return w}function h(m){var g=m.split(":"),b=g.map(function(w){return Number(w)}),y=b.some(function(w){return isNaN(w)});if(y)return null;switch(b.length){case 2:return{start:b[0],end:b[1],step:1};case 3:return{start:b[0],end:b[2],step:b[1]};default:return null}}}),Wd="size",Ix=["typed","config","?matrix"],Rx=Ee(Wd,Ix,e=>{var{typed:t,config:r,matrix:n}=e;return t(Wd,{Matrix:function(a){return a.create(a.size())},Array:Qt,string:function(a){return r.matrix==="Array"?[a.length]:n([a.length])},"number | Complex | BigNumber | Unit | boolean | null":function(a){return r.matrix==="Array"?[]:n?n([]):Kv()}})}),$x="transpose",Bx=["typed","matrix"],Fx=Ee($x,Bx,e=>{var{typed:t,matrix:r}=e;return t("transpose",{Array:function(o){return this(r(o)).valueOf()},Matrix:function(o){var u=o.size(),c;switch(u.length){case 1:c=o.clone();break;case 2:{var d=u[0],l=u[1];if(l===0)throw new RangeError("Cannot transpose a 2D matrix with no columns (size: "+ct(u)+")");switch(o.storage()){case"dense":c=n(o,d,l);break;case"sparse":c=i(o,d,l);break}}break;default:throw new RangeError("Matrix must be a vector or two dimensional (size: "+ct(this._size)+")")}return c},any:function(o){return Ge(o)}});function n(a,o,u){for(var c=a._data,d=[],l,s=0;s<u;s++){l=d[s]=[];for(var f=0;f<o;f++)l[f]=Ge(c[f][s])}return a.createDenseMatrix({data:d,size:[u,o],datatype:a._datatype})}function i(a,o,u){for(var c=a._values,d=a._index,l=a._ptr,s=c?[]:void 0,f=[],p=[],v=[],h=0;h<o;h++)v[h]=0;var m,g,b;for(m=0,g=d.length;m<g;m++)v[d[m]]++;for(var y=0,w=0;w<o;w++)p.push(y),y+=v[w],v[w]=p[w];for(p.push(y),b=0;b<u;b++)for(var _=l[b],x=l[b+1],N=_;N<x;N++){var M=v[d[N]]++;f[M]=b,c&&(s[M]=Ge(c[N]))}return a.createSparseMatrix({values:s,index:f,ptr:p,size:[u,o],datatype:a._datatype})}}),Yd="zeros",zx=["typed","config","matrix","BigNumber"],kx=Ee(Yd,zx,e=>{var{typed:t,config:r,matrix:n,BigNumber:i}=e;return t(Yd,{"":function(){return r.matrix==="Array"?a([]):a([],"default")},"...number | BigNumber | string":function(d){var l=d[d.length-1];if(typeof l=="string"){var s=d.pop();return a(d,s)}else return r.matrix==="Array"?a(d):a(d,"default")},Array:a,Matrix:function(d){var l=d.storage();return a(d.valueOf(),l)},"Array | Matrix, string":function(d,l){return a(d.valueOf(),l)}});function a(c,d){var l=o(c),s=l?new i(0):0;if(u(c),d){var f=n(d);return c.length>0?f.resize(c,s):f}else{var p=[];return c.length>0?Qo(p,c,s):p}}function o(c){var d=!1;return c.forEach(function(l,s,f){Ft(l)&&(d=!0,f[s]=l.toNumber())}),d}function u(c){c.forEach(function(d){if(typeof d!="number"||!xt(d)||d<0)throw new Error("Parameters in function zeros must be positive integers")})}}),Lx="numeric",Ux=["number","?bignumber","?fraction"],qx=Ee(Lx,Ux,e=>{var{number:t,bignumber:r,fraction:n}=e,i={string:!0,number:!0,BigNumber:!0,Fraction:!0},a={number:o=>t(o),BigNumber:r?o=>r(o):Vv,Fraction:n?o=>n(o):Dx};return function(u,c){var d=Kr(u);if(!(d in i))throw new TypeError("Cannot convert "+u+' of type "'+d+'"; valid input types are '+Object.keys(i).join(", "));if(!(c in a))throw new TypeError("Cannot convert "+u+' to type "'+c+'"; valid output types are '+Object.keys(a).join(", "));return c===d?u:a[c](u)}}),Xd="divideScalar",Vx=["typed","numeric"],Kx=Ee(Xd,Vx,e=>{var{typed:t,numeric:r}=e;return t(Xd,{"number, number":function(i,a){return i/a},"Complex, Complex":function(i,a){return i.div(a)},"BigNumber, BigNumber":function(i,a){return i.div(a)},"Fraction, Fraction":function(i,a){return i.div(a)},"Unit, number | Fraction | BigNumber":function(i,a){var o=i.clone(),u=r(1,Kr(a));return o.value=this(o.value===null?o._normalize(u):o.value,a),o},"number | Fraction | BigNumber, Unit":function(i,a){var o=a.clone();o=o.pow(-1);var u=r(1,Kr(i));return o.value=this(i,a.value===null?a._normalize(u):a.value),o},"Unit, Unit":function(i,a){return i.divide(a)}})});function Hv(e){var{DenseMatrix:t}=e;return function(n,i,a){var o=n.size();if(o.length!==2)throw new RangeError("Matrix must be two dimensional (size: "+ct(o)+")");var u=o[0],c=o[1];if(u!==c)throw new RangeError("Matrix must be square (size: "+ct(o)+")");var d=[];if(yt(i)){var l=i.size(),s=i._data;if(l.length===1){if(l[0]!==u)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var f=0;f<u;f++)d[f]=[s[f]];return new t({data:d,size:[u,1],datatype:i._datatype})}if(l.length===2){if(l[0]!==u||l[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");if(iv(i)){if(a){d=[];for(var p=0;p<u;p++)d[p]=[s[p][0]];return new t({data:d,size:[u,1],datatype:i._datatype})}return i}if(av(i)){for(var v=0;v<u;v++)d[v]=[0];for(var h=i._values,m=i._index,g=i._ptr,b=g[1],y=g[0];y<b;y++){var w=m[y];d[w][0]=h[y]}return new t({data:d,size:[u,1],datatype:i._datatype})}}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}if(it(i)){var _=Qt(i);if(_.length===1){if(_[0]!==u)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var x=0;x<u;x++)d[x]=[i[x]];return new t({data:d,size:[u,1]})}if(_.length===2){if(_[0]!==u||_[1]!==1)throw new RangeError("Dimension mismatch. Matrix columns must match vector length.");for(var N=0;N<u;N++)d[N]=[i[N][0]];return new t({data:d,size:[u,1]})}throw new RangeError("Dimension mismatch. The right side has to be either 1- or 2-dimensional vector.")}}}var Gd="usolve",Hx=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],Wx=Ee(Gd,Hx,e=>{var{typed:t,matrix:r,divideScalar:n,multiplyScalar:i,subtract:a,equalScalar:o,DenseMatrix:u}=e,c=Hv({DenseMatrix:u});return t(Gd,{"SparseMatrix, Array | Matrix":function(f,p){return l(f,p)},"DenseMatrix, Array | Matrix":function(f,p){return d(f,p)},"Array, Array | Matrix":function(f,p){var v=r(f),h=d(v,p);return h.valueOf()}});function d(s,f){f=c(s,f,!0);for(var p=f._data,v=s._size[0],h=s._size[1],m=[],g=s._data,b=h-1;b>=0;b--){var y=p[b][0]||0,w=void 0;if(o(y,0))w=0;else{var _=g[b][b];if(o(_,0))throw new Error("Linear system cannot be solved since matrix is singular");w=n(y,_);for(var x=b-1;x>=0;x--)p[x]=[a(p[x][0]||0,i(w,g[x][b]))]}m[b]=[w]}return new u({data:m,size:[v,1]})}function l(s,f){f=c(s,f,!0);for(var p=f._data,v=s._size[0],h=s._size[1],m=s._values,g=s._index,b=s._ptr,y=[],w=h-1;w>=0;w--){var _=p[w][0]||0;if(o(_,0))y[w]=[0];else{for(var x=0,N=[],M=[],A=b[w],E=b[w+1],D=E-1;D>=A;D--){var C=g[D];C===w?x=m[D]:C<w&&(N.push(m[D]),M.push(C))}if(o(x,0))throw new Error("Linear system cannot be solved since matrix is singular");for(var $=n(_,x),L=0,B=M.length;L<B;L++){var F=M[L];p[F]=[a(p[F][0],i($,N[L]))]}y[w]=[$]}}return new u({data:y,size:[v,1]})}}),Zd="usolveAll",Yx=["typed","matrix","divideScalar","multiplyScalar","subtract","equalScalar","DenseMatrix"],Xx=Ee(Zd,Yx,e=>{var{typed:t,matrix:r,divideScalar:n,multiplyScalar:i,subtract:a,equalScalar:o,DenseMatrix:u}=e,c=Hv({DenseMatrix:u});return t(Zd,{"SparseMatrix, Array | Matrix":function(f,p){return l(f,p)},"DenseMatrix, Array | Matrix":function(f,p){return d(f,p)},"Array, Array | Matrix":function(f,p){var v=r(f),h=d(v,p);return h.map(m=>m.valueOf())}});function d(s,f){for(var p=[c(s,f,!0)._data.map(M=>M[0])],v=s._data,h=s._size[0],m=s._size[1],g=m-1;g>=0;g--)for(var b=p.length,y=0;y<b;y++){var w=p[y];if(o(v[g][g],0))if(o(w[g],0)){if(y===0){var x=[...w];x[g]=1;for(var N=g-1;N>=0;N--)x[N]=a(x[N],v[N][g]);p.push(x)}}else{if(y===0)return[];p.splice(y,1),y-=1,b-=1}else{w[g]=n(w[g],v[g][g]);for(var _=g-1;_>=0;_--)w[_]=a(w[_],i(w[g],v[_][g]))}}return p.map(M=>new u({data:M.map(A=>[A]),size:[h,1]}))}function l(s,f){for(var p=[c(s,f,!0)._data.map(G=>G[0])],v=s._size[0],h=s._size[1],m=s._values,g=s._index,b=s._ptr,y=h-1;y>=0;y--)for(var w=p.length,_=0;_<w;_++){for(var x=p[_],N=[],M=[],A=b[y],E=b[y+1],D=0,C=E-1;C>=A;C--){var $=g[C];$===y?D=m[C]:$<y&&(N.push(m[C]),M.push($))}if(o(D,0))if(o(x[y],0)){if(_===0){var X=[...x];X[y]=1;for(var W=0,H=M.length;W<H;W++){var U=M[W];X[U]=a(X[U],N[W])}p.push(X)}}else{if(_===0)return[];p.splice(_,1),_-=1,w-=1}else{x[y]=n(x[y],D);for(var L=0,B=M.length;L<B;L++){var F=M[L];x[F]=a(x[F],i(x[y],N[L]))}}}return p.map(G=>new u({data:G.map(ie=>[ie]),size:[v,1]}))}}),is="equal",Gx=["typed","matrix","equalScalar","DenseMatrix"],Zx=Ee(is,Gx,e=>{var{typed:t,matrix:r,equalScalar:n,DenseMatrix:i}=e,a=Gi({typed:t}),o=Ka({typed:t,DenseMatrix:i}),u=Va({typed:t,DenseMatrix:i}),c=fi({typed:t}),d=Fn({typed:t});return t(is,{"any, any":function(s,f){return s===null?f===null:f===null?s===null:s===void 0?f===void 0:f===void 0?s===void 0:n(s,f)},"SparseMatrix, SparseMatrix":function(s,f){return o(s,f,n)},"SparseMatrix, DenseMatrix":function(s,f){return a(f,s,n,!0)},"DenseMatrix, SparseMatrix":function(s,f){return a(s,f,n,!1)},"DenseMatrix, DenseMatrix":function(s,f){return c(s,f,n)},"Array, Array":function(s,f){return this(r(s),r(f)).valueOf()},"Array, Matrix":function(s,f){return this(r(s),f)},"Matrix, Array":function(s,f){return this(s,r(f))},"SparseMatrix, any":function(s,f){return u(s,f,n,!1)},"DenseMatrix, any":function(s,f){return d(s,f,n,!1)},"any, SparseMatrix":function(s,f){return u(f,s,n,!0)},"any, DenseMatrix":function(s,f){return d(f,s,n,!0)},"Array, any":function(s,f){return d(r(s),f,n,!1).valueOf()},"any, Array":function(s,f){return d(r(f),s,n,!0).valueOf()}})});Ee(is,["typed","equalScalar"],e=>{var{typed:t,equalScalar:r}=e;return t(is,{"any, any":function(i,a){return i===null?a===null:a===null?i===null:i===void 0?a===void 0:a===void 0?i===void 0:r(i,a)}})});var Jd="smaller",Jx=["typed","config","matrix","DenseMatrix"],Qx=Ee(Jd,Jx,e=>{var{typed:t,config:r,matrix:n,DenseMatrix:i}=e,a=Gi({typed:t}),o=Ka({typed:t,DenseMatrix:i}),u=Va({typed:t,DenseMatrix:i}),c=fi({typed:t}),d=Fn({typed:t});return t(Jd,{"boolean, boolean":function(s,f){return s<f},"number, number":function(s,f){return s<f&&!Cn(s,f,r.epsilon)},"BigNumber, BigNumber":function(s,f){return s.lt(f)&&!qa(s,f,r.epsilon)},"Fraction, Fraction":function(s,f){return s.compare(f)===-1},"Complex, Complex":function(s,f){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(s,f){if(!s.equalBase(f))throw new Error("Cannot compare units with different base");return this(s.value,f.value)},"SparseMatrix, SparseMatrix":function(s,f){return o(s,f,this)},"SparseMatrix, DenseMatrix":function(s,f){return a(f,s,this,!0)},"DenseMatrix, SparseMatrix":function(s,f){return a(s,f,this,!1)},"DenseMatrix, DenseMatrix":function(s,f){return c(s,f,this)},"Array, Array":function(s,f){return this(n(s),n(f)).valueOf()},"Array, Matrix":function(s,f){return this(n(s),f)},"Matrix, Array":function(s,f){return this(s,n(f))},"SparseMatrix, any":function(s,f){return u(s,f,this,!1)},"DenseMatrix, any":function(s,f){return d(s,f,this,!1)},"any, SparseMatrix":function(s,f){return u(f,s,this,!0)},"any, DenseMatrix":function(s,f){return d(f,s,this,!0)},"Array, any":function(s,f){return d(n(s),f,this,!1).valueOf()},"any, Array":function(s,f){return d(n(f),s,this,!0).valueOf()}})}),Qd="smallerEq",jx=["typed","config","matrix","DenseMatrix"],eM=Ee(Qd,jx,e=>{var{typed:t,config:r,matrix:n,DenseMatrix:i}=e,a=Gi({typed:t}),o=Ka({typed:t,DenseMatrix:i}),u=Va({typed:t,DenseMatrix:i}),c=fi({typed:t}),d=Fn({typed:t});return t(Qd,{"boolean, boolean":function(s,f){return s<=f},"number, number":function(s,f){return s<=f||Cn(s,f,r.epsilon)},"BigNumber, BigNumber":function(s,f){return s.lte(f)||qa(s,f,r.epsilon)},"Fraction, Fraction":function(s,f){return s.compare(f)!==1},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(s,f){if(!s.equalBase(f))throw new Error("Cannot compare units with different base");return this(s.value,f.value)},"SparseMatrix, SparseMatrix":function(s,f){return o(s,f,this)},"SparseMatrix, DenseMatrix":function(s,f){return a(f,s,this,!0)},"DenseMatrix, SparseMatrix":function(s,f){return a(s,f,this,!1)},"DenseMatrix, DenseMatrix":function(s,f){return c(s,f,this)},"Array, Array":function(s,f){return this(n(s),n(f)).valueOf()},"Array, Matrix":function(s,f){return this(n(s),f)},"Matrix, Array":function(s,f){return this(s,n(f))},"SparseMatrix, any":function(s,f){return u(s,f,this,!1)},"DenseMatrix, any":function(s,f){return d(s,f,this,!1)},"any, SparseMatrix":function(s,f){return u(f,s,this,!0)},"any, DenseMatrix":function(s,f){return d(f,s,this,!0)},"Array, any":function(s,f){return d(n(s),f,this,!1).valueOf()},"any, Array":function(s,f){return d(n(f),s,this,!0).valueOf()}})}),jd="larger",tM=["typed","config","matrix","DenseMatrix"],rM=Ee(jd,tM,e=>{var{typed:t,config:r,matrix:n,DenseMatrix:i}=e,a=Gi({typed:t}),o=Ka({typed:t,DenseMatrix:i}),u=Va({typed:t,DenseMatrix:i}),c=fi({typed:t}),d=Fn({typed:t});return t(jd,{"boolean, boolean":function(s,f){return s>f},"number, number":function(s,f){return s>f&&!Cn(s,f,r.epsilon)},"BigNumber, BigNumber":function(s,f){return s.gt(f)&&!qa(s,f,r.epsilon)},"Fraction, Fraction":function(s,f){return s.compare(f)===1},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(s,f){if(!s.equalBase(f))throw new Error("Cannot compare units with different base");return this(s.value,f.value)},"SparseMatrix, SparseMatrix":function(s,f){return o(s,f,this)},"SparseMatrix, DenseMatrix":function(s,f){return a(f,s,this,!0)},"DenseMatrix, SparseMatrix":function(s,f){return a(s,f,this,!1)},"DenseMatrix, DenseMatrix":function(s,f){return c(s,f,this)},"Array, Array":function(s,f){return this(n(s),n(f)).valueOf()},"Array, Matrix":function(s,f){return this(n(s),f)},"Matrix, Array":function(s,f){return this(s,n(f))},"SparseMatrix, any":function(s,f){return u(s,f,this,!1)},"DenseMatrix, any":function(s,f){return d(s,f,this,!1)},"any, SparseMatrix":function(s,f){return u(f,s,this,!0)},"any, DenseMatrix":function(s,f){return d(f,s,this,!0)},"Array, any":function(s,f){return d(n(s),f,this,!1).valueOf()},"any, Array":function(s,f){return d(n(f),s,this,!0).valueOf()}})}),eh="largerEq",nM=["typed","config","matrix","DenseMatrix"],iM=Ee(eh,nM,e=>{var{typed:t,config:r,matrix:n,DenseMatrix:i}=e,a=Gi({typed:t}),o=Ka({typed:t,DenseMatrix:i}),u=Va({typed:t,DenseMatrix:i}),c=fi({typed:t}),d=Fn({typed:t});return t(eh,{"boolean, boolean":function(s,f){return s>=f},"number, number":function(s,f){return s>=f||Cn(s,f,r.epsilon)},"BigNumber, BigNumber":function(s,f){return s.gte(f)||qa(s,f,r.epsilon)},"Fraction, Fraction":function(s,f){return s.compare(f)!==-1},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(s,f){if(!s.equalBase(f))throw new Error("Cannot compare units with different base");return this(s.value,f.value)},"SparseMatrix, SparseMatrix":function(s,f){return o(s,f,this)},"SparseMatrix, DenseMatrix":function(s,f){return a(f,s,this,!0)},"DenseMatrix, SparseMatrix":function(s,f){return a(s,f,this,!1)},"DenseMatrix, DenseMatrix":function(s,f){return c(s,f,this)},"Array, Array":function(s,f){return this(n(s),n(f)).valueOf()},"Array, Matrix":function(s,f){return this(n(s),f)},"Matrix, Array":function(s,f){return this(s,n(f))},"SparseMatrix, any":function(s,f){return u(s,f,this,!1)},"DenseMatrix, any":function(s,f){return d(s,f,this,!1)},"any, SparseMatrix":function(s,f){return u(f,s,this,!0)},"any, DenseMatrix":function(s,f){return d(f,s,this,!0)},"Array, any":function(s,f){return d(n(s),f,this,!1).valueOf()},"any, Array":function(s,f){return d(n(f),s,this,!0).valueOf()}})}),aM="ImmutableDenseMatrix",oM=["smaller","DenseMatrix"],sM=Ee(aM,oM,e=>{var{smaller:t,DenseMatrix:r}=e;function n(i,a){if(!(this instanceof n))throw new SyntaxError("Constructor must be called with the new operator");if(a&&!Lr(a))throw new Error("Invalid datatype: "+a);if(yt(i)||it(i)){var o=new r(i,a);this._data=o._data,this._size=o._size,this._datatype=o._datatype,this._min=null,this._max=null}else if(i&&it(i.data)&&it(i.size))this._data=i.data,this._size=i.size,this._datatype=i.datatype,this._min=typeof i.min!="undefined"?i.min:null,this._max=typeof i.max!="undefined"?i.max:null;else{if(i)throw new TypeError("Unsupported type of data ("+Kr(i)+")");this._data=[],this._size=[0],this._datatype=a,this._min=null,this._max=null}}return n.prototype=new r,n.prototype.type="ImmutableDenseMatrix",n.prototype.isImmutableDenseMatrix=!0,n.prototype.subset=function(i){switch(arguments.length){case 1:{var a=r.prototype.subset.call(this,i);return yt(a)?new n({data:a._data,size:a._size,datatype:a._datatype}):a}case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},n.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},n.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},n.prototype.reshape=function(){throw new Error("Cannot invoke reshape on an Immutable Matrix instance")},n.prototype.clone=function(){return new n({data:Ge(this._data),size:Ge(this._size),datatype:this._datatype})},n.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},n.fromJSON=function(i){return new n(i)},n.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},n.prototype.min=function(){if(this._min===null){var i=null;this.forEach(function(a){(i===null||t(a,i))&&(i=a)}),this._min=i!==null?i:void 0}return this._min},n.prototype.max=function(){if(this._max===null){var i=null;this.forEach(function(a){(i===null||t(i,a))&&(i=a)}),this._max=i!==null?i:void 0}return this._max},n},{isClass:!0}),uM="Index",lM=["ImmutableDenseMatrix"],cM=Ee(uM,lM,e=>{var{ImmutableDenseMatrix:t}=e;function r(i){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var a=0,o=arguments.length;a<o;a++){var u=arguments[a];if(Ic(u))this._dimensions.push(u),this._isScalar=!1;else if(Array.isArray(u)||yt(u)){var c=n(u.valueOf());this._dimensions.push(c);var d=c.size();(d.length!==1||d[0]!==1)&&(this._isScalar=!1)}else if(typeof u=="number")this._dimensions.push(n([u]));else if(typeof u=="string")this._dimensions.push(u);else throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range")}}r.prototype.type="Index",r.prototype.isIndex=!0;function n(i){for(var a=0,o=i.length;a<o;a++)if(typeof i[a]!="number"||!xt(i[a]))throw new TypeError("Index parameters must be positive integer numbers");return new t(i)}return r.prototype.clone=function(){var i=new r;return i._dimensions=Ge(this._dimensions),i._isScalar=this._isScalar,i},r.create=function(i){var a=new r;return r.apply(a,i),a},r.prototype.size=function(){for(var i=[],a=0,o=this._dimensions.length;a<o;a++){var u=this._dimensions[a];i[a]=typeof u=="string"?1:u.size()[0]}return i},r.prototype.max=function(){for(var i=[],a=0,o=this._dimensions.length;a<o;a++){var u=this._dimensions[a];i[a]=typeof u=="string"?u:u.max()}return i},r.prototype.min=function(){for(var i=[],a=0,o=this._dimensions.length;a<o;a++){var u=this._dimensions[a];i[a]=typeof u=="string"?u:u.min()}return i},r.prototype.forEach=function(i){for(var a=0,o=this._dimensions.length;a<o;a++)i(this._dimensions[a],a,this)},r.prototype.dimension=function(i){return this._dimensions[i]||null},r.prototype.isObjectProperty=function(){return this._dimensions.length===1&&typeof this._dimensions[0]=="string"},r.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},r.prototype.isScalar=function(){return this._isScalar},r.prototype.toArray=function(){for(var i=[],a=0,o=this._dimensions.length;a<o;a++){var u=this._dimensions[a];i.push(typeof u=="string"?u:u.toArray())}return i},r.prototype.valueOf=r.prototype.toArray,r.prototype.toString=function(){for(var i=[],a=0,o=this._dimensions.length;a<o;a++){var u=this._dimensions[a];typeof u=="string"?i.push(JSON.stringify(u)):i.push(u.toString())}return"["+i.join(", ")+"]"},r.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},r.fromJSON=function(i){return r.create(i.dimensions)},r},{isClass:!0}),fM="atan",dM=["typed"],hM=Ee(fM,dM,e=>{var{typed:t}=e;return t("atan",{number:function(n){return Math.atan(n)},Complex:function(n){return n.atan()},BigNumber:function(n){return n.atan()},"Array | Matrix":function(n){return Xt(n,this)}})}),th="cos",pM=["typed"],vM=Ee(th,pM,e=>{var{typed:t}=e;return t(th,{number:Math.cos,Complex:function(n){return n.cos()},BigNumber:function(n){return n.cos()},Unit:function(n){if(!n.hasBase(n.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function cos is no angle");return this(n.value)},"Array | Matrix":function(n){return Xt(n,this)}})}),rh="sin",mM=["typed"],gM=Ee(rh,mM,e=>{var{typed:t}=e;return t(rh,{number:Math.sin,Complex:function(n){return n.sin()},BigNumber:function(n){return n.sin()},Unit:function(n){if(!n.hasBase(n.constructor.BASE_UNITS.ANGLE))throw new TypeError("Unit in function sin is no angle");return this(n.value)},"Array | Matrix":function(n){return Xt(n,this)}})}),nh="add",yM=["typed","matrix","addScalar","equalScalar","DenseMatrix","SparseMatrix"],bM=Ee(nh,yM,e=>{var{typed:t,matrix:r,addScalar:n,equalScalar:i,DenseMatrix:a,SparseMatrix:o}=e,u=Uv({typed:t}),c=W_({typed:t,equalScalar:i}),d=qv({typed:t,DenseMatrix:a}),l=fi({typed:t}),s=Fn({typed:t});return t(nh,cv({"DenseMatrix, DenseMatrix":function(p,v){return l(p,v,n)},"DenseMatrix, SparseMatrix":function(p,v){return u(p,v,n,!1)},"SparseMatrix, DenseMatrix":function(p,v){return u(v,p,n,!0)},"SparseMatrix, SparseMatrix":function(p,v){return c(p,v,n)},"Array, Array":function(p,v){return this(r(p),r(v)).valueOf()},"Array, Matrix":function(p,v){return this(r(p),v)},"Matrix, Array":function(p,v){return this(p,r(v))},"DenseMatrix, any":function(p,v){return s(p,v,n,!1)},"SparseMatrix, any":function(p,v){return d(p,v,n,!1)},"any, DenseMatrix":function(p,v){return s(v,p,n,!0)},"any, SparseMatrix":function(p,v){return d(v,p,n,!0)},"Array, any":function(p,v){return s(r(p),v,n,!1).valueOf()},"any, Array":function(p,v){return s(r(v),p,n,!0).valueOf()},"any, any":n,"any, any, ...any":function(p,v,h){for(var m=this(p,v),g=0;g<h.length;g++)m=this(m,h[g]);return m}},n.signatures))}),ih="dot",wM=["typed","addScalar","multiplyScalar","conj","size"],_M=Ee(ih,wM,e=>{var{typed:t,addScalar:r,multiplyScalar:n,conj:i,size:a}=e;return t(ih,{"Array | DenseMatrix, Array | DenseMatrix":u,"SparseMatrix, SparseMatrix":c});function o(l,s){var f=d(l),p=d(s),v,h;if(f.length===1)v=f[0];else if(f.length===2&&f[1]===1)v=f[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+f.join(", ")+")");if(p.length===1)h=p[0];else if(p.length===2&&p[1]===1)h=p[0];else throw new RangeError("Expected a column vector, instead got a matrix of size ("+p.join(", ")+")");if(v!==h)throw new RangeError("Vectors must have equal length ("+v+" != "+h+")");if(v===0)throw new RangeError("Cannot calculate the dot product of empty vectors");return v}function u(l,s){var f=o(l,s),p=yt(l)?l._data:l,v=yt(l)?l._datatype:void 0,h=yt(s)?s._data:s,m=yt(s)?s._datatype:void 0,g=d(l).length===2,b=d(s).length===2,y=r,w=n;if(v&&m&&v===m&&typeof v=="string"){var _=v;y=t.find(r,[_,_]),w=t.find(n,[_,_])}if(!g&&!b){for(var x=w(i(p[0]),h[0]),N=1;N<f;N++)x=y(x,w(i(p[N]),h[N]));return x}if(!g&&b){for(var M=w(i(p[0]),h[0][0]),A=1;A<f;A++)M=y(M,w(i(p[A]),h[A][0]));return M}if(g&&!b){for(var E=w(i(p[0][0]),h[0]),D=1;D<f;D++)E=y(E,w(i(p[D][0]),h[D]));return E}if(g&&b){for(var C=w(i(p[0][0]),h[0][0]),$=1;$<f;$++)C=y(C,w(i(p[$][0]),h[$][0]));return C}}function c(l,s){o(l,s);for(var f=l._index,p=l._values,v=s._index,h=s._values,m=0,g=r,b=n,y=0,w=0;y<f.length&&w<v.length;){var _=f[y],x=v[w];if(_<x){y++;continue}if(_>x){w++;continue}_===x&&(m=g(m,b(p[y],h[w])),y++,w++)}return m}function d(l){return yt(l)?l.size():a(l)}}),ah="qr",xM=["typed","matrix","zeros","identity","isZero","equal","sign","sqrt","conj","unaryMinus","addScalar","divideScalar","multiplyScalar","subtract","complex"],MM=Ee(ah,xM,e=>{var{typed:t,matrix:r,zeros:n,identity:i,isZero:a,equal:o,sign:u,sqrt:c,conj:d,unaryMinus:l,addScalar:s,divideScalar:f,multiplyScalar:p,subtract:v,complex:h}=e;return Zo(t(ah,{DenseMatrix:function(w){return g(w)},SparseMatrix:function(w){return b()},Array:function(w){var _=r(w),x=g(_);return{Q:x.Q.valueOf(),R:x.R.valueOf()}}}),{_denseQRimpl:m});function m(y){var w=y._size[0],_=y._size[1],x=i([w],"dense"),N=x._data,M=y.clone(),A=M._data,E,D,C,$=n([w],"");for(C=0;C<Math.min(_,w);++C){var L=A[C][C],B=l(o(L,0)?1:u(L)),F=d(B),X=0;for(E=C;E<w;E++)X=s(X,p(A[E][C],d(A[E][C])));var W=p(B,c(X));if(!a(W)){var H=v(L,W);for($[C]=1,E=C+1;E<w;E++)$[E]=f(A[E][C],H);var U=l(d(f(H,W))),G=void 0;for(D=C;D<_;D++){for(G=0,E=C;E<w;E++)G=s(G,p(d($[E]),A[E][D]));for(G=p(G,U),E=C;E<w;E++)A[E][D]=p(v(A[E][D],p($[E],G)),F)}for(E=0;E<w;E++){for(G=0,D=C;D<w;D++)G=s(G,p(N[E][D],$[D]));for(G=p(G,U),D=C;D<w;++D)N[E][D]=f(v(N[E][D],p(G,d($[D]))),F)}}}return{Q:x,R:M,toString:function(){return"Q: "+this.Q.toString()+`
R: `+this.R.toString()}}}function g(y){var w=m(y),_=w.R._data;if(y._data.length>0)for(var x=_[0][0].type==="Complex"?h(0):0,N=0;N<_.length;++N)for(var M=0;M<N&&M<(_[0]||[]).length;++M)_[N][M]=x;return w}function b(y){throw new Error("qr not implemented for sparse matrices yet")}}),oh="det",SM=["typed","matrix","subtract","multiply","divideScalar","isZero","unaryMinus"],EM=Ee(oh,SM,e=>{var{typed:t,matrix:r,subtract:n,multiply:i,divideScalar:a,isZero:o,unaryMinus:u}=e;return t(oh,{any:function(l){return Ge(l)},"Array | Matrix":function(l){var s;switch(yt(l)?s=l.size():Array.isArray(l)?(l=r(l),s=l.size()):s=[],s.length){case 0:return Ge(l);case 1:if(s[0]===1)return Ge(l.valueOf()[0]);throw new RangeError("Matrix must be square (size: "+ct(s)+")");case 2:{var f=s[0],p=s[1];if(f===p)return c(l.clone().valueOf(),f);throw new RangeError("Matrix must be square (size: "+ct(s)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+ct(s)+")")}}});function c(d,l,s){if(l===1)return Ge(d[0][0]);if(l===2)return n(i(d[0][0],d[1][1]),i(d[1][0],d[0][1]));for(var f=!1,p=new Array(l).fill(0).map((N,M)=>M),v=0;v<l;v++){var h=p[v];if(o(d[h][v])){var m=void 0;for(m=v+1;m<l;m++)if(!o(d[p[m]][v])){h=p[m],p[m]=p[v],p[v]=h,f=!f;break}if(m===l)return d[h][v]}for(var g=d[h][v],b=v===0?1:d[p[v-1]][v-1],y=v+1;y<l;y++)for(var w=p[y],_=v+1;_<l;_++)d[w][_]=a(n(i(d[w][_],g),i(d[w][v],d[h][_])),b)}var x=d[p[l-1]][l-1];return f?u(x):x}}),sh="inv",AM=["typed","matrix","divideScalar","addScalar","multiply","unaryMinus","det","identity","abs"],NM=Ee(sh,AM,e=>{var{typed:t,matrix:r,divideScalar:n,addScalar:i,multiply:a,unaryMinus:o,det:u,identity:c,abs:d}=e;return t(sh,{"Array | Matrix":function(f){var p=yt(f)?f.size():Qt(f);switch(p.length){case 1:if(p[0]===1)return yt(f)?r([n(1,f.valueOf()[0])]):[n(1,f[0])];throw new RangeError("Matrix must be square (size: "+ct(p)+")");case 2:{var v=p[0],h=p[1];if(v===h)return yt(f)?r(l(f.valueOf(),v,h),f.storage()):l(f,v,h);throw new RangeError("Matrix must be square (size: "+ct(p)+")")}default:throw new RangeError("Matrix must be two dimensional (size: "+ct(p)+")")}},any:function(f){return n(1,f)}});function l(s,f,p){var v,h,m,g,b;if(f===1){if(g=s[0][0],g===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(1,g)]]}else if(f===2){var y=u(s);if(y===0)throw Error("Cannot calculate inverse, determinant is zero");return[[n(s[1][1],y),n(o(s[0][1]),y)],[n(o(s[1][0]),y),n(s[0][0],y)]]}else{var w=s.concat();for(v=0;v<f;v++)w[v]=w[v].concat();for(var _=c(f).valueOf(),x=0;x<p;x++){var N=d(w[x][x]),M=x;for(v=x+1;v<f;)d(w[v][x])>N&&(N=d(w[v][x]),M=v),v++;if(N===0)throw Error("Cannot calculate inverse, determinant is zero");v=M,v!==x&&(b=w[x],w[x]=w[v],w[v]=b,b=_[x],_[x]=_[v],_[v]=b);var A=w[x],E=_[x];for(v=0;v<f;v++){var D=w[v],C=_[v];if(v!==x){if(D[x]!==0){for(m=n(o(D[x]),A[x]),h=x;h<p;h++)D[h]=i(D[h],a(m,A[h]));for(h=0;h<p;h++)C[h]=i(C[h],a(m,E[h]))}}else{for(m=A[x],h=x;h<p;h++)D[h]=n(D[h],m);for(h=0;h<p;h++)C[h]=n(C[h],m)}}}return _}}});function CM(e){var{addScalar:t,subtract:r,flatten:n,multiply:i,multiplyScalar:a,divideScalar:o,sqrt:u,abs:c,bignumber:d,diag:l,inv:s,qr:f,usolve:p,usolveAll:v,equal:h,complex:m,larger:g,smaller:b,matrixFromColumns:y,dot:w}=e;function _(U,G,ie,ne,Q){Q===void 0&&(Q=!0);var te=x(U,G,ie,ne,Q);N(U,G,ie,ne,Q,te);var{values:Y,C:se}=M(U,G,ie,ne,Q),we;return Q&&(we=A(U,G,se,te,Y,ie,ne),we=y(...we)),{values:Y,vectors:we}}function x(U,G,ie,ne,Q){var te=ne==="BigNumber",Y=ne==="Complex",se=te?d(0):0,we=te?d(1):Y?m(1):1,xe=te?d(1):1,pe=te?d(10):2,Ue=a(pe,pe),P;Q&&(P=Array(G).fill(we));for(var R=!1;!R;){R=!0;for(var K=0;K<G;K++){for(var J=se,ee=se,oe=0;oe<G;oe++)if(K!==oe){var de=c(U[K][oe]);J=t(J,de),ee=t(ee,de)}if(!h(J,0)&&!h(ee,0)){for(var ae=xe,O=J,I=o(ee,pe),q=a(ee,pe);b(O,I);)O=a(O,Ue),ae=a(ae,pe);for(;g(O,q);)O=o(O,Ue),ae=o(ae,pe);var k=b(o(t(O,ee),ae),a(t(J,ee),.95));if(k){R=!1;for(var re=o(1,ae),ue=0;ue<G;ue++)K!==ue&&(U[K][ue]=a(U[K][ue],ae),U[ue][K]=a(U[ue][K],re));Q&&(P[K]=a(P[K],ae))}}}}return l(P)}function N(U,G,ie,ne,Q,te){var Y=ne==="BigNumber",se=ne==="Complex",we=Y?d(0):se?m(0):0;Y&&(ie=d(ie));for(var xe=0;xe<G-2;xe++){for(var pe=0,Ue=we,P=xe+1;P<G;P++){var R=U[P][xe];b(c(Ue),c(R))&&(Ue=R,pe=P)}if(!b(c(Ue),ie)){if(pe!==xe+1){var K=U[pe];U[pe]=U[xe+1],U[xe+1]=K;for(var J=0;J<G;J++){var ee=U[J][pe];U[J][pe]=U[J][xe+1],U[J][xe+1]=ee}if(Q){var oe=te[pe];te[pe]=te[xe+1],te[xe+1]=oe}}for(var de=xe+2;de<G;de++){var ae=o(U[de][xe],Ue);if(ae!==0){for(var O=0;O<G;O++)U[de][O]=r(U[de][O],a(ae,U[xe+1][O]));for(var I=0;I<G;I++)U[I][xe+1]=t(U[I][xe+1],a(ae,U[I][de]));if(Q)for(var q=0;q<G;q++)te[de][q]=r(te[de][q],a(ae,te[xe+1][q]))}}}}return te}function M(U,G,ie,ne,Q){var te=ne==="BigNumber",Y=ne==="Complex",se=te?d(1):Y?m(1):1;te&&(ie=d(ie));for(var we=Ge(U),xe=[],pe=G,Ue=[],P=Q?l(Array(G).fill(se)):void 0,R=Q?l(Array(pe).fill(se)):void 0,K=0;K<=100;){K+=1;for(var J=0,ee=0;ee<pe;ee++)we[ee][ee]=r(we[ee][ee],J);var{Q:oe,R:de}=f(we);we=i(de,oe);for(var ae=0;ae<pe;ae++)we[ae][ae]=t(we[ae][ae],J);if(Q&&(R=i(R,oe)),pe===1||b(c(we[pe-1][pe-2]),ie)){K=0,xe.push(we[pe-1][pe-1]),Q&&(Ue.unshift([[1]]),C(R,G),P=i(P,R),pe>1&&(R=l(Array(pe-1).fill(se)))),pe-=1,we.pop();for(var O=0;O<pe;O++)we[O].pop()}else if(pe===2||b(c(we[pe-2][pe-3]),ie)){K=0;var I=E(we[pe-2][pe-2],we[pe-2][pe-1],we[pe-1][pe-2],we[pe-1][pe-1]);xe.push(...I),Q&&(Ue.unshift(D(we[pe-2][pe-2],we[pe-2][pe-1],we[pe-1][pe-2],we[pe-1][pe-1],I[0],I[1],ie,ne)),C(R,G),P=i(P,R),pe>2&&(R=l(Array(pe-2).fill(se)))),pe-=2,we.pop(),we.pop();for(var q=0;q<pe;q++)we[q].pop(),we[q].pop()}if(pe===0)break}if(xe.sort((ue,ve)=>+r(c(ue),c(ve))),K>100){var k=Error("The eigenvalues failed to converge. Only found these eigenvalues: "+xe.join(", "));throw k.values=xe,k.vectors=[],k}var re=Q?i(P,$(Ue,G)):void 0;return{values:xe,C:re}}function A(U,G,ie,ne,Q,te,Y){var se=s(ie),we=i(se,U,ie),xe=Y==="BigNumber",pe=Y==="Complex",Ue=xe?d(0):pe?m(0):0,P=xe?d(1):pe?m(1):1,R=[],K=[];for(var J of Q){var ee=L(R,J,h);ee===-1?(R.push(J),K.push(1)):K[ee]+=1}for(var oe=[],de=R.length,ae=Array(G).fill(Ue),O=l(Array(G).fill(P)),I=[],q=function(ve){var me=R[ve],he=r(we,i(me,O)),T=v(he,ae);for(T.shift();T.length<K[ve];){var S=B(he,G,T,te,Y);if(S==null){I.push(me);break}T.push(S)}var le=i(s(ne),ie);T=T.map(ye=>i(le,ye)),oe.push(...T.map(ye=>n(ye)))},k=0;k<de;k++)q(k);if(I.length!==0){var re=new Error("Failed to find eigenvectors for the following eigenvalues: "+I.join(", "));throw re.values=Q,re.vectors=oe,re}return oe}function E(U,G,ie,ne){var Q=t(U,ne),te=r(a(U,ne),a(G,ie)),Y=a(Q,.5),se=a(u(r(a(Q,Q),a(4,te))),.5);return[t(Y,se),r(Y,se)]}function D(U,G,ie,ne,Q,te,Y,se){var we=se==="BigNumber",xe=se==="Complex",pe=we?d(0):xe?m(0):0,Ue=we?d(1):xe?m(1):1;if(b(c(ie),Y))return[[Ue,pe],[pe,Ue]];if(g(c(r(Q,te)),Y))return[[r(Q,ne),r(te,ne)],[ie,ie]];var P=r(U,Q),R=r(G,Q),K=r(ie,Q),J=r(ne,Q);return b(c(R),Y)?[[P,Ue],[K,pe]]:[[R,pe],[J,Ue]]}function C(U,G){for(var ie=0;ie<U.length;ie++)U[ie].push(...Array(G-U[ie].length).fill(0));for(var ne=U.length;ne<G;ne++)U.push(Array(G).fill(0)),U[ne][ne]=1;return U}function $(U,G){for(var ie=[],ne=0;ne<G;ne++)ie[ne]=Array(G).fill(0);var Q=0;for(var te of U){for(var Y=te.length,se=0;se<Y;se++)for(var we=0;we<Y;we++)ie[Q+se][Q+we]=te[se][we];Q+=Y}return ie}function L(U,G,ie){for(var ne=0;ne<U.length;ne++)if(ie(U[ne],G))return ne;return-1}function B(U,G,ie,ne,Q){for(var te=Q==="BigNumber"?d(1e3):1e3,Y,se=0;Y=F(G,ie,Q),Y=p(U,Y),!g(W(Y),te);)if(++se>=5)return null;for(se=0;;){var we=p(U,Y);if(b(W(X(Y,[we])),ne))break;if(++se>=10)return null;Y=H(we)}return Y}function F(U,G,ie){var ne=ie==="BigNumber",Q=ie==="Complex",te=Array(U).fill(0).map(Y=>2*Math.random()-1);return ne&&(te=te.map(Y=>d(Y))),Q&&(te=te.map(Y=>m(Y))),te=X(te,G),H(te,ie)}function X(U,G){for(var ie of G)U=r(U,i(o(w(ie,U),w(ie,ie)),ie));return U}function W(U){return c(u(w(U,U)))}function H(U,G){var ie=G==="BigNumber",ne=G==="Complex",Q=ie?d(1):ne?m(1):1;return i(o(Q,W(U)),U)}return _}function OM(e){var{config:t,addScalar:r,subtract:n,abs:i,atan:a,cos:o,sin:u,multiplyScalar:c,inv:d,bignumber:l,multiply:s,add:f}=e;function p(E,D){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.epsilon,$=arguments.length>3?arguments[3]:void 0;if($==="number")return v(E,C);if($==="BigNumber")return h(E,C);throw TypeError("Unsupported data type: "+$)}function v(E,D){for(var C=E.length,$=Math.abs(D/C),L,B=new Array(C),F=0;F<C;F++)B[F]=A(C,0),B[F][F]=1;for(var X=x(E);Math.abs(X[1])>=Math.abs($);){var W=X[0][0],H=X[0][1];L=m(E[W][W],E[H][H],E[W][H]),E=_(E,L,W,H),B=b(B,L,W,H),X=x(E)}for(var U=A(C,0),G=0;G<C;G++)U[G]=E[G][G];return M(Ge(U),Ge(B))}function h(E,D){for(var C=E.length,$=i(D/C),L,B=new Array(C),F=0;F<C;F++)B[F]=A(C,0),B[F][F]=1;for(var X=N(E);i(X[1])>=i($);){var W=X[0][0],H=X[0][1];L=g(E[W][W],E[H][H],E[W][H]),E=w(E,L,W,H),B=y(B,L,W,H),X=N(E)}for(var U=A(C,0),G=0;G<C;G++)U[G]=E[G][G];return M(Ge(U),Ge(B))}function m(E,D,C){var $=D-E;return Math.abs($)<=t.epsilon?Math.PI/4:.5*Math.atan(2*C/(D-E))}function g(E,D,C){var $=n(D,E);return i($)<=t.epsilon?l(-1).acos().div(4):c(.5,a(s(2,C,d($))))}function b(E,D,C,$){for(var L=E.length,B=Math.cos(D),F=Math.sin(D),X=A(L,0),W=A(L,0),H=0;H<L;H++)X[H]=B*E[H][C]-F*E[H][$],W[H]=F*E[H][C]+B*E[H][$];for(var U=0;U<L;U++)E[U][C]=X[U],E[U][$]=W[U];return E}function y(E,D,C,$){for(var L=E.length,B=o(D),F=u(D),X=A(L,l(0)),W=A(L,l(0)),H=0;H<L;H++)X[H]=n(c(B,E[H][C]),c(F,E[H][$])),W[H]=r(c(F,E[H][C]),c(B,E[H][$]));for(var U=0;U<L;U++)E[U][C]=X[U],E[U][$]=W[U];return E}function w(E,D,C,$){for(var L=E.length,B=l(o(D)),F=l(u(D)),X=c(B,B),W=c(F,F),H=A(L,l(0)),U=A(L,l(0)),G=s(l(2),B,F,E[C][$]),ie=r(n(c(X,E[C][C]),G),c(W,E[$][$])),ne=f(c(W,E[C][C]),G,c(X,E[$][$])),Q=0;Q<L;Q++)H[Q]=n(c(B,E[C][Q]),c(F,E[$][Q])),U[Q]=r(c(F,E[C][Q]),c(B,E[$][Q]));E[C][C]=ie,E[$][$]=ne,E[C][$]=l(0),E[$][C]=l(0);for(var te=0;te<L;te++)te!==C&&te!==$&&(E[C][te]=H[te],E[te][C]=H[te],E[$][te]=U[te],E[te][$]=U[te]);return E}function _(E,D,C,$){for(var L=E.length,B=Math.cos(D),F=Math.sin(D),X=B*B,W=F*F,H=A(L,0),U=A(L,0),G=X*E[C][C]-2*B*F*E[C][$]+W*E[$][$],ie=W*E[C][C]+2*B*F*E[C][$]+X*E[$][$],ne=0;ne<L;ne++)H[ne]=B*E[C][ne]-F*E[$][ne],U[ne]=F*E[C][ne]+B*E[$][ne];E[C][C]=G,E[$][$]=ie,E[C][$]=0,E[$][C]=0;for(var Q=0;Q<L;Q++)Q!==C&&Q!==$&&(E[C][Q]=H[Q],E[Q][C]=H[Q],E[$][Q]=U[Q],E[Q][$]=U[Q]);return E}function x(E){for(var D=E.length,C=0,$=[0,1],L=0;L<D;L++)for(var B=L+1;B<D;B++)Math.abs(C)<Math.abs(E[L][B])&&(C=Math.abs(E[L][B]),$=[L,B]);return[$,C]}function N(E){for(var D=E.length,C=0,$=[0,1],L=0;L<D;L++)for(var B=L+1;B<D;B++)i(C)<i(E[L][B])&&(C=i(E[L][B]),$=[L,B]);return[$,C]}function M(E,D){for(var C=E.length,$=Array(C),L=Array(C),B=0;B<C;B++)L[B]=Array(C);for(var F=0;F<C;F++){for(var X=0,W=E[0],H=0;H<E.length;H++)i(E[H])<i(W)&&(X=H,W=E[X]);$[F]=E.splice(X,1)[0];for(var U=0;U<C;U++)L[U][F]=D[U][X],D[U].splice(X,1)}return{values:$,vectors:L}}function A(E,D){for(var C=new Array(E),$=0;$<E;$++)C[$]=D;return C}return p}var DM="eigs",TM=["config","typed","matrix","addScalar","equal","subtract","abs","atan","cos","sin","multiplyScalar","divideScalar","inv","bignumber","multiply","add","larger","column","flatten","number","complex","sqrt","diag","qr","usolve","usolveAll","im","re","smaller","matrixFromColumns","dot"],PM=Ee(DM,TM,e=>{var{config:t,typed:r,matrix:n,addScalar:i,subtract:a,equal:o,abs:u,atan:c,cos:d,sin:l,multiplyScalar:s,divideScalar:f,inv:p,bignumber:v,multiply:h,add:m,larger:g,column:b,flatten:y,number:w,complex:_,sqrt:x,diag:N,qr:M,usolve:A,usolveAll:E,im:D,re:C,smaller:$,matrixFromColumns:L,dot:B}=e,F=OM({config:t,addScalar:i,subtract:a,column:b,flatten:y,equal:o,abs:u,atan:c,cos:d,sin:l,multiplyScalar:s,inv:p,bignumber:v,complex:_,multiply:h,add:m}),X=CM({config:t,addScalar:i,subtract:a,multiply:h,multiplyScalar:s,flatten:y,divideScalar:f,sqrt:x,abs:u,bignumber:v,diag:N,qr:M,inv:p,usolve:A,usolveAll:E,equal:o,complex:_,larger:g,smaller:$,matrixFromColumns:L,dot:B});return r("eigs",{Array:function(Q){var te=n(Q);return W(te)},"Array, number|BigNumber":function(Q,te){var Y=n(Q);return W(Y,te)},Matrix:function(Q){var{values:te,vectors:Y}=W(Q);return{values:n(te),vectors:n(Y)}},"Matrix, number|BigNumber":function(Q,te){var{values:Y,vectors:se}=W(Q,te);return{values:n(Y),vectors:n(se)}}});function W(ne,Q){Q===void 0&&(Q=t.epsilon);var te=ne.size();if(te.length!==2||te[0]!==te[1])throw new RangeError("Matrix must be square (size: "+ct(te)+")");var Y=ne.toArray(),se=te[0];if(U(Y,se,Q)&&(G(Y,se),H(Y,se,Q))){var we=ie(ne,Y,se);return F(Y,se,Q,we)}var xe=ie(ne,Y,se);return X(Y,se,Q,xe)}function H(ne,Q,te){for(var Y=0;Y<Q;Y++)for(var se=Y;se<Q;se++)if(g(v(u(a(ne[Y][se],ne[se][Y]))),te))return!1;return!0}function U(ne,Q,te){for(var Y=0;Y<Q;Y++)for(var se=0;se<Q;se++)if(g(v(u(D(ne[Y][se]))),te))return!1;return!0}function G(ne,Q){for(var te=0;te<Q;te++)for(var Y=0;Y<Q;Y++)ne[te][Y]=C(ne[te][Y])}function ie(ne,Q,te){var Y=ne.datatype();if(Y==="number"||Y==="BigNumber"||Y==="Complex")return Y;for(var se=!1,we=!1,xe=!1,pe=0;pe<te;pe++)for(var Ue=0;Ue<te;Ue++){var P=Q[pe][Ue];if(bt(P)||ks(P))se=!0;else if(Ft(P))we=!0;else if(zs(P))xe=!0;else throw TypeError("Unsupported type in Matrix: "+Kr(P))}if(we&&xe&&console.warn("Complex BigNumbers not supported, this operation will lose precission."),xe){for(var R=0;R<te;R++)for(var K=0;K<te;K++)Q[R][K]=_(Q[R][K]);return"Complex"}if(we){for(var J=0;J<te;J++)for(var ee=0;ee<te;ee++)Q[J][ee]=v(Q[J][ee]);return"BigNumber"}if(se){for(var oe=0;oe<te;oe++)for(var de=0;de<te;de++)Q[oe][de]=w(Q[oe][de]);return"number"}else throw TypeError("Matrix contains unsupported types only.")}}),Ha=Vw({config:pr}),Fc=Ww({}),zc=Gw({}),kc=Qw({}),ur=t_({Matrix:kc}),ke=W1({BigNumber:Ha,Complex:Fc,DenseMatrix:ur,Fraction:zc}),Wv=P_({typed:ke}),di=R_({typed:ke}),IM=hM({typed:ke}),Lc=y_({BigNumber:Ha,typed:ke}),Uc=__({Complex:Fc,typed:ke}),Yv=gx({typed:ke}),hi=s_({config:pr,typed:ke}),RM=bx({typed:ke}),Xv=i_({typed:ke}),Zi=ix({typed:ke}),Gv=v_({typed:ke}),$M=_x({typed:ke}),BM=ux({BigNumber:Ha,Fraction:zc,complex:Uc,typed:ke}),FM=gM({typed:ke}),Ws=c_({Matrix:kc,equalScalar:hi,typed:ke}),zM=vM({typed:ke}),Zv=fx({Complex:Fc,config:pr,typed:ke}),Ys=D_({typed:ke}),kM=S_({Fraction:zc,typed:ke}),wt=A_({DenseMatrix:ur,Matrix:kc,SparseMatrix:Ws,typed:ke}),LM=qx({bignumber:Lc,fraction:kM,number:Gv}),Jv=Rx({matrix:wt,config:pr,typed:ke}),qc=Qx({DenseMatrix:ur,config:pr,matrix:wt,typed:ke}),Wa=hx({DenseMatrix:ur,addScalar:di,equalScalar:hi,matrix:wt,typed:ke,unaryMinus:Ys}),bl=Fx({matrix:wt,typed:ke}),UM=kx({BigNumber:Ha,config:pr,matrix:wt,typed:ke}),qM=Ex({DenseMatrix:ur,SparseMatrix:Ws,matrix:wt,typed:ke}),Ji=Kx({numeric:LM,typed:ke}),Qv=Zx({DenseMatrix:ur,equalScalar:hi,matrix:wt,typed:ke}),jv=Nx({matrix:wt,typed:ke}),VM=iM({DenseMatrix:ur,config:pr,matrix:wt,typed:ke}),KM=C_({flatten:jv,matrix:wt,size:Jv,typed:ke}),HM=eM({DenseMatrix:ur,config:pr,matrix:wt,typed:ke}),WM=Wx({DenseMatrix:ur,divideScalar:Ji,equalScalar:hi,matrix:wt,multiplyScalar:Zi,subtract:Wa,typed:ke}),Vc=bM({DenseMatrix:ur,SparseMatrix:Ws,addScalar:di,equalScalar:hi,matrix:wt,typed:ke}),em=_M({addScalar:di,conj:Yv,multiplyScalar:Zi,size:Jv,typed:ke}),tm=Ox({BigNumber:Ha,DenseMatrix:ur,SparseMatrix:Ws,config:pr,matrix:wt,typed:ke}),rm=rM({DenseMatrix:ur,config:pr,matrix:wt,typed:ke}),Oa=ox({addScalar:di,dot:em,equalScalar:hi,matrix:wt,multiplyScalar:Zi,typed:ke}),YM=MM({addScalar:di,complex:Uc,conj:Yv,divideScalar:Ji,equal:Qv,identity:tm,isZero:Xv,matrix:wt,multiplyScalar:Zi,sign:BM,sqrt:Zv,subtract:Wa,typed:ke,unaryMinus:Ys,zeros:UM}),XM=Px({bignumber:Lc,matrix:wt,config:pr,larger:rm,largerEq:VM,smaller:qc,smallerEq:HM,typed:ke}),GM=Xx({DenseMatrix:ur,divideScalar:Ji,equalScalar:hi,matrix:wt,multiplyScalar:Zi,subtract:Wa,typed:ke}),ZM=EM({divideScalar:Ji,isZero:Xv,matrix:wt,multiply:Oa,subtract:Wa,typed:ke,unaryMinus:Ys}),JM=sM({DenseMatrix:ur,smaller:qc}),QM=cM({ImmutableDenseMatrix:JM}),jM=Mx({Index:QM,matrix:wt,range:XM,typed:ke}),Kc=NM({abs:Wv,addScalar:di,det:ZM,divideScalar:Ji,identity:tm,matrix:wt,multiply:Oa,typed:ke,unaryMinus:Ys}),nm=PM({abs:Wv,add:Vc,addScalar:di,atan:IM,bignumber:Lc,column:jM,complex:Uc,config:pr,cos:zM,diag:qM,divideScalar:Ji,dot:em,equal:Qv,flatten:jv,im:RM,inv:Kc,larger:rm,matrix:wt,matrixFromColumns:KM,multiply:Oa,multiplyScalar:Zi,number:Gv,qr:YM,re:$M,sin:FM,smaller:qc,sqrt:Zv,subtract:Wa,typed:ke,usolve:WM,usolveAll:GM}),rr=(e,t)=>{const r=e.__vccOpts||e;for(const[n,i]of t)r[n]=i;return r};const eS={props:["init_params"],name:"TargetFunction",emits:["param_update"],data:function(){return{init:!1,expanded:!1,base:{A:null,B:null,C:null}}},created(){this.base.A=this.init_params.A,this.base.B=this.init_params.B,this.base.C=this.init_params.C,this.init=!0},mounted(){MathJax.typeset()},watch:{base:{handler(){this.$nextTick(()=>{MathJax.typeset()}),this.$emit("param_update",this.base)},deep:!0}},computed:{inverse_hessian(){let e=[[this.base.A,.5*this.base.B],[.5*this.base.B,this.base.C]];return Kc(Vc(e,bl(e)))},ih_eigen(){let e=nm(this.inverse_hessian),t=[];for(let r=0;r<e.values.length;r++)t.push({value:e.values[r],vector:e.vectors[r]});return t},theta_deg:{set(e){return e},get(){return 180/Math.PI*this.canonical.theta}}},methods:{expand(){this.expanded=!this.expanded,this.$nextTick(()=>{MathJax.typeset()})},round(e){return Math.round(e*1e3)/1e3},export(){return{A:this.base.A,B:this.base.B,C:this.base.C}}}},tS={class:"space-y-4"},rS=j("div",{class:"relative mb-10"},[j("div",{class:"absolute bg-white pr-0.5 pl-0.5 ml-1.5 block text-sm text-indigo-700 font-medium mb-5"},"Target Function "),j("div",{class:"h-6 flex w-full flex-col justify-center"},[j("hr")])],-1),nS={class:"flex justify-between space-x-3"},iS={class:"relative border border-gray-300 rounded-md px-3 py-2 shadow-sm focus-within:ring-1 focus-within:ring-indigo-600 focus-within:border-indigo-600"},aS=j("label",{class:"absolute -top-2 left-2 -mt-px inline-block px-1 bg-white text-xs font-medium text-gray-900"},"A",-1),oS={class:"relative border border-gray-300 rounded-md px-3 py-2 shadow-sm focus-within:ring-1 focus-within:ring-indigo-600 focus-within:border-indigo-600"},sS=j("label",{class:"absolute -top-2 left-2 -mt-px inline-block px-1 bg-white text-xs font-medium text-gray-900"},"B",-1),uS=["max"],lS={class:"relative border border-gray-300 rounded-md px-3 py-2 shadow-sm focus-within:ring-1 focus-within:ring-indigo-600 focus-within:border-indigo-600"},cS=j("label",{class:"absolute -top-2 left-2 -mt-px inline-block px-1 bg-white text-xs font-medium text-gray-900"},"C",-1),fS=j("div",{class:"flex justify-between space-x-3"},null,-1),dS={key:0,class:"space-y-4"},hS=j("label",{class:"text-xs uppercase text-gray-500"},"Explicit form",-1),pS={class:"py-3"},vS={class:""},mS=j("label",{class:"text-xs uppercase text-gray-500"},"Matrix form",-1),gS={class:"py-3"},yS={class:""},bS=j("label",{class:"text-xs uppercase text-gray-500"},"Inverse Hessian",-1),wS={class:"py-3"},_S=j("label",{class:"text-xs uppercase text-gray-500"},"Eigenvectors and values",-1),xS={class:"py-3"},MS={class:""},SS={class:"flex justify-right px-3"},ES={key:0},AS={key:1};function NS(e,t,r,n,i,a){return Ae(),Pe("div",tS,[rS,j("div",nS,[j("div",iS,[aS,ar(j("input",{type:"number","onUpdate:modelValue":t[0]||(t[0]=o=>e.base.A=o),step:"0.1",class:"block w-full border-0 p-0 text-gray-900 placeholder-gray-500 focus:ring-0 focus:outline-0 sm:text-sm appearance-none"},null,512),[[or,e.base.A]])]),j("div",oS,[sS,ar(j("input",{type:"number","onUpdate:modelValue":t[1]||(t[1]=o=>e.base.B=o),step:"0.1",max:Math.sqrt(4*e.base.A*e.base.C),class:"block w-full border-0 p-0 text-gray-900 placeholder-gray-500 focus:ring-0 focus:outline-0 sm:text-sm appearance-none"},null,8,uS),[[or,e.base.B]])]),j("div",lS,[cS,ar(j("input",{type:"number","onUpdate:modelValue":t[2]||(t[2]=o=>e.base.C=o),step:"0.1",class:"block w-full border-0 p-0 text-gray-900 placeholder-gray-500 focus:ring-0 focus:outline-0 sm:text-sm appearance-none"},null,512),[[or,e.base.C]])]),fS]),e.expanded?(Ae(),Pe("div",dS,[j("div",null,[hS,j("div",pS," $$ f(x,y) = "+He(e.base.A!==1?e.base.A:"")+"x^2 + "+He(e.base.B!==1&&e.base.B!==0?e.base.B:"")+" "+He(e.base.B!==0?"xy +":"")+" "+He(e.base.C!==1?e.base.C:"")+"y^2 $$ ",1)]),j("div",vS,[mS,j("div",gS," $$ \\begin{pmatrix} x & y \\end{pmatrix} \\begin{pmatrix} "+He(e.base.A)+" & "+He(1/2*e.base.B)+" \\\\ "+He(1/2*e.base.B)+" & "+He(e.base.C)+" \\end{pmatrix} \\begin{pmatrix} x \\\\ y \\end{pmatrix} $$ ",1)]),j("div",yS,[bS,j("div",wS," $$ H_f^{-1} = \\begin{pmatrix} "+He(a.round(a.inverse_hessian[0][0]))+" & "+He(a.round(a.inverse_hessian[0][1]))+" \\\\ "+He(a.round(a.inverse_hessian[1][0]))+" & "+He(a.round(a.inverse_hessian[1][1]))+" \\end{pmatrix} $$ ",1),_S,j("div",xS," $$ \\lambda_1 v_1 = "+He(a.round(a.ih_eigen[0].value))+" \\begin{pmatrix} "+He(a.round(a.ih_eigen[0].vector[0]))+" \\\\ "+He(a.round(a.ih_eigen[0].vector[1]))+" \\end{pmatrix} $$ ",1),j("div",MS," $$ \\lambda_2 v_2 = "+He(a.round(a.ih_eigen[1].value))+" \\begin{pmatrix} "+He(a.round(a.ih_eigen[1].vector[0]))+" \\\\ "+He(a.round(a.ih_eigen[1].vector[1]))+" \\end{pmatrix} $$ ",1)])])):An("",!0),j("div",SS,[j("button",{onClick:t[3]||(t[3]=o=>a.expand()),class:"text-right font-semibold w-full text-xs text-indigo-700 hover:text-indigo-800"},[e.expanded?(Ae(),Pe("span",ES,"Show less")):(Ae(),Pe("span",AS,"Show more"))])])])}var CS=rr(eS,[["render",NS]]);const OS={name:"SamplingOptions",data:function(){return{expanded:!1,potential:"log(norm(m))"}},mounted(){MathJax.typeset(),this.$nextTick(()=>{MathJax.typeset()}),this.$refs.potential_textbox.addEventListener("keydown",function(e){if(e.key=="Tab"){e.preventDefault();var t=this.selectionStart,r=this.selectionEnd;this.value=this.value.substring(0,t)+"  "+this.value.substring(r),this.selectionStart=this.selectionEnd=t+2}})},methods:{eval_potential_function(e,t,r){const n=math.parser(),i={norm_m:math.norm(e),sigma:t,cond_cov_m:math.norm(r,2)*math.norm(math.inv(r),2)};return n.evaluate(this.potential,i)},expand(){this.expanded=!this.expanded,this.$nextTick(()=>{MathJax.typeset()})},export(){return this.potential}}},DS={class:"space-y-3"},TS=j("div",{class:"relative mb-10"},[j("div",{class:"absolute bg-white pr-0.5 pl-0.5 ml-1.5 block text-sm text-indigo-700 font-medium mb-5"},"Potential Function "),j("div",{class:"h-6 flex w-full flex-col justify-center"},[j("hr")])],-1),PS={class:"space-y-4"},IS={class:"w-full relative border border-gray-300 rounded-md px-3 py-2 shadow-sm focus-within:ring-1 focus-within:ring-indigo-600 focus-within:border-indigo-600"},RS=j("label",{class:"absolute -top-2.5 left-4 -mt-px inline-block px-1 bg-white text-sm font-medium text-gray-900"}," $ V(\\theta)$",-1),$S=j("label",{class:"absolute -top-2 right-4 -mt-px inline-block px-1 bg-white text-xs font-medium text-gray-900"},"JS",-1),BS=lb('<div class="space-y-4"><div class="flex flex-row px-2"><div class="text-xs space-x-3 flex text-sm"><label class="uppercase text-gray-500 mb-3">Usable State:</label><div class="font-mono"><div>dim</div></div></div></div></div>',1);function FS(e,t,r,n,i,a){return Ae(),Pe("div",DS,[TS,j("div",PS,[j("div",IS,[RS,$S,ar(j("textarea",{"onUpdate:modelValue":t[0]||(t[0]=o=>e.potential=o),ref:"potential_textbox",class:"font-mono py-3 h-48 block w-full border-0 p-0 text-gray-900 placeholder-gray-500 focus:ring-0 focus:outline-0 sm:text-sm appearance-none"},null,512),[[or,e.potential]])]),BS])])}var zS=rr(OS,[["render",FS]]);function Rr(e,t,...r){if(e in t){let i=t[e];return typeof i=="function"?i(...r):i}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Rr),n}var Da=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Da||{}),kS=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(kS||{});function Gt({visible:e=!0,features:t=0,ourProps:r,theirProps:n,...i}){var a;let o=LS(n,r),u=Object.assign(i,{props:o});if(e||t&2&&o.static)return Bu(u);if(t&1){let c=(a=o.unmount)==null||a?0:1;return Rr(c,{[0](){return null},[1](){return Bu({...i,props:{...o,hidden:!0,style:{display:"none"}}})}})}return Bu(u)}function Bu({props:e,attrs:t,slots:r,slot:n,name:i}){var a;let{as:o,...u}=Qi(e,["unmount","static"]),c=(a=r.default)==null?void 0:a.call(r,n),d={};if(n){let l=!1,s=[];for(let[f,p]of Object.entries(n))typeof p=="boolean"&&(l=!0),p===!0&&s.push(f);l&&(d["data-headlessui-state"]=s.join(" "))}if(o==="template"){if(c=im(c!=null?c:[]),Object.keys(u).length>0||Object.keys(t).length>0){let[l,...s]=c!=null?c:[];if(!US(l)||s.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${i} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(u).concat(Object.keys(t)).sort((f,p)=>f.localeCompare(p)).map(f=>`  - ${f}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(f=>`  - ${f}`).join(`
`)].join(`
`));return on(l,Object.assign({},u,d))}return Array.isArray(c)&&c.length===1?c[0]:c}return Nn(o,Object.assign({},u,d),c)}function im(e){return e.flatMap(t=>t.type===gt?im(t.children):[t])}function LS(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let i in n)i.startsWith("on")&&typeof n[i]=="function"?(r[i]!=null||(r[i]=[]),r[i].push(n[i])):t[i]=n[i];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(r).map(n=>[n,void 0])));for(let n in r)Object.assign(t,{[n](i,...a){let o=r[n];for(let u of o){if(i instanceof Event&&i.defaultPrevented)return;u(i,...a)}}});return t}function Hc(e){let t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function Qi(e,t=[]){let r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}function US(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}let qS=0;function VS(){return++qS}function _r(){return VS()}var Ve=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(Ve||{});function KS(e){throw new Error("Unexpected object: "+e)}var ot=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(ot||{});function am(e,t){let r=t.resolveItems();if(r.length<=0)return null;let n=t.resolveActiveIndex(),i=n!=null?n:-1,a=(()=>{switch(e.focus){case 0:return r.findIndex(o=>!t.resolveDisabled(o));case 1:{let o=r.slice().reverse().findIndex((u,c,d)=>i!==-1&&d.length-c-1>=i?!1:!t.resolveDisabled(u));return o===-1?o:r.length-1-o}case 2:return r.findIndex((o,u)=>u<=i?!1:!t.resolveDisabled(o));case 3:{let o=r.slice().reverse().findIndex(u=>!t.resolveDisabled(u));return o===-1?o:r.length-1-o}case 4:return r.findIndex(o=>t.resolveId(o)===e.id);case 5:return null;default:KS(e)}})();return a===-1?n:a}function We(e){var t;return e==null||e.value==null?null:(t=e.value.$el)!=null?t:e.value}let om=Symbol("Context");var ai=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ai||{});function sm(){return qr(om,null)}function um(e){Rn(om,e)}function uh(e,t){if(e)return e;let r=t!=null?t:"button";if(typeof r=="string"&&r.toLowerCase()==="button")return"button"}function Wc(e,t){let r=Ye(uh(e.value.type,e.value.as));return br(()=>{r.value=uh(e.value.type,e.value.as)}),Ua(()=>{var n;r.value||!We(t)||We(t)instanceof HTMLButtonElement&&!((n=We(t))!=null&&n.hasAttribute("type"))&&(r.value="button")}),r}const lm=typeof window=="undefined"||typeof document=="undefined";function Di(e){if(lm)return null;if(e instanceof Node)return e.ownerDocument;if(e!=null&&e.hasOwnProperty("value")){let t=We(e);if(t)return t.ownerDocument}return document}function cm({container:e,accept:t,walk:r,enabled:n}){Ua(()=>{let i=e.value;if(!i||n!==void 0&&!n.value)return;let a=Di(e);if(!a)return;let o=Object.assign(c=>t(c),{acceptNode:t}),u=a.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,o,!1);for(;u.nextNode();)r(u.currentNode)})}let wl=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Zn=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(Zn||{}),_l=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(_l||{}),HS=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(HS||{});function fm(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(wl))}var Xs=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Xs||{});function Gs(e,t=0){var r;return e===((r=Di(e))==null?void 0:r.body)?!1:Rr(t,{[0](){return e.matches(wl)},[1](){let n=e;for(;n!==null;){if(n.matches(wl))return!0;n=n.parentElement}return!1}})}function dm(e){let t=Di(e);er(()=>{t&&!Gs(t.activeElement,0)&&WS(e)})}function WS(e){e==null||e.focus({preventScroll:!0})}let YS=["textarea","input"].join(",");function XS(e){var t,r;return(r=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,YS))!=null?r:!1}function Zs(e,t=r=>r){return e.slice().sort((r,n)=>{let i=t(r),a=t(n);if(i===null||a===null)return 0;let o=i.compareDocumentPosition(a);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function GS(e,t){return xl(fm(),t,!0,e)}function xl(e,t,r=!0,n=null){var i;let a=(i=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e==null?void 0:e.ownerDocument)!=null?i:document,o=Array.isArray(e)?r?Zs(e):e:fm(e);n=n!=null?n:a.activeElement;let u=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(n))-1;if(t&4)return Math.max(0,o.indexOf(n))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=t&32?{preventScroll:!0}:{},l=0,s=o.length,f;do{if(l>=s||l+s<=0)return 0;let p=c+l;if(t&16)p=(p+s)%s;else{if(p<0)return 3;if(p>=s)return 1}f=o[p],f==null||f.focus(d),l+=u}while(f!==a.activeElement);return t&6&&XS(f)&&f.select(),f.hasAttribute("tabindex")||f.setAttribute("tabindex","0"),2}function Fu(e,t,r){lm||Ua(n=>{document.addEventListener(e,t,r),n(()=>document.removeEventListener(e,t,r))})}function hm(e,t,r=Re(()=>!0)){function n(a,o){if(!r.value||a.defaultPrevented)return;let u=o(a);if(u===null||!u.ownerDocument.documentElement.contains(u))return;let c=function d(l){return typeof l=="function"?d(l()):Array.isArray(l)||l instanceof Set?l:[l]}(e);for(let d of c){if(d===null)continue;let l=d instanceof HTMLElement?d:We(d);if(l!=null&&l.contains(u))return}return!Gs(u,Xs.Loose)&&u.tabIndex!==-1&&a.preventDefault(),t(a,u)}let i=Ye(null);Fu("mousedown",a=>{var o,u;r.value&&(i.value=((u=(o=a.composedPath)==null?void 0:o.call(a))==null?void 0:u[0])||a.target)},!0),Fu("click",a=>{!i.value||(n(a,()=>i.value),i.value=null)},!0),Fu("blur",a=>n(a,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}var Js=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Js||{});let Yc=Yt({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(e,{slots:t,attrs:r}){return()=>{let{features:n,...i}=e,a={"aria-hidden":(n&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return Gt({ourProps:a,theirProps:i,slot:{},attrs:r,slots:t,name:"Hidden"})}}});function Xc(e={},t=null,r=[]){for(let[n,i]of Object.entries(e))vm(r,pm(t,n),i);return r}function pm(e,t){return e?e+"["+t+"]":t}function vm(e,t,r){if(Array.isArray(r))for(let[n,i]of r.entries())vm(e,pm(t,n.toString()),i);else r instanceof Date?e.push([t,r.toISOString()]):typeof r=="boolean"?e.push([t,r?"1":"0"]):typeof r=="string"?e.push([t,r]):typeof r=="number"?e.push([t,`${r}`]):r==null?e.push([t,""]):Xc(r,t,e)}function mm(e){var t;let r=(t=e==null?void 0:e.form)!=null?t:e.closest("form");if(r){for(let n of r.elements)if(n.tagName==="INPUT"&&n.type==="submit"||n.tagName==="BUTTON"&&n.type==="submit"||n.nodeName==="INPUT"&&n.type==="image"){n.click();return}}}function Gc(e,t,r){let n=Ye(r==null?void 0:r.value),i=Re(()=>e.value!==void 0);return[Re(()=>i.value?e.value:n.value),function(a){return i.value||(n.value=a),t==null?void 0:t(a)}]}let gm=Symbol("DescriptionContext");function ZS(){let e=qr(gm,null);if(e===null)throw new Error("Missing parent");return e}function Zc({slot:e=Ye({}),name:t="Description",props:r={}}={}){let n=Ye([]);function i(a){return n.value.push(a),()=>{let o=n.value.indexOf(a);o!==-1&&n.value.splice(o,1)}}return Rn(gm,{register:i,slot:e,name:t,props:r}),Re(()=>n.value.length>0?n.value.join(" "):void 0)}let JS=Yt({name:"Description",props:{as:{type:[Object,String],default:"p"}},setup(e,{attrs:t,slots:r}){let n=ZS(),i=`headlessui-description-${_r()}`;return br(()=>$n(n.register(i))),()=>{let{name:a="Description",slot:o=Ye({}),props:u={}}=n,c=e,d={...Object.entries(u).reduce((l,[s,f])=>Object.assign(l,{[s]:Mc(f)}),{}),id:i};return Gt({ourProps:d,theirProps:c,slot:o.value,attrs:t,slots:r,name:a})}}});function QS(e,t){return e===t}var jS=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(jS||{}),eE=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(eE||{}),tE=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(tE||{});function rE(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let ym=Symbol("ListboxContext");function Ya(e){let t=qr(ym,null);if(t===null){let r=new Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Ya),r}return t}let nE=Yt({name:"Listbox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>QS},horizontal:{type:[Boolean],default:!1},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},name:{type:String,optional:!0},multiple:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(e,{slots:t,attrs:r,emit:n}){let i=Ye(1),a=Ye(null),o=Ye(null),u=Ye(null),c=Ye([]),d=Ye(""),l=Ye(null),s=Ye(1);function f(g=b=>b){let b=l.value!==null?c.value[l.value]:null,y=Zs(g(c.value.slice()),_=>We(_.dataRef.domRef)),w=b?y.indexOf(b):null;return w===-1&&(w=null),{options:y,activeOptionIndex:w}}let p=Re(()=>e.multiple?1:0),[v,h]=Gc(Re(()=>e.modelValue),g=>n("update:modelValue",g),Re(()=>e.defaultValue)),m={listboxState:i,value:v,mode:p,compare(g,b){if(typeof e.by=="string"){let y=e.by;return(g==null?void 0:g[y])===(b==null?void 0:b[y])}return e.by(g,b)},orientation:Re(()=>e.horizontal?"horizontal":"vertical"),labelRef:a,buttonRef:o,optionsRef:u,disabled:Re(()=>e.disabled),options:c,searchQuery:d,activeOptionIndex:l,activationTrigger:s,closeListbox(){e.disabled||i.value!==1&&(i.value=1,l.value=null)},openListbox(){e.disabled||i.value!==0&&(i.value=0)},goToOption(g,b,y){if(e.disabled||i.value===1)return;let w=f(),_=am(g===ot.Specific?{focus:ot.Specific,id:b}:{focus:g},{resolveItems:()=>w.options,resolveActiveIndex:()=>w.activeOptionIndex,resolveId:x=>x.id,resolveDisabled:x=>x.dataRef.disabled});d.value="",l.value=_,s.value=y!=null?y:1,c.value=w.options},search(g){if(e.disabled||i.value===1)return;let b=d.value!==""?0:1;d.value+=g.toLowerCase();let y=(l.value!==null?c.value.slice(l.value+b).concat(c.value.slice(0,l.value+b)):c.value).find(_=>_.dataRef.textValue.startsWith(d.value)&&!_.dataRef.disabled),w=y?c.value.indexOf(y):-1;w===-1||w===l.value||(l.value=w,s.value=1)},clearSearch(){e.disabled||i.value!==1&&d.value!==""&&(d.value="")},registerOption(g,b){let y=f(w=>[...w,{id:g,dataRef:b}]);c.value=y.options,l.value=y.activeOptionIndex},unregisterOption(g){let b=f(y=>{let w=y.findIndex(_=>_.id===g);return w!==-1&&y.splice(w,1),y});c.value=b.options,l.value=b.activeOptionIndex,s.value=1},select(g){e.disabled||h(Rr(p.value,{[0]:()=>g,[1]:()=>{let b=Te(m.value.value).slice(),y=Te(g),w=b.findIndex(_=>m.compare(y,Te(_)));return w===-1?b.push(y):b.splice(w,1),b}}))}};return hm([o,u],(g,b)=>{var y;m.closeListbox(),Gs(b,Xs.Loose)||(g.preventDefault(),(y=We(o))==null||y.focus())},Re(()=>i.value===0)),Rn(ym,m),um(Re(()=>Rr(i.value,{[0]:ai.Open,[1]:ai.Closed}))),()=>{let{name:g,modelValue:b,disabled:y,...w}=e,_={open:i.value===0,disabled:y,value:v.value};return Nn(gt,[...g!=null&&v.value!=null?Xc({[g]:v.value}).map(([x,N])=>Nn(Yc,Hc({features:Js.Hidden,key:x,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:x,value:N}))):[],Gt({ourProps:{},theirProps:{...r,...Qi(w,["defaultValue","onUpdate:modelValue","horizontal","multiple","by"])},slot:_,slots:t,attrs:r,name:"Listbox"})])}}});Yt({name:"ListboxLabel",props:{as:{type:[Object,String],default:"label"}},setup(e,{attrs:t,slots:r}){let n=Ya("ListboxLabel"),i=`headlessui-listbox-label-${_r()}`;function a(){var o;(o=We(n.buttonRef))==null||o.focus({preventScroll:!0})}return()=>{let o={open:n.listboxState.value===0,disabled:n.disabled.value},u={id:i,ref:n.labelRef,onClick:a};return Gt({ourProps:u,theirProps:e,slot:o,attrs:t,slots:r,name:"ListboxLabel"})}}});Yt({name:"ListboxButton",props:{as:{type:[Object,String],default:"button"}},setup(e,{attrs:t,slots:r,expose:n}){let i=Ya("ListboxButton"),a=`headlessui-listbox-button-${_r()}`;n({el:i.buttonRef,$el:i.buttonRef});function o(l){switch(l.key){case Ve.Space:case Ve.Enter:case Ve.ArrowDown:l.preventDefault(),i.openListbox(),er(()=>{var s;(s=We(i.optionsRef))==null||s.focus({preventScroll:!0}),i.value.value||i.goToOption(ot.First)});break;case Ve.ArrowUp:l.preventDefault(),i.openListbox(),er(()=>{var s;(s=We(i.optionsRef))==null||s.focus({preventScroll:!0}),i.value.value||i.goToOption(ot.Last)});break}}function u(l){switch(l.key){case Ve.Space:l.preventDefault();break}}function c(l){i.disabled.value||(i.listboxState.value===0?(i.closeListbox(),er(()=>{var s;return(s=We(i.buttonRef))==null?void 0:s.focus({preventScroll:!0})})):(l.preventDefault(),i.openListbox(),rE(()=>{var s;return(s=We(i.optionsRef))==null?void 0:s.focus({preventScroll:!0})})))}let d=Wc(Re(()=>({as:e.as,type:t.type})),i.buttonRef);return()=>{var l,s;let f={open:i.listboxState.value===0,disabled:i.disabled.value,value:i.value.value},p={ref:i.buttonRef,id:a,type:d.value,"aria-haspopup":!0,"aria-controls":(l=We(i.optionsRef))==null?void 0:l.id,"aria-expanded":i.disabled.value?void 0:i.listboxState.value===0,"aria-labelledby":i.labelRef.value?[(s=We(i.labelRef))==null?void 0:s.id,a].join(" "):void 0,disabled:i.disabled.value===!0?!0:void 0,onKeydown:o,onKeyup:u,onClick:c};return Gt({ourProps:p,theirProps:e,slot:f,attrs:t,slots:r,name:"ListboxButton"})}}});let iE=Yt({name:"ListboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(e,{attrs:t,slots:r,expose:n}){let i=Ya("ListboxOptions"),a=`headlessui-listbox-options-${_r()}`,o=Ye(null);n({el:i.optionsRef,$el:i.optionsRef});function u(l){switch(o.value&&clearTimeout(o.value),l.key){case Ve.Space:if(i.searchQuery.value!=="")return l.preventDefault(),l.stopPropagation(),i.search(l.key);case Ve.Enter:if(l.preventDefault(),l.stopPropagation(),i.activeOptionIndex.value!==null){let s=i.options.value[i.activeOptionIndex.value];i.select(s.dataRef.value)}i.mode.value===0&&(i.closeListbox(),er(()=>{var s;return(s=We(i.buttonRef))==null?void 0:s.focus({preventScroll:!0})}));break;case Rr(i.orientation.value,{vertical:Ve.ArrowDown,horizontal:Ve.ArrowRight}):return l.preventDefault(),l.stopPropagation(),i.goToOption(ot.Next);case Rr(i.orientation.value,{vertical:Ve.ArrowUp,horizontal:Ve.ArrowLeft}):return l.preventDefault(),l.stopPropagation(),i.goToOption(ot.Previous);case Ve.Home:case Ve.PageUp:return l.preventDefault(),l.stopPropagation(),i.goToOption(ot.First);case Ve.End:case Ve.PageDown:return l.preventDefault(),l.stopPropagation(),i.goToOption(ot.Last);case Ve.Escape:l.preventDefault(),l.stopPropagation(),i.closeListbox(),er(()=>{var s;return(s=We(i.buttonRef))==null?void 0:s.focus({preventScroll:!0})});break;case Ve.Tab:l.preventDefault(),l.stopPropagation();break;default:l.key.length===1&&(i.search(l.key),o.value=setTimeout(()=>i.clearSearch(),350));break}}let c=sm(),d=Re(()=>c!==null?c.value===ai.Open:i.listboxState.value===0);return()=>{var l,s,f,p;let v={open:i.listboxState.value===0},h={"aria-activedescendant":i.activeOptionIndex.value===null||(l=i.options.value[i.activeOptionIndex.value])==null?void 0:l.id,"aria-multiselectable":i.mode.value===1?!0:void 0,"aria-labelledby":(p=(s=We(i.labelRef))==null?void 0:s.id)!=null?p:(f=We(i.buttonRef))==null?void 0:f.id,"aria-orientation":i.orientation.value,id:a,onKeydown:u,role:"listbox",tabIndex:0,ref:i.optionsRef};return Gt({ourProps:h,theirProps:e,slot:v,attrs:t,slots:r,features:Da.RenderStrategy|Da.Static,visible:d.value,name:"ListboxOptions"})}}}),aE=Yt({name:"ListboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1}},setup(e,{slots:t,attrs:r,expose:n}){let i=Ya("ListboxOption"),a=`headlessui-listbox-option-${_r()}`,o=Ye(null);n({el:o,$el:o});let u=Re(()=>i.activeOptionIndex.value!==null?i.options.value[i.activeOptionIndex.value].id===a:!1),c=Re(()=>Rr(i.mode.value,{[0]:()=>i.compare(Te(i.value.value),Te(e.value)),[1]:()=>Te(i.value.value).some(h=>i.compare(Te(h),Te(e.value)))})),d=Re(()=>Rr(i.mode.value,{[1]:()=>{var h;let m=Te(i.value.value);return((h=i.options.value.find(g=>m.some(b=>i.compare(Te(b),Te(g.dataRef.value)))))==null?void 0:h.id)===a},[0]:()=>c.value})),l=Re(()=>({disabled:e.disabled,value:e.value,textValue:"",domRef:o}));br(()=>{var h,m;let g=(m=(h=We(o))==null?void 0:h.textContent)==null?void 0:m.toLowerCase().trim();g!==void 0&&(l.value.textValue=g)}),br(()=>i.registerOption(a,l)),$n(()=>i.unregisterOption(a)),br(()=>{$t([i.listboxState,c],()=>{i.listboxState.value===0&&(!c.value||Rr(i.mode.value,{[1]:()=>{d.value&&i.goToOption(ot.Specific,a)},[0]:()=>{i.goToOption(ot.Specific,a)}}))},{immediate:!0})}),Ua(()=>{i.listboxState.value===0&&(!u.value||i.activationTrigger.value!==0&&er(()=>{var h,m;return(m=(h=We(o))==null?void 0:h.scrollIntoView)==null?void 0:m.call(h,{block:"nearest"})}))});function s(h){if(e.disabled)return h.preventDefault();i.select(e.value),i.mode.value===0&&(i.closeListbox(),er(()=>{var m;return(m=We(i.buttonRef))==null?void 0:m.focus({preventScroll:!0})}))}function f(){if(e.disabled)return i.goToOption(ot.Nothing);i.goToOption(ot.Specific,a)}function p(){e.disabled||u.value||i.goToOption(ot.Specific,a,0)}function v(){e.disabled||!u.value||i.goToOption(ot.Nothing)}return()=>{let{disabled:h}=e,m={active:u.value,selected:c.value,disabled:h},g={id:a,ref:o,role:"option",tabIndex:h===!0?void 0:-1,"aria-disabled":h===!0?!0:void 0,"aria-selected":c.value,disabled:void 0,onClick:s,onFocus:f,onPointermove:p,onMousemove:p,onPointerleave:v,onMouseleave:v};return Gt({ourProps:g,theirProps:Qi(e,["value","disabled"]),slot:m,attrs:r,slots:t,name:"ListboxOption"})}}});var oE=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(oE||{}),sE=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(sE||{});function uE(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let bm=Symbol("MenuContext");function Qs(e){let t=qr(bm,null);if(t===null){let r=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Qs),r}return t}let lE=Yt({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:t,attrs:r}){let n=Ye(1),i=Ye(null),a=Ye(null),o=Ye([]),u=Ye(""),c=Ye(null),d=Ye(1);function l(f=p=>p){let p=c.value!==null?o.value[c.value]:null,v=Zs(f(o.value.slice()),m=>We(m.dataRef.domRef)),h=p?v.indexOf(p):null;return h===-1&&(h=null),{items:v,activeItemIndex:h}}let s={menuState:n,buttonRef:i,itemsRef:a,items:o,searchQuery:u,activeItemIndex:c,activationTrigger:d,closeMenu:()=>{n.value=1,c.value=null},openMenu:()=>n.value=0,goToItem(f,p,v){let h=l(),m=am(f===ot.Specific?{focus:ot.Specific,id:p}:{focus:f},{resolveItems:()=>h.items,resolveActiveIndex:()=>h.activeItemIndex,resolveId:g=>g.id,resolveDisabled:g=>g.dataRef.disabled});u.value="",c.value=m,d.value=v!=null?v:1,o.value=h.items},search(f){let p=u.value!==""?0:1;u.value+=f.toLowerCase();let v=(c.value!==null?o.value.slice(c.value+p).concat(o.value.slice(0,c.value+p)):o.value).find(m=>m.dataRef.textValue.startsWith(u.value)&&!m.dataRef.disabled),h=v?o.value.indexOf(v):-1;h===-1||h===c.value||(c.value=h,d.value=1)},clearSearch(){u.value=""},registerItem(f,p){let v=l(h=>[...h,{id:f,dataRef:p}]);o.value=v.items,c.value=v.activeItemIndex,d.value=1},unregisterItem(f){let p=l(v=>{let h=v.findIndex(m=>m.id===f);return h!==-1&&v.splice(h,1),v});o.value=p.items,c.value=p.activeItemIndex,d.value=1}};return hm([i,a],(f,p)=>{var v;s.closeMenu(),Gs(p,Xs.Loose)||(f.preventDefault(),(v=We(i))==null||v.focus())},Re(()=>n.value===0)),Rn(bm,s),um(Re(()=>Rr(n.value,{[0]:ai.Open,[1]:ai.Closed}))),()=>{let f={open:n.value===0};return Gt({ourProps:{},theirProps:e,slot:f,slots:t,attrs:r,name:"Menu"})}}}),cE=Yt({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"}},setup(e,{attrs:t,slots:r,expose:n}){let i=Qs("MenuButton"),a=`headlessui-menu-button-${_r()}`;n({el:i.buttonRef,$el:i.buttonRef});function o(l){switch(l.key){case Ve.Space:case Ve.Enter:case Ve.ArrowDown:l.preventDefault(),l.stopPropagation(),i.openMenu(),er(()=>{var s;(s=We(i.itemsRef))==null||s.focus({preventScroll:!0}),i.goToItem(ot.First)});break;case Ve.ArrowUp:l.preventDefault(),l.stopPropagation(),i.openMenu(),er(()=>{var s;(s=We(i.itemsRef))==null||s.focus({preventScroll:!0}),i.goToItem(ot.Last)});break}}function u(l){switch(l.key){case Ve.Space:l.preventDefault();break}}function c(l){e.disabled||(i.menuState.value===0?(i.closeMenu(),er(()=>{var s;return(s=We(i.buttonRef))==null?void 0:s.focus({preventScroll:!0})})):(l.preventDefault(),i.openMenu(),uE(()=>{var s;return(s=We(i.itemsRef))==null?void 0:s.focus({preventScroll:!0})})))}let d=Wc(Re(()=>({as:e.as,type:t.type})),i.buttonRef);return()=>{var l;let s={open:i.menuState.value===0},f={ref:i.buttonRef,id:a,type:d.value,"aria-haspopup":!0,"aria-controls":(l=We(i.itemsRef))==null?void 0:l.id,"aria-expanded":e.disabled?void 0:i.menuState.value===0,onKeydown:o,onKeyup:u,onClick:c};return Gt({ourProps:f,theirProps:e,slot:s,attrs:t,slots:r,name:"MenuButton"})}}}),fE=Yt({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0}},setup(e,{attrs:t,slots:r,expose:n}){let i=Qs("MenuItems"),a=`headlessui-menu-items-${_r()}`,o=Ye(null);n({el:i.itemsRef,$el:i.itemsRef}),cm({container:Re(()=>We(i.itemsRef)),enabled:Re(()=>i.menuState.value===0),accept(s){return s.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:s.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(s){s.setAttribute("role","none")}});function u(s){var f;switch(o.value&&clearTimeout(o.value),s.key){case Ve.Space:if(i.searchQuery.value!=="")return s.preventDefault(),s.stopPropagation(),i.search(s.key);case Ve.Enter:if(s.preventDefault(),s.stopPropagation(),i.activeItemIndex.value!==null){let p=i.items.value[i.activeItemIndex.value];(f=We(p.dataRef.domRef))==null||f.click()}i.closeMenu(),dm(We(i.buttonRef));break;case Ve.ArrowDown:return s.preventDefault(),s.stopPropagation(),i.goToItem(ot.Next);case Ve.ArrowUp:return s.preventDefault(),s.stopPropagation(),i.goToItem(ot.Previous);case Ve.Home:case Ve.PageUp:return s.preventDefault(),s.stopPropagation(),i.goToItem(ot.First);case Ve.End:case Ve.PageDown:return s.preventDefault(),s.stopPropagation(),i.goToItem(ot.Last);case Ve.Escape:s.preventDefault(),s.stopPropagation(),i.closeMenu(),er(()=>{var p;return(p=We(i.buttonRef))==null?void 0:p.focus({preventScroll:!0})});break;case Ve.Tab:s.preventDefault(),s.stopPropagation(),i.closeMenu(),er(()=>GS(We(i.buttonRef),s.shiftKey?Zn.Previous:Zn.Next));break;default:s.key.length===1&&(i.search(s.key),o.value=setTimeout(()=>i.clearSearch(),350));break}}function c(s){switch(s.key){case Ve.Space:s.preventDefault();break}}let d=sm(),l=Re(()=>d!==null?d.value===ai.Open:i.menuState.value===0);return()=>{var s,f;let p={open:i.menuState.value===0},v={"aria-activedescendant":i.activeItemIndex.value===null||(s=i.items.value[i.activeItemIndex.value])==null?void 0:s.id,"aria-labelledby":(f=We(i.buttonRef))==null?void 0:f.id,id:a,onKeydown:u,onKeyup:c,role:"menu",tabIndex:0,ref:i.itemsRef};return Gt({ourProps:v,theirProps:e,slot:p,attrs:t,slots:r,features:Da.RenderStrategy|Da.Static,visible:l.value,name:"MenuItems"})}}}),dE=Yt({name:"MenuItem",props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1}},setup(e,{slots:t,attrs:r,expose:n}){let i=Qs("MenuItem"),a=`headlessui-menu-item-${_r()}`,o=Ye(null);n({el:o,$el:o});let u=Re(()=>i.activeItemIndex.value!==null?i.items.value[i.activeItemIndex.value].id===a:!1),c=Re(()=>({disabled:e.disabled,textValue:"",domRef:o}));br(()=>{var p,v;let h=(v=(p=We(o))==null?void 0:p.textContent)==null?void 0:v.toLowerCase().trim();h!==void 0&&(c.value.textValue=h)}),br(()=>i.registerItem(a,c)),$n(()=>i.unregisterItem(a)),Ua(()=>{i.menuState.value===0&&(!u.value||i.activationTrigger.value!==0&&er(()=>{var p,v;return(v=(p=We(o))==null?void 0:p.scrollIntoView)==null?void 0:v.call(p,{block:"nearest"})}))});function d(p){if(e.disabled)return p.preventDefault();i.closeMenu(),dm(We(i.buttonRef))}function l(){if(e.disabled)return i.goToItem(ot.Nothing);i.goToItem(ot.Specific,a)}function s(){e.disabled||u.value||i.goToItem(ot.Specific,a,0)}function f(){e.disabled||!u.value||i.goToItem(ot.Nothing)}return()=>{let{disabled:p}=e,v={active:u.value,disabled:p};return Gt({ourProps:{id:a,ref:o,role:"menuitem",tabIndex:p===!0?void 0:-1,"aria-disabled":p===!0?!0:void 0,onClick:d,onFocus:l,onPointermove:s,onMousemove:s,onPointerleave:f,onMouseleave:f},theirProps:e,slot:v,attrs:r,slots:t,name:"MenuItem"})}}}),wm=Symbol("LabelContext");function _m(){let e=qr(wm,null);if(e===null){let t=new Error("You used a <Label /> component, but it is not inside a parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,_m),t}return e}function Jc({slot:e={},name:t="Label",props:r={}}={}){let n=Ye([]);function i(a){return n.value.push(a),()=>{let o=n.value.indexOf(a);o!==-1&&n.value.splice(o,1)}}return Rn(wm,{register:i,slot:e,name:t,props:r}),Re(()=>n.value.length>0?n.value.join(" "):void 0)}let hE=Yt({name:"Label",props:{as:{type:[Object,String],default:"label"},passive:{type:[Boolean],default:!1}},setup(e,{slots:t,attrs:r}){let n=_m(),i=`headlessui-label-${_r()}`;return br(()=>$n(n.register(i))),()=>{let{name:a="Label",slot:o={},props:u={}}=n,{passive:c,...d}=e,l={...Object.entries(u).reduce((s,[f,p])=>Object.assign(s,{[f]:Mc(p)}),{}),id:i};return c&&(delete l.onClick,delete d.onClick),Gt({ourProps:l,theirProps:d,slot:o,attrs:r,slots:t,name:a})}}});function pE(e,t){return e===t}let xm=Symbol("RadioGroupContext");function Mm(e){let t=qr(xm,null);if(t===null){let r=new Error(`<${e} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Mm),r}return t}let vE=Yt({name:"RadioGroup",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"div"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],default:()=>pE},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},name:{type:String,optional:!0}},inheritAttrs:!1,setup(e,{emit:t,attrs:r,slots:n,expose:i}){let a=Ye(null),o=Ye([]),u=Jc({name:"RadioGroupLabel"}),c=Zc({name:"RadioGroupDescription"});i({el:a,$el:a});let[d,l]=Gc(Re(()=>e.modelValue),v=>t("update:modelValue",v),Re(()=>e.defaultValue)),s={options:o,value:d,disabled:Re(()=>e.disabled),firstOption:Re(()=>o.value.find(v=>!v.propsRef.disabled)),containsCheckedOption:Re(()=>o.value.some(v=>s.compare(Te(v.propsRef.value),Te(e.modelValue)))),compare(v,h){if(typeof e.by=="string"){let m=e.by;return(v==null?void 0:v[m])===(h==null?void 0:h[m])}return e.by(v,h)},change(v){var h;if(e.disabled||s.compare(Te(d.value),Te(v)))return!1;let m=(h=o.value.find(g=>s.compare(Te(g.propsRef.value),Te(v))))==null?void 0:h.propsRef;return m!=null&&m.disabled?!1:(l(v),!0)},registerOption(v){o.value.push(v),o.value=Zs(o.value,h=>h.element)},unregisterOption(v){let h=o.value.findIndex(m=>m.id===v);h!==-1&&o.value.splice(h,1)}};Rn(xm,s),cm({container:Re(()=>We(a)),accept(v){return v.getAttribute("role")==="radio"?NodeFilter.FILTER_REJECT:v.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(v){v.setAttribute("role","none")}});function f(v){if(!a.value||!a.value.contains(v.target))return;let h=o.value.filter(m=>m.propsRef.disabled===!1).map(m=>m.element);switch(v.key){case Ve.Enter:mm(v.currentTarget);break;case Ve.ArrowLeft:case Ve.ArrowUp:if(v.preventDefault(),v.stopPropagation(),xl(h,Zn.Previous|Zn.WrapAround)===_l.Success){let m=o.value.find(g=>{var b;return g.element===((b=Di(a))==null?void 0:b.activeElement)});m&&s.change(m.propsRef.value)}break;case Ve.ArrowRight:case Ve.ArrowDown:if(v.preventDefault(),v.stopPropagation(),xl(h,Zn.Next|Zn.WrapAround)===_l.Success){let m=o.value.find(g=>{var b;return g.element===((b=Di(g.element))==null?void 0:b.activeElement)});m&&s.change(m.propsRef.value)}break;case Ve.Space:{v.preventDefault(),v.stopPropagation();let m=o.value.find(g=>{var b;return g.element===((b=Di(g.element))==null?void 0:b.activeElement)});m&&s.change(m.propsRef.value)}break}}let p=`headlessui-radiogroup-${_r()}`;return()=>{let{disabled:v,name:h,...m}=e,g={ref:a,id:p,role:"radiogroup","aria-labelledby":u.value,"aria-describedby":c.value,onKeydown:f};return Nn(gt,[...h!=null&&d.value!=null?Xc({[h]:d.value}).map(([b,y])=>Nn(Yc,Hc({features:Js.Hidden,key:b,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:b,value:y}))):[],Gt({ourProps:g,theirProps:{...r,...Qi(m,["modelValue","defaultValue"])},slot:{},attrs:r,slots:n,name:"RadioGroup"})])}}});var mE=(e=>(e[e.Empty=1]="Empty",e[e.Active=2]="Active",e))(mE||{});let gE=Yt({name:"RadioGroupOption",props:{as:{type:[Object,String],default:"div"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1}},setup(e,{attrs:t,slots:r,expose:n}){let i=Mm("RadioGroupOption"),a=`headlessui-radiogroup-option-${_r()}`,o=Jc({name:"RadioGroupLabel"}),u=Zc({name:"RadioGroupDescription"}),c=Ye(null),d=Re(()=>({value:e.value,disabled:e.disabled})),l=Ye(1);n({el:c,$el:c}),br(()=>i.registerOption({id:a,element:c,propsRef:d})),$n(()=>i.unregisterOption(a));let s=Re(()=>{var b;return((b=i.firstOption.value)==null?void 0:b.id)===a}),f=Re(()=>i.disabled.value||e.disabled),p=Re(()=>i.compare(Te(i.value.value),Te(e.value))),v=Re(()=>f.value?-1:p.value||!i.containsCheckedOption.value&&s.value?0:-1);function h(){var b;!i.change(e.value)||(l.value|=2,(b=c.value)==null||b.focus())}function m(){l.value|=2}function g(){l.value&=-3}return()=>{let b=Qi(e,["value","disabled"]),y={checked:p.value,disabled:f.value,active:Boolean(l.value&2)},w={id:a,ref:c,role:"radio","aria-checked":p.value?"true":"false","aria-labelledby":o.value,"aria-describedby":u.value,"aria-disabled":f.value?!0:void 0,tabIndex:v.value,onClick:f.value?void 0:h,onFocus:f.value?void 0:m,onBlur:f.value?void 0:g};return Gt({ourProps:w,theirProps:b,slot:y,attrs:t,slots:r,name:"RadioGroupOption"})}}}),yE=hE,bE=JS,Sm=Symbol("GroupContext");Yt({name:"SwitchGroup",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:t,attrs:r}){let n=Ye(null),i=Jc({name:"SwitchLabel",props:{onClick(){!n.value||(n.value.click(),n.value.focus({preventScroll:!0}))}}}),a=Zc({name:"SwitchDescription"});return Rn(Sm,{switchRef:n,labelledby:i,describedby:a}),()=>Gt({theirProps:e,ourProps:{},slot:{},slots:t,attrs:r,name:"SwitchGroup"})}});let wE=Yt({name:"Switch",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,default:!1},name:{type:String,optional:!0},value:{type:String,optional:!0}},inheritAttrs:!1,setup(e,{emit:t,attrs:r,slots:n,expose:i}){let a=qr(Sm,null),o=`headlessui-switch-${_r()}`,[u,c]=Gc(Re(()=>e.modelValue),m=>t("update:modelValue",m),Re(()=>e.defaultChecked));function d(){c(!u.value)}let l=Ye(null),s=a===null?l:a.switchRef,f=Wc(Re(()=>({as:e.as,type:r.type})),s);i({el:s,$el:s});function p(m){m.preventDefault(),d()}function v(m){m.key===Ve.Space?(m.preventDefault(),d()):m.key===Ve.Enter&&mm(m.currentTarget)}function h(m){m.preventDefault()}return()=>{let{name:m,value:g,...b}=e,y={checked:u.value},w={id:o,ref:s,role:"switch",type:f.value,tabIndex:0,"aria-checked":u.value,"aria-labelledby":a==null?void 0:a.labelledby.value,"aria-describedby":a==null?void 0:a.describedby.value,onClick:p,onKeyup:v,onKeypress:h};return Nn(gt,[m!=null&&u.value!=null?Nn(Yc,Hc({features:Js.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:u.value,name:m,value:g})):null,Gt({ourProps:w,theirProps:{...r,...Qi(b,["modelValue","defaultChecked"])},slot:y,attrs:r,slots:n,name:"Switch"})])}}});var js={data:function(){return{errors:{}}},computed:{validation_error(){return Object.keys(this.errors).length>0}},methods:{validate(e,t){let r={};Object.entries(t).map(function(a){const[o,u]=a;let c=u.split("|"),d={};return c.forEach(function(l){if(l.includes(":")){let s=l.split(":");d[s[0]]=s[1].split(",")}else d[l]=!0}),r[o]=d});let n={},i=function(a,o){return a in n?n[a].push(o):n[a]=[o],n};return Object.entries(e).forEach(function(a){const[o,u]=a;"required"in r[o]&&(u===null||u===""||u===void 0)&&i(o,"required"),"numeric"in r[o]&&Number.isNaN(u)&&i(o,"numeric"),"between"in r[o]&&(u<r[o].between[0]||u>r[o].between[1])&&i(o,"between"),"gt"in r[o]&&u<=r[o].gt[0]&&i(o,"gt"),"gte"in r[o]&&u<r[o].gte[0]&&i(o,"gte"),"lt"in r[o]&&u>=r[o].lt[0]&&i(o,"lt"),"lte"in r[o]&&u>r[o].lte[0]&&i(o,"lte")}.bind(this)),this.errors=n,n},has_error(e){return e in this.errors?this.errors[e]:!1}}};const _E="CMA_ES",xE=[{code:"sigma",symbol:"\\sigma",variation_enabled:!1,bottom_bias:!1,fields:{field_1:{default:1,validation:"required|numeric|gt:0"},field_2:{default:10,validation:"required|numeric|gt:0"},quantity:{default:10,validation:"required|numeric|gt:0"}},defaults:{distribution:"uniform",scale:"linear"}},{code:"Sigma_11",symbol:"\\Sigma_{11}",variation_enabled:!1,bottom_bias:!0,fields:{field_1:{default:1,validation:"required|numeric|gt:0"},field_2:{default:10,validation:"required|numeric|gt:0"},quantity:{default:10,validation:"required|numeric|gt:0"}},defaults:{distribution:"uniform",scale:"linear"}},{code:"Sigma_12|21",symbol:"\\Sigma_{12|21}",variation_enabled:!1,bottom_bias:!0,fields:{field_1:{default:1,validation:"required|numeric|gt:0"},field_2:{default:10,validation:"required|numeric|gt:0"},quantity:{default:10,validation:"required|numeric|gt:0"}},defaults:{distribution:"uniform",scale:"linear"}},{code:"Sigma_22",symbol:"\\Sigma_{22}",variation_enabled:!0,bottom_bias:!0,fields:{field_1:{default:1,validation:"required|numeric|gt:0"},field_2:{default:10,validation:"required|numeric|gt:0"},quantity:{default:10,validation:"required|numeric|gt:0"}},defaults:{distribution:"uniform",scale:"linear"}},{code:"p_succ",symbol:"p_{succ}",variation_enabled:!0,bottom_bias:!0,fields:{field_1:{default:1,validation:"required|numeric|gt:0"},field_2:{default:10,validation:"required|numeric|gt:0"},quantity:{default:10,validation:"required|numeric|gt:0"}},defaults:{distribution:"uniform",scale:"linear"}}],ME=[{name:"cov_m",definition:[["Sigma_11","Sigma_12|21"],["Sigma_12|21","Sigma_22"]]}],SE=[{code:"d",symbol:"d",bottom_bias:!1,default:2,validation:"required|numeric|gte:2"},{code:"p_target",symbol:"P_{target}",bottom_bias:!1,default:.1818,validation:"required|numeric|gt:0"},{code:"c_cov_plus",symbol:"c^{+}_{cov}",bottom_bias:!1,default:.2,validation:"required|numeric|gt:0"},{code:"c_p",symbol:"c_{p}",bottom_bias:!1,default:.8333,validation:"required|numeric|gt:0"}];var Em={python_class:_E,state_variables:xE,matrices:ME,algorithm_constants:SE};const EE="1+1-ES",AE="OnePlusOne_ES",NE=[{code:"sigma",symbol:"\\sigma",variation_enabled:!0,bottom_bias:!1,fields:{field_1:{default:5,validation:"required|numeric|gte:0"},field_2:{default:10,validation:"required|numeric|gt:0"},quantity:{default:10,validation:"required|numeric|gt:0"}},defaults:{distribution:"uniform",scale:"linear"}}],CE=[],OE=[{code:"alpha",symbol:"\\alpha",bottom_bias:!1,default:2,validation:"required|numeric|gt:0"}];var Am={algorithm:EE,python_class:AE,state_variables:NE,matrices:CE,algorithm_constants:OE};function DE(e,t){return Ae(),Vr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[Be("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"})])}function TE(e,t){return Ae(),Vr("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[Be("path",{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"})])}const PE=[{id:"grid",name:"Grid",fields:["min","max"]},{id:"uniform",name:"Uniform Random",fields:["min","max"]},{id:"normal",name:"Normal Distribution",fields:[{code:"mean",symbol:"mu"},{code:"variance",symbol:"sigma^2"}]}],IE=[{id:"linear",name:"Linear"},{id:"logarithmic",name:"Logarithmic"}];var wn={distributions:PE,scales:IE};const RE={name:"StateVariableOptions",components:{Menu:lE,MenuButton:cE,MenuItem:dE,MenuItems:fE,DotsVerticalIcon:TE,ListboxOption:aE,ListboxOptions:iE,Listbox:nE,CheckIcon:DE},props:["init"],emits:["rand_alg","scale"],data:function(){return{inited:!1,selected_distribution:null,selected_scale:null,scales:wn.scales,distribution_algorithms:wn.distributions}},created(){this.selected_scale=wn.scales.find(e=>e.id===this.init.scale),this.selected_distribution=wn.distributions.find(e=>e.id===this.init.distribution),this.inited=!0},watch:{selected_distribution(){this.inited&&this.$emit("rand_alg",this.selected_distribution)},selected_scale(){this.inited&&this.$emit("scale",this.selected_scale)}}},$E={class:"my-auto"},BE=j("span",{class:"sr-only"},"Open options",-1),FE={class:"py-1 bg-white z-50"},zE=j("label",{class:"mx-3 text-xs font-semibold text-indigo-600"},"Scale",-1),kE={class:"group text-gray-900 hover:bg-gray-100 select-none relative py-2 pl-3 pr-9 cursor-pointer"},LE={key:0,class:"text-indigo-600 absolute inset-y-0 right-0 flex items-center pr-4"},UE=j("label",{class:"mx-3 text-xs font-semibold text-indigo-600"},"Distribution Algorithm",-1),qE={class:"group text-gray-900 hover:bg-gray-100 select-none relative py-2 pl-3 pr-9 cursor-pointer"},VE={key:0,class:"text-indigo-600 absolute inset-y-0 right-0 flex items-center pr-4"};function KE(e,t,r,n,i,a){const o=et("DotsVerticalIcon"),u=et("MenuButton"),c=et("CheckIcon"),d=et("ListboxOption"),l=et("ListboxOptions"),s=et("Listbox"),f=et("MenuItem"),p=et("MenuItems"),v=et("Menu");return Ae(),Vr(v,{as:"div",class:"my-auto relative inline-block text-left"},{default:Ot(()=>[j("div",$E,[Be(u,{class:"rounded-full flex items-center text-gray-400 hover:text-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-indigo-500"},{default:Ot(()=>[BE,Be(o,{class:"my-auto h-5 w-5","aria-hidden":"true"})]),_:1})]),Be(Tc,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:Ot(()=>[Be(p,{class:"origin-bottom-right absolute right-4 bottom-4 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:Ot(()=>[j("div",FE,[Be(f,null,{default:Ot(()=>[Be(s,{modelValue:e.selected_scale,"onUpdate:modelValue":t[0]||(t[0]=h=>e.selected_scale=h)},{default:Ot(()=>[Be(l,{static:"",as:"dl",class:"mt-1 w-full bg-white py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm"},{default:Ot(()=>[zE,(Ae(!0),Pe(gt,null,En(e.scales,h=>(Ae(),Vr(d,{as:"dd",key:h.id,value:h},{default:Ot(({selected:m})=>[j("div",kE,[j("span",{class:tt([m?"font-semibold":"font-normal","block truncate"])},He(h.name),3),m?(Ae(),Pe("span",LE,[Be(c,{class:"h-5 w-5","aria-hidden":"true"})])):An("",!0)])]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),_:1}),Be(f,null,{default:Ot(()=>[Be(s,{modelValue:e.selected_distribution,"onUpdate:modelValue":t[1]||(t[1]=h=>e.selected_distribution=h)},{default:Ot(()=>[Be(l,{static:"",as:"dl",class:"mt-1 w-full bg-white py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm"},{default:Ot(()=>[UE,(Ae(!0),Pe(gt,null,En(e.distribution_algorithms,h=>(Ae(),Vr(d,{as:"dd",key:h.id,value:h},{default:Ot(({selected:m})=>[j("div",qE,[j("span",{class:tt([m?"font-semibold":"font-normal","block truncate"])},He(h.name),3),m?(Ae(),Pe("span",VE,[Be(c,{class:"h-5 w-5","aria-hidden":"true"})])):An("",!0)])]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),_:1})])]),_:1})]),_:1})]),_:1})}var Qc=rr(RE,[["render",KE]]);const HE={props:["algorithm"],name:"StateConstants",components:{StateVariableOptions:Qc},mixins:[js],data(){return{init:!1,counter:0,definition:null,values:{}}},beforeUpdate(){this.counter+=1},updated(){MathJax.typeset()},created(){this.init_algorithm(),this.init_defaults(),MathJax.typeset()},watch:{algorithm(){this.init_algorithm(),this.init||this.init_defaults(),MathJax.typeset()}},methods:{init_algorithm(){let e;this.algorithm==="CMA-ES"&&(e=Em),this.algorithm==="1+1-ES"&&(e=Am),this.definition=e.algorithm_constants,this.values={}},init_defaults(){this.definition.forEach(function(e){this.values[e.code]=e.default}.bind(this))},export(){let e={};if(this.definition.forEach(t=>{e[t.code]=t.validation}),this.validate(this.values,e),this.validation_error)throw"validation_error in the state constants";return this.values}}},WE={class:"space-y-5"},YE={class:"space-y-3"},XE=j("label",{class:"text-xs uppercase text-gray-500"},"Algorithm Constants",-1),GE={class:"flex my-auto space-x-3 justify-between"},ZE={class:"font-mono text-sm"},JE=["onUpdate:modelValue"];function QE(e,t,r,n,i,a){return Ae(),Pe("div",WE,[j("div",YE,[XE,(Ae(!0),Pe(gt,null,En(i.definition,o=>(Ae(),Pe("div",GE,[(Ae(),Pe("div",{class:"my-auto",key:o.code+i.counter},[Bs("$"+He(o.symbol)+"$ ",1),j("span",ZE,"("+He(o.code)+")",1)])),j("div",{class:tt([e.has_error(o.code)?"bg-red-400 border-red-500":"bg-white border-gray-300","relative w-24 border  rounded-md px-3 py-2 shadow-sm focus-within:ring-1 focus-within:ring-indigo-600 focus-within:border-indigo-600"])},[ar(j("input",{"onUpdate:modelValue":u=>i.values[o.code]=u,type:"number",class:tt([e.has_error(o.code)?"bg-red-400":"bg-white","block w-full border-0 p-0 text-gray-900 placeholder-gray-500 focus:ring-0 focus:outline-0 sm:text-sm appearance-none"])},null,10,JE),[[or,i.values[o.code]]])],2)]))),256))])])}var jE=rr(HE,[["render",QE]]);const eA={name:"AlgorithmOptions",components:{StateConstants:jE,RadioGroup:vE,RadioGroupDescription:bE,RadioGroupLabel:yE,RadioGroupOption:gE},data:function(){return{algorithms:[{name:"1+1-ES",available:!0},{name:"CMA-ES",available:!0}],selected_algorithm:null}},created(){this.selected_algorithm=this.algorithms[0]},mounted(){MathJax.typeset()},watch:{selected_algorithm(e){this.$emit("selected",e.name),this.$nextTick(()=>{MathJax.typeset()})}},computed:{},methods:{export(){return{selected:this.selected_algorithm.name,options:this.$refs.constants.export()}}}},tA={class:"space-y-3"},rA={class:"space-y-4"},nA=j("div",{class:"relative mb-5"},[j("div",{class:"absolute bg-white pr-0.5 pl-0.5 ml-1.5 block text-sm text-indigo-700 font-medium mb-5"}," Algorithm "),j("div",{class:"h-6 flex w-full flex-col justify-center"},[j("hr")])],-1),iA={class:"mb-5"},aA={class:"flex flex-grow space-x-5"};function oA(e,t,r,n,i,a){const o=et("RadioGroupLabel"),u=et("RadioGroupOption"),c=et("RadioGroup"),d=et("StateConstants");return Ae(),Pe("div",tA,[j("div",rA,[nA,j("div",iA,[j("div",null,[Be(c,{modelValue:e.selected_algorithm,"onUpdate:modelValue":t[0]||(t[0]=l=>e.selected_algorithm=l),class:"mt-2"},{default:Ot(()=>[j("div",aA,[(Ae(!0),Pe(gt,null,En(e.algorithms,l=>(Ae(),Vr(u,{as:"template",value:l,disabled:!l.available},{default:Ot(({active:s,checked:f})=>[j("div",{class:tt([l.available?"cursor-pointer focus:outline-none":"opacity-25 cursor-not-allowed",s?"ring-2 ring-offset-2 ring-indigo-500":"",f?"bg-indigo-600 border-transparent text-white hover:bg-indigo-700":"bg-white border-gray-200 text-gray-900 hover:bg-gray-50","border rounded-md py-2 px-2 flex items-center justify-center text-sm font-medium uppercase sm:flex-1"])},[Be(o,{as:"p"},{default:Ot(()=>[Bs(He(l.name),1)]),_:2},1024)],2)]),_:2},1032,["value","disabled"]))),256))])]),_:1},8,["modelValue"])]),Be(d,{ref:"constants",class:"mt-5",algorithm:e.selected_algorithm.name},null,8,["algorithm"])])])])}var sA=rr(eA,[["render",oA]]);const uA={name:"SingleStateVariable",components:{StateVariableOptions:Qc,Switch:wE},mixins:[js],props:["init","validation","quantity"],data(){return{selected_distribution:null,selected_scale:null,variation_enabled:!0,variable:{field_1:0,field_2:10,quantity:1e3}}},created(){this.selected_scale=wn.scales.find(e=>e.id===this.init.scale),this.selected_distribution=wn.distributions.find(e=>e.id===this.init.distribution),this.initialize()},mounted(){MathJax.typeset()},updated(){MathJax.typeset()},watch:{init(){this.initialize()}},methods:{initialize(){this.init&&(this.variable.field_1=this.init.field_1,this.variable.field_2=this.init.field_2,this.variable.quantity=this.init.quantity,this.variation_enabled=this.init.variation_enabled)},has_error(e){return e in this.errors?this.errors[e]:!1},export(){let e={};if(this.variation_enabled){if(this.validate(this.variable,this.validation),this.validation_error)throw"validation_error in the state variables";for(let t=0;t<2;t++){let r=this.selected_distribution.fields[t];typeof r=="string"?e[r]=this.variable["field_"+(t+1)]:e[r.code]=this.variable["field_"+(t+1)]}e.quantity=this.variable.quantity,e.scale=this.selected_scale.id,e.distribution=this.selected_distribution.id}else{if(this.validate({field_1:this.variable.field_1},{field_1:this.validation.field_1}),this.validation_error)throw"validation_error in the state variables";e={value:this.variable.field_1}}return{variation:this.variation_enabled,...e}}}},eu=e=>(wy("data-v-6c201af9"),e=e(),_y(),e),lA={class:"my-auto"},cA={class:"my-auto flex space-x-2 text-center mb-3 justify-between"},fA={class:"my-auto flex"},dA={class:"font-mono text-sm"},hA={class:"space-x-3"},pA=eu(()=>j("label",{class:"text-xs font-semibold"},"Enable Variation",-1)),vA=eu(()=>j("span",{class:"sr-only"},"Use setting",-1)),mA=eu(()=>j("span",{"aria-hidden":"true",class:"pointer-events-none absolute bg-white w-full h-full rounded-md"},null,-1)),gA={class:"flex justify-between"},yA={class:"text-lg"},bA={key:0,class:"flex space-x-3"},wA={class:"absolute -top-2 left-2 -mt-px inline-block rounded px-1 bg-white text-xs font-medium text-gray-900"},_A={key:0},xA={key:1},MA={class:"absolute -top-2 left-2 -mt-px inline-block rounded px-1 bg-white text-xs font-medium text-gray-900"},SA={key:0},EA={key:1},AA=eu(()=>j("label",{class:"absolute -top-2 left-2 rounded -mt-px inline-block px-1 bg-white text-xs font-medium text-gray-900"}," n",-1)),NA={key:1,class:"w-24 relative border border-gray-300 rounded-md px-3 py-2 shadow-sm focus-within:ring-1 focus-within:ring-indigo-600 focus-within:border-indigo-600"};function CA(e,t,r,n,i,a){const o=et("Switch"),u=et("StateVariableOptions");return Ae(),Pe("div",lA,[j("div",cA,[j("div",fA,[j("span",dA,[jf(e.$slots,"code",{},void 0,!0)])]),j("div",hA,[pA,Be(o,{modelValue:i.variation_enabled,"onUpdate:modelValue":t[0]||(t[0]=c=>i.variation_enabled=c),class:"my-auto flex-shrink-0 group relative rounded-full inline-flex items-center justify-center h-3 w-9 cursor-pointer focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"},{default:Ot(()=>[vA,mA,j("span",{"aria-hidden":"true",class:tt([i.variation_enabled?"bg-indigo-600":"bg-gray-200","pointer-events-none absolute h-2.5 w-6 mx-auto rounded-full transition-colors ease-in-out duration-200"])},null,2),j("span",{"aria-hidden":"true",class:tt([i.variation_enabled?"translate-x-5":"translate-x-0","pointer-events-none absolute left-0 inline-block h-4 w-4 border border-gray-200 rounded-full bg-white shadow transform ring-0 transition-transform ease-in-out duration-200"])},null,2)]),_:1},8,["modelValue"])])]),j("div",gA,[j("div",yA,[jf(e.$slots,"title",{},void 0,!0)]),i.variation_enabled?(Ae(),Pe("div",bA,[j("div",{class:tt([a.has_error("field_1")?"bg-red-400 border-red-500":"bg-white border-gray-300","w-12 relative border rounded-md px-3 py-2 shadow-sm focus-within:ring-1 focus-within:ring-indigo-600 focus-within:border-indigo-600"])},[j("label",wA,[typeof i.selected_distribution.fields[0]=="string"?(Ae(),Pe("span",_A,He(i.selected_distribution.fields[0]),1)):(Ae(),Pe("span",xA,"$\\"+He(i.selected_distribution.fields[0].symbol)+"$",1))]),ar(j("input",{"onUpdate:modelValue":t[1]||(t[1]=c=>i.variable.field_1=c),type:"number",class:tt([a.has_error("field_1")?"bg-red-400":"bg-white","block w-full border-0 p-0 text-gray-900 placeholder-gray-500 focus:ring-0 focus:outline-0 sm:text-sm appearance-none"])},null,2),[[or,i.variable.field_1]])],2),j("div",{class:tt([a.has_error("field_2")?"bg-red-400 border-red-500":"bg-white border-gray-300","w-12 relative border rounded-md px-3 py-2 shadow-sm focus-within:ring-1 focus-within:ring-indigo-600 focus-within:border-indigo-600"])},[j("label",MA,[typeof i.selected_distribution.fields[1]=="string"?(Ae(),Pe("span",SA,He(i.selected_distribution.fields[1]),1)):(Ae(),Pe("span",EA,"$\\"+He(i.selected_distribution.fields[1].symbol)+"$",1))]),ar(j("input",{"onUpdate:modelValue":t[2]||(t[2]=c=>i.variable.field_2=c),type:"number",class:tt([a.has_error("field_2")?"bg-red-400":"bg-white","block w-full border-0 p-0 text-gray-900 placeholder-gray-500 focus:ring-0 focus:outline-0 sm:text-sm appearance-none"])},null,2),[[or,i.variable.field_2]])],2),j("div",{class:tt([a.has_error("quantity")?"bg-red-400 border-red-500":"bg-white border-gray-300","w-16 relative border border-gray-300 rounded-md px-3 py-2 shadow-sm focus-within:ring-1 focus-within:ring-indigo-600 focus-within:border-indigo-600"])},[AA,ar(j("input",{"onUpdate:modelValue":t[3]||(t[3]=c=>i.variable.quantity=c),type:"number",class:tt([a.has_error("quantity")?"bg-red-400":"bg-white","block w-full border-0 p-0 text-gray-900 placeholder-gray-500 focus:ring-0 focus:outline-0 sm:text-sm appearance-none"])},null,2),[[or,i.variable.quantity]])],2),Be(u,{init:{distribution:r.init.distribution,scale:r.init.scale},onRand_alg:t[4]||(t[4]=c=>i.selected_distribution=c),onRand_scale:t[5]||(t[5]=c=>i.selected_scale=c)},null,8,["init"])])):(Ae(),Pe("div",NA,[ar(j("input",{"onUpdate:modelValue":t[6]||(t[6]=c=>i.variable.field_1=c),class:"block w-full border-0 p-0 text-gray-900 placeholder-gray-500 focus:ring-0 focus:outline-0 sm:text-sm appearance-none"},null,512),[[or,i.variable.field_1]])]))])])}var OA=rr(uA,[["render",CA],["__scopeId","data-v-6c201af9"]]);const DA={props:["algorithm"],name:"StateVariables",components:{SingleStateVariable:OA},data(){return{definition:null,data:{}}},watch:{algorithm(){this.init_algorithm()}},updated(){MathJax.typeset()},methods:{init_algorithm(){let e;this.algorithm==="CMA-ES"&&(e=Em),this.algorithm==="1+1-ES"&&(e=Am),this.definition=e.state_variables},defaults(e){let t={};return Object.entries(e.fields).map(r=>{t[r[0]]=r[1].default}),{...t,...e.defaults,variation_enabled:e.variation_enabled}},validation(e){let t={};return Object.entries(e.fields).map(r=>{t[r[0]]=r[1].validation}),t},export(){let e={};for(const t of this.definition)e[t.code]=this.$refs[t.code][0].export();return console.log(e),e}}},TA={class:"space-y-5"},PA={class:"space-y-6"},IA=j("label",{class:"text-xs uppercase text-gray-500"},"State State",-1);function RA(e,t,r,n,i,a){const o=et("SingleStateVariable");return Ae(),Pe("div",TA,[j("div",PA,[IA,(Ae(!0),Pe(gt,null,En(i.definition,u=>(Ae(),Vr(o,{ref_for:!0,ref:u.code,init:a.defaults(u),validation:a.validation(u)},{title:Ot(()=>[j("div",{class:tt([u.bottom_bias?"mt-1.5":""])},"$"+He(u.symbol)+"$",3)]),code:Ot(()=>[Bs(He(u.code),1)]),_:2},1032,["init","validation"]))),256))])])}var Nm=rr(DA,[["render",RA]]);const $A={name:"StateLocation",components:{StateVariables:Nm,StateVariableOptions:Qc},mixins:[js],props:["algorithm"],data(){return{dimensions:2,values:[],value_errors:{},quantity:10}},created(){for(let e=0;e<this.dimensions;e++)this.value_errors[e+1]={},this.values.push({dimension:e+1,field_1:-100,field_2:100,distribution:wn.distributions.find(t=>t.id==="uniform"),scale:wn.scales.find(t=>t.id==="linear")})},updated(){MathJax.typeset()},methods:{select_rand_alg(e,t){t.distribution=e},select_scale(e,t){t.scale=e},has_value_error(e,t){return t in this.value_errors[e]?this.value_errors[e][t].length>0:!1},export(){for(let e=1;e<=this.dimensions;e++)if(this.value_errors[e]=this.validate({field_1:this.values[e-1].field_1,field_2:this.values[e-1].field_2},{field_1:"required|numeric",field_2:"required|numeric"}),this.value_errors[e].length>0)throw"validation error";if(this.validate({quantity:this.quantity},{quantity:"required|numeric|gt:0"}),this.validation_error)throw"validation error";return{vector:this.values.map(e=>{let t={distribution:e.distribution.id,scale:e.scale.id};return t[typeof e.distribution.fields[0]=="object"?e.distribution.fields[0].code:e.distribution.fields[0]]=e.field_1,t[typeof e.distribution.fields[1]=="object"?e.distribution.fields[1].code:e.distribution.fields[1]]=e.field_2,t}),quantity:this.quantity}}}},BA={class:""},FA=j("div",{class:"relative mb-5"},[j("div",{class:"absolute bg-white pr-0.5 pl-0.5 ml-1.5 block text-sm text-indigo-700 font-medium mb-5"},"Sampling Options "),j("div",{class:"h-6 flex w-full flex-col justify-center"},[j("hr")])],-1),zA={class:"flex justify-between mb-10"},kA=j("label",{class:"my-auto font-thin"},"Samples",-1),LA={class:"flex flex-col space-y-3"},UA={class:"flex justify-between"},qA={class:"my-auto"},VA={class:"flex space-x-3"},KA={class:"absolute -top-2 left-2 -mt-px inline-block rounded px-1 bg-white text-xs font-medium text-gray-900"},HA={key:0},WA={key:1},YA=["onUpdate:modelValue"],XA={class:"absolute -top-2 left-2 -mt-px inline-block rounded px-1 bg-white text-xs font-medium text-gray-900"},GA={key:0},ZA={key:1},JA=["onUpdate:modelValue"];function QA(e,t,r,n,i,a){const o=et("StateVariableOptions");return Ae(),Pe("div",BA,[FA,j("div",zA,[kA,j("div",{class:tt([e.has_error("quantity")?"bg-red-400 border-red-500":"bg-white border-gray-300","mr-2 w-32 relative border rounded-md px-3 py-2 shadow-sm focus-within:ring-1 focus-within:ring-indigo-600 focus-within:border-indigo-600"])},[ar(j("input",{"onUpdate:modelValue":t[0]||(t[0]=u=>i.quantity=u),type:"number",class:tt([e.has_error("quantity")?"bg-red-400":"bg-white","block w-full border-0 p-0 text-gray-900 placeholder-gray-500 focus:ring-0 focus:outline-0 sm:text-sm appearance-none"])},null,2),[[or,i.quantity]])],2)]),j("div",LA,[(Ae(!0),Pe(gt,null,En(i.values,u=>(Ae(),Pe("div",UA,[j("label",qA,"$x_"+He(u.dimension)+"$",1),j("div",VA,[j("div",{class:tt([a.has_value_error(u.dimension,"field_1")?"bg-red-400 border-red-500":"bg-white border-gray-300","w-20 relative border rounded-md px-3 py-2 shadow-sm focus-within:ring-1 focus-within:ring-indigo-600 focus-within:border-indigo-600"])},[j("label",KA,[typeof u.distribution.fields[0]=="string"?(Ae(),Pe("span",HA,He(u.distribution.fields[0]),1)):(Ae(),Pe("span",WA,"$\\"+He(u.distribution.fields[0].symbol)+"$",1))]),ar(j("input",{"onUpdate:modelValue":c=>u.field_1=c,type:"number",class:tt([a.has_value_error(u.dimension,"field_1")?"bg-red-400":"bg-white","block w-full border-0 p-0 text-gray-900 placeholder-gray-500 focus:ring-0 focus:outline-0 sm:text-sm appearance-none"])},null,10,YA),[[or,u.field_1]])],2),j("div",{class:tt([a.has_value_error(u.dimension,"field_2")?"bg-red-400 border-red-500":"bg-white border-gray-300","w-20 relative border rounded-md px-3 py-2 shadow-sm focus-within:ring-1 focus-within:ring-indigo-600 focus-within:border-indigo-600"])},[j("label",XA,[typeof u.distribution.fields[1]=="string"?(Ae(),Pe("span",GA,He(u.distribution.fields[1]),1)):(Ae(),Pe("span",ZA,"$\\"+He(u.distribution.fields[1].symbol)+"$",1))]),ar(j("input",{"onUpdate:modelValue":c=>u.field_2=c,type:"number",class:tt([a.has_value_error(u.dimension,"field_2")?"bg-red-400":"bg-white","block w-full border-0 p-0 text-gray-900 placeholder-gray-500 focus:ring-0 focus:outline-0 sm:text-sm appearance-none"])},null,10,JA),[[or,u.field_2]])],2),Be(o,{init:{distribution:"uniform",scale:"linear"},onRand_alg:c=>a.select_rand_alg(c,u),onScale:c=>a.select_scale(c,u)},null,8,["onRand_alg","onScale"])])]))),256))])])}var jA=rr($A,[["render",QA]]);const eN={name:"Configuration",components:{TargetFunction:CS,StateLocation:jA,StateVariables:Nm,PotentialFunction:zS,AlgorithmOptions:sA},mixins:[js],emits:["start_run","target_changed"],data:function(){return{name:"DriftAnalysisRun",algorithm:"",target_params:{A:1,B:0,C:1}}},created(){this.$emit("target_changed",this.target_params)},methods:{start_run(){try{const e=this.$refs.algorithm.export();this.$emit("start_run",{name:this.name,algorithm:e.selected,target:this.$refs.target.export(),potential:this.$refs.potential.export(),constants:e.options,location:this.$refs.location.export(),variables:this.$refs.variables.export()})}catch(e){alert("cannot start because of "+e)}}}},tN={class:"relative flex flex-col justify-between border-l border-indigo-600"},rN={class:"flex flex-col sticky top-0 z-50 bg-white"},nN=j("h1",{class:"text-4xl mx-auto mt-5 font-cuprum font-bold mb-10"},"DriftAnalysis",-1),iN={class:"flex flex-col px-5 py-5 bg-indigo-600"},aN={class:"px-5 py-10 space-y-10"},oN={class:"flex flex-col sticky bottom-0 border-t-2 border-indigo-600"};function sN(e,t,r,n,i,a){const o=et("TargetFunction"),u=et("StateLocation"),c=et("PotentialFunction"),d=et("AlgorithmOptions"),l=et("StateVariables");return Ae(),Pe("div",tN,[j("div",rN,[nN,j("div",iN,[j("div",{class:tt([e.has_error("name")?"bg-red-400 border-red-500":"bg-white border-gray-300","mr-2 w-full relative border rounded-md px-3 py-2 shadow-sm focus-within:ring-1 focus-within:ring-indigo-600 focus-within:border-indigo-600"])},[ar(j("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>e.name=s),type:"text",class:tt([e.has_error("name")?"bg-red-400":"bg-white","block w-full border-0 p-0 text-gray-900 placeholder-gray-500 focus:ring-0 focus:outline-0 sm:text-sm appearance-none"])},null,2),[[or,e.name]])],2)])]),j("div",aN,[Be(o,{ref:"target",init_params:e.target_params,onParam_update:t[1]||(t[1]=s=>e.$emit("target_changed",s))},null,8,["init_params"]),Be(u,{ref:"location",algorithm:e.algorithm},null,8,["algorithm"]),Be(c,{ref:"potential"},null,512),Be(d,{ref:"algorithm",onSelected:t[2]||(t[2]=s=>e.algorithm=s)},null,512),Be(l,{ref:"variables",algorithm:e.algorithm},null,8,["algorithm"])]),j("div",oN,[j("button",{class:"bg-indigo-600 hover:bg-indigo-500 text-white pt-3 pb-5 font-semibold",onClick:t[3]||(t[3]=(...s)=>a.start_run&&a.start_run(...s))}," Start run ")])])}var uN=rr(eN,[["render",sN]]);function To(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lN(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Cm(e){let t,r,n;e.length!==2?(t=To,r=(u,c)=>To(e(u),c),n=(u,c)=>e(u)-c):(t=e===To||e===lN?e:cN,r=e,n=e);function i(u,c,d=0,l=u.length){if(d<l){if(t(c,c)!==0)return l;do{const s=d+l>>>1;r(u[s],c)<0?d=s+1:l=s}while(d<l)}return d}function a(u,c,d=0,l=u.length){if(d<l){if(t(c,c)!==0)return l;do{const s=d+l>>>1;r(u[s],c)<=0?d=s+1:l=s}while(d<l)}return d}function o(u,c,d=0,l=u.length){const s=i(u,c,d,l-1);return s>d&&n(u[s-1],c)>-n(u[s],c)?s-1:s}return{left:i,center:o,right:a}}function cN(){return 0}function fN(e){return e===null?NaN:+e}const dN=Cm(To),hN=dN.right;Cm(fN).center;var pN=hN;function lh(e,t){let r,n;if(t===void 0)for(const i of e)i!=null&&(r===void 0?i>=i&&(r=n=i):(r>i&&(r=i),n<i&&(n=i)));else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(r===void 0?a>=a&&(r=n=a):(r>a&&(r=a),n<a&&(n=a)))}return[r,n]}var Ml=Math.sqrt(50),Sl=Math.sqrt(10),El=Math.sqrt(2);function vN(e,t,r){var n,i=-1,a,o,u;if(t=+t,e=+e,r=+r,e===t&&r>0)return[e];if((n=t<e)&&(a=e,e=t,t=a),(u=Om(e,t,r))===0||!isFinite(u))return[];if(u>0){let c=Math.round(e/u),d=Math.round(t/u);for(c*u<e&&++c,d*u>t&&--d,o=new Array(a=d-c+1);++i<a;)o[i]=(c+i)*u}else{u=-u;let c=Math.round(e*u),d=Math.round(t*u);for(c/u<e&&++c,d/u>t&&--d,o=new Array(a=d-c+1);++i<a;)o[i]=(c+i)/u}return n&&o.reverse(),o}function Om(e,t,r){var n=(t-e)/Math.max(0,r),i=Math.floor(Math.log(n)/Math.LN10),a=n/Math.pow(10,i);return i>=0?(a>=Ml?10:a>=Sl?5:a>=El?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a>=Ml?10:a>=Sl?5:a>=El?2:1)}function mN(e,t,r){var n=Math.abs(t-e)/Math.max(0,r),i=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),a=n/i;return a>=Ml?i*=10:a>=Sl?i*=5:a>=El&&(i*=2),t<e?-i:i}function zu(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,a=new Array(i);++n<i;)a[n]=e+n*r;return a}function gN(e){return e}var Po=1,Io=2,ch=3,mo=4,fh=1e-6;function yN(e){return"translate("+e+",0)"}function bN(e){return"translate(0,"+e+")"}function wN(e){return t=>+e(t)}function _N(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),r=>+e(r)+t}function xN(){return!this.__axis}function Dm(e,t){var r=[],n=null,i=null,a=6,o=6,u=3,c=typeof window!="undefined"&&window.devicePixelRatio>1?0:.5,d=e===Po||e===mo?-1:1,l=e===mo||e===Io?"x":"y",s=e===Po||e===ch?yN:bN;function f(p){var v=n==null?t.ticks?t.ticks.apply(t,r):t.domain():n,h=i==null?t.tickFormat?t.tickFormat.apply(t,r):gN:i,m=Math.max(a,0)+u,g=t.range(),b=+g[0]+c,y=+g[g.length-1]+c,w=(t.bandwidth?_N:wN)(t.copy(),c),_=p.selection?p.selection():p,x=_.selectAll(".domain").data([null]),N=_.selectAll(".tick").data(v,t).order(),M=N.exit(),A=N.enter().append("g").attr("class","tick"),E=N.select("line"),D=N.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),N=N.merge(A),E=E.merge(A.append("line").attr("stroke","currentColor").attr(l+"2",d*a)),D=D.merge(A.append("text").attr("fill","currentColor").attr(l,d*m).attr("dy",e===Po?"0em":e===ch?"0.71em":"0.32em")),p!==_&&(x=x.transition(p),N=N.transition(p),E=E.transition(p),D=D.transition(p),M=M.transition(p).attr("opacity",fh).attr("transform",function(C){return isFinite(C=w(C))?s(C+c):this.getAttribute("transform")}),A.attr("opacity",fh).attr("transform",function(C){var $=this.parentNode.__axis;return s(($&&isFinite($=$(C))?$:w(C))+c)})),M.remove(),x.attr("d",e===mo||e===Io?o?"M"+d*o+","+b+"H"+c+"V"+y+"H"+d*o:"M"+c+","+b+"V"+y:o?"M"+b+","+d*o+"V"+c+"H"+y+"V"+d*o:"M"+b+","+c+"H"+y),N.attr("opacity",1).attr("transform",function(C){return s(w(C)+c)}),E.attr(l+"2",d*a),D.attr(l,d*m).text(h),_.filter(xN).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",e===Io?"start":e===mo?"end":"middle"),_.each(function(){this.__axis=w})}return f.scale=function(p){return arguments.length?(t=p,f):t},f.ticks=function(){return r=Array.from(arguments),f},f.tickArguments=function(p){return arguments.length?(r=p==null?[]:Array.from(p),f):r.slice()},f.tickValues=function(p){return arguments.length?(n=p==null?null:Array.from(p),f):n&&n.slice()},f.tickFormat=function(p){return arguments.length?(i=p,f):i},f.tickSize=function(p){return arguments.length?(a=o=+p,f):a},f.tickSizeInner=function(p){return arguments.length?(a=+p,f):a},f.tickSizeOuter=function(p){return arguments.length?(o=+p,f):o},f.tickPadding=function(p){return arguments.length?(u=+p,f):u},f.offset=function(p){return arguments.length?(c=+p,f):c},f}function MN(e){return Dm(Po,e)}function SN(e){return Dm(Io,e)}var EN={value:()=>{}};function Tm(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new Ro(r)}function Ro(e){this._=e}function AN(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",i=r.indexOf(".");if(i>=0&&(n=r.slice(i+1),r=r.slice(0,i)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}Ro.prototype=Tm.prototype={constructor:Ro,on:function(e,t){var r=this._,n=AN(e+"",r),i,a=-1,o=n.length;if(arguments.length<2){for(;++a<o;)if((i=(e=n[a]).type)&&(i=NN(r[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(i=(e=n[a]).type)r[i]=dh(r[i],e.name,t);else if(t==null)for(i in r)r[i]=dh(r[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new Ro(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var r=new Array(i),n=0,i,a;n<i;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],n=0,i=a.length;n<i;++n)a[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],i=0,a=n.length;i<a;++i)n[i].value.apply(t,r)}};function NN(e,t){for(var r=0,n=e.length,i;r<n;++r)if((i=e[r]).name===t)return i.value}function dh(e,t,r){for(var n=0,i=e.length;n<i;++n)if(e[n].name===t){e[n]=EN,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var Al="http://www.w3.org/1999/xhtml",hh={svg:"http://www.w3.org/2000/svg",xhtml:Al,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function tu(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),hh.hasOwnProperty(t)?{space:hh[t],local:e}:e}function CN(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===Al&&t.documentElement.namespaceURI===Al?t.createElement(e):t.createElementNS(r,e)}}function ON(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Pm(e){var t=tu(e);return(t.local?ON:CN)(t)}function DN(){}function jc(e){return e==null?DN:function(){return this.querySelector(e)}}function TN(e){typeof e!="function"&&(e=jc(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a=t[i],o=a.length,u=n[i]=new Array(o),c,d,l=0;l<o;++l)(c=a[l])&&(d=e.call(c,c.__data__,l,a))&&("__data__"in c&&(d.__data__=c.__data__),u[l]=d);return new dr(n,this._parents)}function PN(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function IN(){return[]}function Im(e){return e==null?IN:function(){return this.querySelectorAll(e)}}function RN(e){return function(){return PN(e.apply(this,arguments))}}function $N(e){typeof e=="function"?e=RN(e):e=Im(e);for(var t=this._groups,r=t.length,n=[],i=[],a=0;a<r;++a)for(var o=t[a],u=o.length,c,d=0;d<u;++d)(c=o[d])&&(n.push(e.call(c,c.__data__,d,o)),i.push(c));return new dr(n,i)}function Rm(e){return function(){return this.matches(e)}}function $m(e){return function(t){return t.matches(e)}}var BN=Array.prototype.find;function FN(e){return function(){return BN.call(this.children,e)}}function zN(){return this.firstElementChild}function kN(e){return this.select(e==null?zN:FN(typeof e=="function"?e:$m(e)))}var LN=Array.prototype.filter;function UN(){return Array.from(this.children)}function qN(e){return function(){return LN.call(this.children,e)}}function VN(e){return this.selectAll(e==null?UN:qN(typeof e=="function"?e:$m(e)))}function KN(e){typeof e!="function"&&(e=Rm(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a=t[i],o=a.length,u=n[i]=[],c,d=0;d<o;++d)(c=a[d])&&e.call(c,c.__data__,d,a)&&u.push(c);return new dr(n,this._parents)}function Bm(e){return new Array(e.length)}function HN(){return new dr(this._enter||this._groups.map(Bm),this._parents)}function as(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}as.prototype={constructor:as,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function WN(e){return function(){return e}}function YN(e,t,r,n,i,a){for(var o=0,u,c=t.length,d=a.length;o<d;++o)(u=t[o])?(u.__data__=a[o],n[o]=u):r[o]=new as(e,a[o]);for(;o<c;++o)(u=t[o])&&(i[o]=u)}function XN(e,t,r,n,i,a,o){var u,c,d=new Map,l=t.length,s=a.length,f=new Array(l),p;for(u=0;u<l;++u)(c=t[u])&&(f[u]=p=o.call(c,c.__data__,u,t)+"",d.has(p)?i[u]=c:d.set(p,c));for(u=0;u<s;++u)p=o.call(e,a[u],u,a)+"",(c=d.get(p))?(n[u]=c,c.__data__=a[u],d.delete(p)):r[u]=new as(e,a[u]);for(u=0;u<l;++u)(c=t[u])&&d.get(f[u])===c&&(i[u]=c)}function GN(e){return e.__data__}function ZN(e,t){if(!arguments.length)return Array.from(this,GN);var r=t?XN:YN,n=this._parents,i=this._groups;typeof e!="function"&&(e=WN(e));for(var a=i.length,o=new Array(a),u=new Array(a),c=new Array(a),d=0;d<a;++d){var l=n[d],s=i[d],f=s.length,p=JN(e.call(l,l&&l.__data__,d,n)),v=p.length,h=u[d]=new Array(v),m=o[d]=new Array(v),g=c[d]=new Array(f);r(l,s,h,m,g,p,t);for(var b=0,y=0,w,_;b<v;++b)if(w=h[b]){for(b>=y&&(y=b+1);!(_=m[y])&&++y<v;);w._next=_||null}}return o=new dr(o,n),o._enter=u,o._exit=c,o}function JN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function QN(){return new dr(this._exit||this._groups.map(Bm),this._parents)}function jN(e,t,r){var n=this.enter(),i=this,a=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),r==null?a.remove():r(a),n&&i?n.merge(i).order():i}function e2(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,i=r.length,a=n.length,o=Math.min(i,a),u=new Array(i),c=0;c<o;++c)for(var d=r[c],l=n[c],s=d.length,f=u[c]=new Array(s),p,v=0;v<s;++v)(p=d[v]||l[v])&&(f[v]=p);for(;c<i;++c)u[c]=r[c];return new dr(u,this._parents)}function t2(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],i=n.length-1,a=n[i],o;--i>=0;)(o=n[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function r2(e){e||(e=n2);function t(s,f){return s&&f?e(s.__data__,f.__data__):!s-!f}for(var r=this._groups,n=r.length,i=new Array(n),a=0;a<n;++a){for(var o=r[a],u=o.length,c=i[a]=new Array(u),d,l=0;l<u;++l)(d=o[l])&&(c[l]=d);c.sort(t)}return new dr(i,this._parents).order()}function n2(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function i2(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function a2(){return Array.from(this)}function o2(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,a=n.length;i<a;++i){var o=n[i];if(o)return o}return null}function s2(){let e=0;for(const t of this)++e;return e}function u2(){return!this.node()}function l2(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var i=t[r],a=0,o=i.length,u;a<o;++a)(u=i[a])&&e.call(u,u.__data__,a,i);return this}function c2(e){return function(){this.removeAttribute(e)}}function f2(e){return function(){this.removeAttributeNS(e.space,e.local)}}function d2(e,t){return function(){this.setAttribute(e,t)}}function h2(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function p2(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function v2(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function m2(e,t){var r=tu(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?f2:c2:typeof t=="function"?r.local?v2:p2:r.local?h2:d2)(r,t))}function Fm(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function g2(e){return function(){this.style.removeProperty(e)}}function y2(e,t,r){return function(){this.style.setProperty(e,t,r)}}function b2(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function w2(e,t,r){return arguments.length>1?this.each((t==null?g2:typeof t=="function"?b2:y2)(e,t,r==null?"":r)):ki(this.node(),e)}function ki(e,t){return e.style.getPropertyValue(t)||Fm(e).getComputedStyle(e,null).getPropertyValue(t)}function _2(e){return function(){delete this[e]}}function x2(e,t){return function(){this[e]=t}}function M2(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function S2(e,t){return arguments.length>1?this.each((t==null?_2:typeof t=="function"?M2:x2)(e,t)):this.node()[e]}function zm(e){return e.trim().split(/^|\s+/)}function ef(e){return e.classList||new km(e)}function km(e){this._node=e,this._names=zm(e.getAttribute("class")||"")}km.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Lm(e,t){for(var r=ef(e),n=-1,i=t.length;++n<i;)r.add(t[n])}function Um(e,t){for(var r=ef(e),n=-1,i=t.length;++n<i;)r.remove(t[n])}function E2(e){return function(){Lm(this,e)}}function A2(e){return function(){Um(this,e)}}function N2(e,t){return function(){(t.apply(this,arguments)?Lm:Um)(this,e)}}function C2(e,t){var r=zm(e+"");if(arguments.length<2){for(var n=ef(this.node()),i=-1,a=r.length;++i<a;)if(!n.contains(r[i]))return!1;return!0}return this.each((typeof t=="function"?N2:t?E2:A2)(r,t))}function O2(){this.textContent=""}function D2(e){return function(){this.textContent=e}}function T2(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function P2(e){return arguments.length?this.each(e==null?O2:(typeof e=="function"?T2:D2)(e)):this.node().textContent}function I2(){this.innerHTML=""}function R2(e){return function(){this.innerHTML=e}}function $2(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function B2(e){return arguments.length?this.each(e==null?I2:(typeof e=="function"?$2:R2)(e)):this.node().innerHTML}function F2(){this.nextSibling&&this.parentNode.appendChild(this)}function z2(){return this.each(F2)}function k2(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function L2(){return this.each(k2)}function U2(e){var t=typeof e=="function"?e:Pm(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function q2(){return null}function V2(e,t){var r=typeof e=="function"?e:Pm(e),n=t==null?q2:typeof t=="function"?t:jc(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function K2(){var e=this.parentNode;e&&e.removeChild(this)}function H2(){return this.each(K2)}function W2(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Y2(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function X2(e){return this.select(e?Y2:W2)}function G2(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Z2(e){return function(t){e.call(this,t,this.__data__)}}function J2(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function Q2(e){return function(){var t=this.__on;if(!!t){for(var r=0,n=-1,i=t.length,a;r<i;++r)a=t[r],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++n]=a;++n?t.length=n:delete this.__on}}}function j2(e,t,r){return function(){var n=this.__on,i,a=Z2(t);if(n){for(var o=0,u=n.length;o<u;++o)if((i=n[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=r),i.value=t;return}}this.addEventListener(e.type,a,r),i={type:e.type,name:e.name,value:t,listener:a,options:r},n?n.push(i):this.__on=[i]}}function eC(e,t,r){var n=J2(e+""),i,a=n.length,o;if(arguments.length<2){var u=this.node().__on;if(u){for(var c=0,d=u.length,l;c<d;++c)for(i=0,l=u[c];i<a;++i)if((o=n[i]).type===l.type&&o.name===l.name)return l.value}return}for(u=t?j2:Q2,i=0;i<a;++i)this.each(u(n[i],t,r));return this}function qm(e,t,r){var n=Fm(e),i=n.CustomEvent;typeof i=="function"?i=new i(t,r):(i=n.document.createEvent("Event"),r?(i.initEvent(t,r.bubbles,r.cancelable),i.detail=r.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function tC(e,t){return function(){return qm(this,e,t)}}function rC(e,t){return function(){return qm(this,e,t.apply(this,arguments))}}function nC(e,t){return this.each((typeof t=="function"?rC:tC)(e,t))}function*iC(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],i=0,a=n.length,o;i<a;++i)(o=n[i])&&(yield o)}var Vm=[null];function dr(e,t){this._groups=e,this._parents=t}function Xa(){return new dr([[document.documentElement]],Vm)}function aC(){return this}dr.prototype=Xa.prototype={constructor:dr,select:TN,selectAll:$N,selectChild:kN,selectChildren:VN,filter:KN,data:ZN,enter:HN,exit:QN,join:jN,merge:e2,selection:aC,order:t2,sort:r2,call:i2,nodes:a2,node:o2,size:s2,empty:u2,each:l2,attr:m2,style:w2,property:S2,classed:C2,text:P2,html:B2,raise:z2,lower:L2,append:U2,insert:V2,remove:H2,clone:X2,datum:G2,on:eC,dispatch:nC,[Symbol.iterator]:iC};function oC(e){return typeof e=="string"?new dr([[document.querySelector(e)]],[document.documentElement]):new dr([[e]],Vm)}function ru(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function tf(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function ji(){}var oi=.7,Li=1/oi,Ti="\\s*([+-]?\\d+)\\s*",Ta="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Hr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sC=/^#([0-9a-f]{3,8})$/,uC=new RegExp(`^rgb\\(${Ti},${Ti},${Ti}\\)$`),lC=new RegExp(`^rgb\\(${Hr},${Hr},${Hr}\\)$`),cC=new RegExp(`^rgba\\(${Ti},${Ti},${Ti},${Ta}\\)$`),fC=new RegExp(`^rgba\\(${Hr},${Hr},${Hr},${Ta}\\)$`),dC=new RegExp(`^hsl\\(${Ta},${Hr},${Hr}\\)$`),hC=new RegExp(`^hsla\\(${Ta},${Hr},${Hr},${Ta}\\)$`),ph={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ru(ji,si,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:vh,formatHex:vh,formatHex8:pC,formatHsl:vC,formatRgb:mh,toString:mh});function vh(){return this.rgb().formatHex()}function pC(){return this.rgb().formatHex8()}function vC(){return Hm(this).formatHsl()}function mh(){return this.rgb().formatRgb()}function si(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=sC.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?gh(t):r===3?new Kt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?go(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?go(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=uC.exec(e))?new Kt(t[1],t[2],t[3],1):(t=lC.exec(e))?new Kt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=cC.exec(e))?go(t[1],t[2],t[3],t[4]):(t=fC.exec(e))?go(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=dC.exec(e))?wh(t[1],t[2]/100,t[3]/100,1):(t=hC.exec(e))?wh(t[1],t[2]/100,t[3]/100,t[4]):ph.hasOwnProperty(e)?gh(ph[e]):e==="transparent"?new Kt(NaN,NaN,NaN,0):null}function gh(e){return new Kt(e>>16&255,e>>8&255,e&255,1)}function go(e,t,r,n){return n<=0&&(e=t=r=NaN),new Kt(e,t,r,n)}function Km(e){return e instanceof ji||(e=si(e)),e?(e=e.rgb(),new Kt(e.r,e.g,e.b,e.opacity)):new Kt}function Nl(e,t,r,n){return arguments.length===1?Km(e):new Kt(e,t,r,n==null?1:n)}function Kt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}ru(Kt,Nl,tf(ji,{brighter(e){return e=e==null?Li:Math.pow(Li,e),new Kt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?oi:Math.pow(oi,e),new Kt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Kt(ti(this.r),ti(this.g),ti(this.b),os(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yh,formatHex:yh,formatHex8:mC,formatRgb:bh,toString:bh}));function yh(){return`#${Jn(this.r)}${Jn(this.g)}${Jn(this.b)}`}function mC(){return`#${Jn(this.r)}${Jn(this.g)}${Jn(this.b)}${Jn((isNaN(this.opacity)?1:this.opacity)*255)}`}function bh(){const e=os(this.opacity);return`${e===1?"rgb(":"rgba("}${ti(this.r)}, ${ti(this.g)}, ${ti(this.b)}${e===1?")":`, ${e})`}`}function os(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ti(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Jn(e){return e=ti(e),(e<16?"0":"")+e.toString(16)}function wh(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Or(e,t,r,n)}function Hm(e){if(e instanceof Or)return new Or(e.h,e.s,e.l,e.opacity);if(e instanceof ji||(e=si(e)),!e)return new Or;if(e instanceof Or)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),a=Math.max(t,r,n),o=NaN,u=a-i,c=(a+i)/2;return u?(t===a?o=(r-n)/u+(r<n)*6:r===a?o=(n-t)/u+2:o=(t-r)/u+4,u/=c<.5?a+i:2-a-i,o*=60):u=c>0&&c<1?0:o,new Or(o,u,c,e.opacity)}function gC(e,t,r,n){return arguments.length===1?Hm(e):new Or(e,t,r,n==null?1:n)}function Or(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}ru(Or,gC,tf(ji,{brighter(e){return e=e==null?Li:Math.pow(Li,e),new Or(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?oi:Math.pow(oi,e),new Or(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new Kt(ku(e>=240?e-240:e+120,i,n),ku(e,i,n),ku(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new Or(_h(this.h),yo(this.s),yo(this.l),os(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=os(this.opacity);return`${e===1?"hsl(":"hsla("}${_h(this.h)}, ${yo(this.s)*100}%, ${yo(this.l)*100}%${e===1?")":`, ${e})`}`}}));function _h(e){return e=(e||0)%360,e<0?e+360:e}function yo(e){return Math.max(0,Math.min(1,e||0))}function ku(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const yC=Math.PI/180,bC=180/Math.PI;var Wm=-.14861,rf=1.78277,nf=-.29227,nu=-.90649,Pa=1.97294,xh=Pa*nu,Mh=Pa*rf,Sh=rf*nf-nu*Wm;function wC(e){if(e instanceof ri)return new ri(e.h,e.s,e.l,e.opacity);e instanceof Kt||(e=Km(e));var t=e.r/255,r=e.g/255,n=e.b/255,i=(Sh*n+xh*t-Mh*r)/(Sh+xh-Mh),a=n-i,o=(Pa*(r-i)-nf*a)/nu,u=Math.sqrt(o*o+a*a)/(Pa*i*(1-i)),c=u?Math.atan2(o,a)*bC-120:NaN;return new ri(c<0?c+360:c,u,i,e.opacity)}function Dn(e,t,r,n){return arguments.length===1?wC(e):new ri(e,t,r,n==null?1:n)}function ri(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}ru(ri,Dn,tf(ji,{brighter(e){return e=e==null?Li:Math.pow(Li,e),new ri(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?oi:Math.pow(oi,e),new ri(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*yC,t=+this.l,r=isNaN(this.s)?0:this.s*t*(1-t),n=Math.cos(e),i=Math.sin(e);return new Kt(255*(t+r*(Wm*n+rf*i)),255*(t+r*(nf*n+nu*i)),255*(t+r*(Pa*n)),this.opacity)}}));var iu=e=>()=>e;function Ym(e,t){return function(r){return e+r*t}}function _C(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function xC(e,t){var r=t-e;return r?Ym(e,r>180||r<-180?r-360*Math.round(r/360):r):iu(isNaN(e)?t:e)}function MC(e){return(e=+e)==1?Pi:function(t,r){return r-t?_C(t,r,e):iu(isNaN(t)?r:t)}}function Pi(e,t){var r=t-e;return r?Ym(e,r):iu(isNaN(e)?t:e)}var ss=function e(t){var r=MC(t);function n(i,a){var o=r((i=Nl(i)).r,(a=Nl(a)).r),u=r(i.g,a.g),c=r(i.b,a.b),d=Pi(i.opacity,a.opacity);return function(l){return i.r=o(l),i.g=u(l),i.b=c(l),i.opacity=d(l),i+""}}return n.gamma=e,n}(1);function SC(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=e[i]*(1-a)+t[i]*a;return n}}function EC(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function AC(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=au(e[o],t[o]);for(;o<r;++o)a[o]=t[o];return function(u){for(o=0;o<n;++o)a[o]=i[o](u);return a}}function NC(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Nr(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function CC(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=au(e[i],t[i]):n[i]=t[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Cl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Lu=new RegExp(Cl.source,"g");function OC(e){return function(){return e}}function DC(e){return function(t){return e(t)+""}}function Xm(e,t){var r=Cl.lastIndex=Lu.lastIndex=0,n,i,a,o=-1,u=[],c=[];for(e=e+"",t=t+"";(n=Cl.exec(e))&&(i=Lu.exec(t));)(a=i.index)>r&&(a=t.slice(r,a),u[o]?u[o]+=a:u[++o]=a),(n=n[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,c.push({i:o,x:Nr(n,i)})),r=Lu.lastIndex;return r<t.length&&(a=t.slice(r),u[o]?u[o]+=a:u[++o]=a),u.length<2?c[0]?DC(c[0].x):OC(t):(t=c.length,function(d){for(var l=0,s;l<t;++l)u[(s=c[l]).i]=s.x(d);return u.join("")})}function au(e,t){var r=typeof t,n;return t==null||r==="boolean"?iu(t):(r==="number"?Nr:r==="string"?(n=si(t))?(t=n,ss):Xm:t instanceof si?ss:t instanceof Date?NC:EC(t)?SC:Array.isArray(t)?AC:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?CC:Nr)(e,t)}function Gm(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var Eh=180/Math.PI,Ol={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Zm(e,t,r,n,i,a){var o,u,c;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(c=e*r+t*n)&&(r-=e*c,n-=t*c),(u=Math.sqrt(r*r+n*n))&&(r/=u,n/=u,c/=u),e*n<t*r&&(e=-e,t=-t,c=-c,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*Eh,skewX:Math.atan(c)*Eh,scaleX:o,scaleY:u}}var bo;function TC(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ol:Zm(t.a,t.b,t.c,t.d,t.e,t.f)}function PC(e){return e==null||(bo||(bo=document.createElementNS("http://www.w3.org/2000/svg","g")),bo.setAttribute("transform",e),!(e=bo.transform.baseVal.consolidate()))?Ol:(e=e.matrix,Zm(e.a,e.b,e.c,e.d,e.e,e.f))}function Jm(e,t,r,n){function i(d){return d.length?d.pop()+" ":""}function a(d,l,s,f,p,v){if(d!==s||l!==f){var h=p.push("translate(",null,t,null,r);v.push({i:h-4,x:Nr(d,s)},{i:h-2,x:Nr(l,f)})}else(s||f)&&p.push("translate("+s+t+f+r)}function o(d,l,s,f){d!==l?(d-l>180?l+=360:l-d>180&&(d+=360),f.push({i:s.push(i(s)+"rotate(",null,n)-2,x:Nr(d,l)})):l&&s.push(i(s)+"rotate("+l+n)}function u(d,l,s,f){d!==l?f.push({i:s.push(i(s)+"skewX(",null,n)-2,x:Nr(d,l)}):l&&s.push(i(s)+"skewX("+l+n)}function c(d,l,s,f,p,v){if(d!==s||l!==f){var h=p.push(i(p)+"scale(",null,",",null,")");v.push({i:h-4,x:Nr(d,s)},{i:h-2,x:Nr(l,f)})}else(s!==1||f!==1)&&p.push(i(p)+"scale("+s+","+f+")")}return function(d,l){var s=[],f=[];return d=e(d),l=e(l),a(d.translateX,d.translateY,l.translateX,l.translateY,s,f),o(d.rotate,l.rotate,s,f),u(d.skewX,l.skewX,s,f),c(d.scaleX,d.scaleY,l.scaleX,l.scaleY,s,f),d=l=null,function(p){for(var v=-1,h=f.length,m;++v<h;)s[(m=f[v]).i]=m.x(p);return s.join("")}}}var IC=Jm(TC,"px, ","px)","deg)"),RC=Jm(PC,", ",")",")");function Qm(e){return function t(r){r=+r;function n(i,a){var o=e((i=Dn(i)).h,(a=Dn(a)).h),u=Pi(i.s,a.s),c=Pi(i.l,a.l),d=Pi(i.opacity,a.opacity);return function(l){return i.h=o(l),i.s=u(l),i.l=c(Math.pow(l,r)),i.opacity=d(l),i+""}}return n.gamma=t,n}(1)}Qm(xC);var jm=Qm(Pi),Ui=0,da=0,la=0,e0=1e3,us,ha,ls=0,ui=0,ou=0,Ia=typeof performance=="object"&&performance.now?performance:Date,t0=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function af(){return ui||(t0($C),ui=Ia.now()+ou)}function $C(){ui=0}function cs(){this._call=this._time=this._next=null}cs.prototype=r0.prototype={constructor:cs,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?af():+r)+(t==null?0:+t),!this._next&&ha!==this&&(ha?ha._next=this:us=this,ha=this),this._call=e,this._time=r,Dl()},stop:function(){this._call&&(this._call=null,this._time=1/0,Dl())}};function r0(e,t,r){var n=new cs;return n.restart(e,t,r),n}function BC(){af(),++Ui;for(var e=us,t;e;)(t=ui-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ui}function Ah(){ui=(ls=Ia.now())+ou,Ui=da=0;try{BC()}finally{Ui=0,zC(),ui=0}}function FC(){var e=Ia.now(),t=e-ls;t>e0&&(ou-=t,ls=e)}function zC(){for(var e,t=us,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:us=r);ha=e,Dl(n)}function Dl(e){if(!Ui){da&&(da=clearTimeout(da));var t=e-ui;t>24?(e<1/0&&(da=setTimeout(Ah,e-Ia.now()-ou)),la&&(la=clearInterval(la))):(la||(ls=Ia.now(),la=setInterval(FC,e0)),Ui=1,t0(Ah))}}function Nh(e,t,r){var n=new cs;return t=t==null?0:+t,n.restart(i=>{n.stop(),e(i+t)},t,r),n}var kC=Tm("start","end","cancel","interrupt"),LC=[],n0=0,Ch=1,Tl=2,$o=3,Oh=4,Pl=5,Bo=6;function su(e,t,r,n,i,a){var o=e.__transition;if(!o)e.__transition={};else if(r in o)return;UC(e,r,{name:t,index:n,group:i,on:kC,tween:LC,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:n0})}function of(e,t){var r=Br(e,t);if(r.state>n0)throw new Error("too late; already scheduled");return r}function Xr(e,t){var r=Br(e,t);if(r.state>$o)throw new Error("too late; already running");return r}function Br(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function UC(e,t,r){var n=e.__transition,i;n[t]=r,r.timer=r0(a,0,r.time);function a(d){r.state=Ch,r.timer.restart(o,r.delay,r.time),r.delay<=d&&o(d-r.delay)}function o(d){var l,s,f,p;if(r.state!==Ch)return c();for(l in n)if(p=n[l],p.name===r.name){if(p.state===$o)return Nh(o);p.state===Oh?(p.state=Bo,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete n[l]):+l<t&&(p.state=Bo,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete n[l])}if(Nh(function(){r.state===$o&&(r.state=Oh,r.timer.restart(u,r.delay,r.time),u(d))}),r.state=Tl,r.on.call("start",e,e.__data__,r.index,r.group),r.state===Tl){for(r.state=$o,i=new Array(f=r.tween.length),l=0,s=-1;l<f;++l)(p=r.tween[l].value.call(e,e.__data__,r.index,r.group))&&(i[++s]=p);i.length=s+1}}function u(d){for(var l=d<r.duration?r.ease.call(null,d/r.duration):(r.timer.restart(c),r.state=Pl,1),s=-1,f=i.length;++s<f;)i[s].call(e,l);r.state===Pl&&(r.on.call("end",e,e.__data__,r.index,r.group),c())}function c(){r.state=Bo,r.timer.stop(),delete n[t];for(var d in n)return;delete e.__transition}}function qC(e,t){var r=e.__transition,n,i,a=!0,o;if(!!r){t=t==null?null:t+"";for(o in r){if((n=r[o]).name!==t){a=!1;continue}i=n.state>Tl&&n.state<Pl,n.state=Bo,n.timer.stop(),n.on.call(i?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[o]}a&&delete e.__transition}}function VC(e){return this.each(function(){qC(this,e)})}function KC(e,t){var r,n;return function(){var i=Xr(this,e),a=i.tween;if(a!==r){n=r=a;for(var o=0,u=n.length;o<u;++o)if(n[o].name===t){n=n.slice(),n.splice(o,1);break}}i.tween=n}}function HC(e,t,r){var n,i;if(typeof r!="function")throw new Error;return function(){var a=Xr(this,e),o=a.tween;if(o!==n){i=(n=o).slice();for(var u={name:t,value:r},c=0,d=i.length;c<d;++c)if(i[c].name===t){i[c]=u;break}c===d&&i.push(u)}a.tween=i}}function WC(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=Br(this.node(),r).tween,i=0,a=n.length,o;i<a;++i)if((o=n[i]).name===e)return o.value;return null}return this.each((t==null?KC:HC)(r,e,t))}function sf(e,t,r){var n=e._id;return e.each(function(){var i=Xr(this,n);(i.value||(i.value={}))[t]=r.apply(this,arguments)}),function(i){return Br(i,n).value[t]}}function i0(e,t){var r;return(typeof t=="number"?Nr:t instanceof si?ss:(r=si(t))?(t=r,ss):Xm)(e,t)}function YC(e){return function(){this.removeAttribute(e)}}function XC(e){return function(){this.removeAttributeNS(e.space,e.local)}}function GC(e,t,r){var n,i=r+"",a;return function(){var o=this.getAttribute(e);return o===i?null:o===n?a:a=t(n=o,r)}}function ZC(e,t,r){var n,i=r+"",a;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===n?a:a=t(n=o,r)}}function JC(e,t,r){var n,i,a;return function(){var o,u=r(this),c;return u==null?void this.removeAttribute(e):(o=this.getAttribute(e),c=u+"",o===c?null:o===n&&c===i?a:(i=c,a=t(n=o,u)))}}function QC(e,t,r){var n,i,a;return function(){var o,u=r(this),c;return u==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),c=u+"",o===c?null:o===n&&c===i?a:(i=c,a=t(n=o,u)))}}function jC(e,t){var r=tu(e),n=r==="transform"?RC:i0;return this.attrTween(e,typeof t=="function"?(r.local?QC:JC)(r,n,sf(this,"attr."+e,t)):t==null?(r.local?XC:YC)(r):(r.local?ZC:GC)(r,n,t))}function eO(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function tO(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function rO(e,t){var r,n;function i(){var a=t.apply(this,arguments);return a!==n&&(r=(n=a)&&tO(e,a)),r}return i._value=t,i}function nO(e,t){var r,n;function i(){var a=t.apply(this,arguments);return a!==n&&(r=(n=a)&&eO(e,a)),r}return i._value=t,i}function iO(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=tu(e);return this.tween(r,(n.local?rO:nO)(n,t))}function aO(e,t){return function(){of(this,e).delay=+t.apply(this,arguments)}}function oO(e,t){return t=+t,function(){of(this,e).delay=t}}function sO(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?aO:oO)(t,e)):Br(this.node(),t).delay}function uO(e,t){return function(){Xr(this,e).duration=+t.apply(this,arguments)}}function lO(e,t){return t=+t,function(){Xr(this,e).duration=t}}function cO(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?uO:lO)(t,e)):Br(this.node(),t).duration}function fO(e,t){if(typeof t!="function")throw new Error;return function(){Xr(this,e).ease=t}}function dO(e){var t=this._id;return arguments.length?this.each(fO(t,e)):Br(this.node(),t).ease}function hO(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;Xr(this,e).ease=r}}function pO(e){if(typeof e!="function")throw new Error;return this.each(hO(this._id,e))}function vO(e){typeof e!="function"&&(e=Rm(e));for(var t=this._groups,r=t.length,n=new Array(r),i=0;i<r;++i)for(var a=t[i],o=a.length,u=n[i]=[],c,d=0;d<o;++d)(c=a[d])&&e.call(c,c.__data__,d,a)&&u.push(c);return new sn(n,this._parents,this._name,this._id)}function mO(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,i=r.length,a=Math.min(n,i),o=new Array(n),u=0;u<a;++u)for(var c=t[u],d=r[u],l=c.length,s=o[u]=new Array(l),f,p=0;p<l;++p)(f=c[p]||d[p])&&(s[p]=f);for(;u<n;++u)o[u]=t[u];return new sn(o,this._parents,this._name,this._id)}function gO(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function yO(e,t,r){var n,i,a=gO(t)?of:Xr;return function(){var o=a(this,e),u=o.on;u!==n&&(i=(n=u).copy()).on(t,r),o.on=i}}function bO(e,t){var r=this._id;return arguments.length<2?Br(this.node(),r).on.on(e):this.each(yO(r,e,t))}function wO(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function _O(){return this.on("end.remove",wO(this._id))}function xO(e){var t=this._name,r=this._id;typeof e!="function"&&(e=jc(e));for(var n=this._groups,i=n.length,a=new Array(i),o=0;o<i;++o)for(var u=n[o],c=u.length,d=a[o]=new Array(c),l,s,f=0;f<c;++f)(l=u[f])&&(s=e.call(l,l.__data__,f,u))&&("__data__"in l&&(s.__data__=l.__data__),d[f]=s,su(d[f],t,r,f,d,Br(l,r)));return new sn(a,this._parents,t,r)}function MO(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Im(e));for(var n=this._groups,i=n.length,a=[],o=[],u=0;u<i;++u)for(var c=n[u],d=c.length,l,s=0;s<d;++s)if(l=c[s]){for(var f=e.call(l,l.__data__,s,c),p,v=Br(l,r),h=0,m=f.length;h<m;++h)(p=f[h])&&su(p,t,r,h,f,v);a.push(f),o.push(l)}return new sn(a,o,t,r)}var SO=Xa.prototype.constructor;function EO(){return new SO(this._groups,this._parents)}function AO(e,t){var r,n,i;return function(){var a=ki(this,e),o=(this.style.removeProperty(e),ki(this,e));return a===o?null:a===r&&o===n?i:i=t(r=a,n=o)}}function a0(e){return function(){this.style.removeProperty(e)}}function NO(e,t,r){var n,i=r+"",a;return function(){var o=ki(this,e);return o===i?null:o===n?a:a=t(n=o,r)}}function CO(e,t,r){var n,i,a;return function(){var o=ki(this,e),u=r(this),c=u+"";return u==null&&(c=u=(this.style.removeProperty(e),ki(this,e))),o===c?null:o===n&&c===i?a:(i=c,a=t(n=o,u))}}function OO(e,t){var r,n,i,a="style."+t,o="end."+a,u;return function(){var c=Xr(this,e),d=c.on,l=c.value[a]==null?u||(u=a0(t)):void 0;(d!==r||i!==l)&&(n=(r=d).copy()).on(o,i=l),c.on=n}}function DO(e,t,r){var n=(e+="")=="transform"?IC:i0;return t==null?this.styleTween(e,AO(e,n)).on("end.style."+e,a0(e)):typeof t=="function"?this.styleTween(e,CO(e,n,sf(this,"style."+e,t))).each(OO(this._id,e)):this.styleTween(e,NO(e,n,t),r).on("end.style."+e,null)}function TO(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function PO(e,t,r){var n,i;function a(){var o=t.apply(this,arguments);return o!==i&&(n=(i=o)&&TO(e,o,r)),n}return a._value=t,a}function IO(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,PO(e,t,r==null?"":r))}function RO(e){return function(){this.textContent=e}}function $O(e){return function(){var t=e(this);this.textContent=t==null?"":t}}function BO(e){return this.tween("text",typeof e=="function"?$O(sf(this,"text",e)):RO(e==null?"":e+""))}function FO(e){return function(t){this.textContent=e.call(this,t)}}function zO(e){var t,r;function n(){var i=e.apply(this,arguments);return i!==r&&(t=(r=i)&&FO(i)),t}return n._value=e,n}function kO(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,zO(e))}function LO(){for(var e=this._name,t=this._id,r=o0(),n=this._groups,i=n.length,a=0;a<i;++a)for(var o=n[a],u=o.length,c,d=0;d<u;++d)if(c=o[d]){var l=Br(c,t);su(c,e,r,d,o,{time:l.time+l.delay+l.duration,delay:0,duration:l.duration,ease:l.ease})}return new sn(n,this._parents,e,r)}function UO(){var e,t,r=this,n=r._id,i=r.size();return new Promise(function(a,o){var u={value:o},c={value:function(){--i===0&&a()}};r.each(function(){var d=Xr(this,n),l=d.on;l!==e&&(t=(e=l).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(c)),d.on=t}),i===0&&a()})}var qO=0;function sn(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function o0(){return++qO}var Zr=Xa.prototype;sn.prototype={constructor:sn,select:xO,selectAll:MO,selectChild:Zr.selectChild,selectChildren:Zr.selectChildren,filter:vO,merge:mO,selection:EO,transition:LO,call:Zr.call,nodes:Zr.nodes,node:Zr.node,size:Zr.size,empty:Zr.empty,each:Zr.each,on:bO,attr:jC,attrTween:iO,style:DO,styleTween:IO,text:BO,textTween:kO,remove:_O,tween:WC,delay:sO,duration:cO,ease:dO,easeVarying:pO,end:UO,[Symbol.iterator]:Zr[Symbol.iterator]};function VO(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var KO={time:null,delay:0,duration:250,ease:VO};function HO(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function WO(e){var t,r;e instanceof sn?(t=e._id,e=e._name):(t=o0(),(r=KO).time=af(),e=e==null?null:e+"");for(var n=this._groups,i=n.length,a=0;a<i;++a)for(var o=n[a],u=o.length,c,d=0;d<u;++d)(c=o[d])&&su(c,e,t,d,o,r||HO(c,t));return new sn(n,this._parents,e,t)}Xa.prototype.interrupt=VC;Xa.prototype.transition=WO;function YO(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function fs(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function qi(e){return e=fs(Math.abs(e)),e?e[1]:NaN}function XO(e,t){return function(r,n){for(var i=r.length,a=[],o=0,u=e[0],c=0;i>0&&u>0&&(c+u+1>n&&(u=Math.max(1,n-c)),a.push(r.substring(i-=u,i+u)),!((c+=u+1)>n));)u=e[o=(o+1)%e.length];return a.reverse().join(t)}}function GO(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var ZO=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ds(e){if(!(t=ZO.exec(e)))throw new Error("invalid format: "+e);var t;return new uf({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ds.prototype=uf.prototype;function uf(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}uf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function JO(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var s0;function QO(e,t){var r=fs(e,t);if(!r)return e+"";var n=r[0],i=r[1],a=i-(s0=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+fs(e,Math.max(0,t+a-1))[0]}function Dh(e,t){var r=fs(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}var Th={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:YO,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Dh(e*100,t),r:Dh,s:QO,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Ph(e){return e}var Ih=Array.prototype.map,Rh=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function jO(e){var t=e.grouping===void 0||e.thousands===void 0?Ph:XO(Ih.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Ph:GO(Ih.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"\u2212":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function d(s){s=ds(s);var f=s.fill,p=s.align,v=s.sign,h=s.symbol,m=s.zero,g=s.width,b=s.comma,y=s.precision,w=s.trim,_=s.type;_==="n"?(b=!0,_="g"):Th[_]||(y===void 0&&(y=12),w=!0,_="g"),(m||f==="0"&&p==="=")&&(m=!0,f="0",p="=");var x=h==="$"?r:h==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",N=h==="$"?n:/[%p]/.test(_)?o:"",M=Th[_],A=/[defgprs%]/.test(_);y=y===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function E(D){var C=x,$=N,L,B,F;if(_==="c")$=M(D)+$,D="";else{D=+D;var X=D<0||1/D<0;if(D=isNaN(D)?c:M(Math.abs(D),y),w&&(D=JO(D)),X&&+D==0&&v!=="+"&&(X=!1),C=(X?v==="("?v:u:v==="-"||v==="("?"":v)+C,$=(_==="s"?Rh[8+s0/3]:"")+$+(X&&v==="("?")":""),A){for(L=-1,B=D.length;++L<B;)if(F=D.charCodeAt(L),48>F||F>57){$=(F===46?i+D.slice(L+1):D.slice(L))+$,D=D.slice(0,L);break}}}b&&!m&&(D=t(D,1/0));var W=C.length+D.length+$.length,H=W<g?new Array(g-W+1).join(f):"";switch(b&&m&&(D=t(H+D,H.length?g-$.length:1/0),H=""),p){case"<":D=C+D+$+H;break;case"=":D=C+H+D+$;break;case"^":D=H.slice(0,W=H.length>>1)+C+D+$+H.slice(W);break;default:D=H+C+D+$;break}return a(D)}return E.toString=function(){return s+""},E}function l(s,f){var p=d((s=ds(s),s.type="f",s)),v=Math.max(-8,Math.min(8,Math.floor(qi(f)/3)))*3,h=Math.pow(10,-v),m=Rh[8+v/3];return function(g){return p(h*g)+m}}return{format:d,formatPrefix:l}}var wo,u0,l0;eD({thousands:",",grouping:[3],currency:["$",""]});function eD(e){return wo=jO(e),u0=wo.format,l0=wo.formatPrefix,wo}function tD(e){return Math.max(0,-qi(Math.abs(e)))}function rD(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(qi(t)/3)))*3-qi(Math.abs(e)))}function nD(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,qi(t)-qi(e))+1}function c0(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function iD(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}function aD(e){return function(){return e}}function oD(e){return+e}var $h=[0,1];function gr(e){return e}function Il(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:aD(isNaN(t)?NaN:.5)}function sD(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function uD(e,t,r){var n=e[0],i=e[1],a=t[0],o=t[1];return i<n?(n=Il(i,n),a=r(o,a)):(n=Il(n,i),a=r(a,o)),function(u){return a(n(u))}}function lD(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),a=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=Il(e[o],e[o+1]),a[o]=r(t[o],t[o+1]);return function(u){var c=pN(e,u,1,n)-1;return a[c](i[c](u))}}function f0(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function d0(){var e=$h,t=$h,r=au,n,i,a,o=gr,u,c,d;function l(){var f=Math.min(e.length,t.length);return o!==gr&&(o=sD(e[0],e[f-1])),u=f>2?lD:uD,c=d=null,s}function s(f){return f==null||isNaN(f=+f)?a:(c||(c=u(e.map(n),t,r)))(n(o(f)))}return s.invert=function(f){return o(i((d||(d=u(t,e.map(n),Nr)))(f)))},s.domain=function(f){return arguments.length?(e=Array.from(f,oD),l()):e.slice()},s.range=function(f){return arguments.length?(t=Array.from(f),l()):t.slice()},s.rangeRound=function(f){return t=Array.from(f),r=Gm,l()},s.clamp=function(f){return arguments.length?(o=f?!0:gr,l()):o!==gr},s.interpolate=function(f){return arguments.length?(r=f,l()):r},s.unknown=function(f){return arguments.length?(a=f,s):a},function(f,p){return n=f,i=p,l()}}function cD(){return d0()(gr,gr)}function fD(e,t,r,n){var i=mN(e,t,r),a;switch(n=ds(n==null?",f":n),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(a=rD(i,o))&&(n.precision=a),l0(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=nD(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=tD(i))&&(n.precision=a-(n.type==="%")*2);break}}return u0(n)}function lf(e){var t=e.domain;return e.ticks=function(r){var n=t();return vN(n[0],n[n.length-1],r==null?10:r)},e.tickFormat=function(r,n){var i=t();return fD(i[0],i[i.length-1],r==null?10:r,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,a=n.length-1,o=n[i],u=n[a],c,d,l=10;for(u<o&&(d=o,o=u,u=d,d=i,i=a,a=d);l-- >0;){if(d=Om(o,u,r),d===c)return n[i]=o,n[a]=u,t(n);if(d>0)o=Math.floor(o/d)*d,u=Math.ceil(u/d)*d;else if(d<0)o=Math.ceil(o*d)/d,u=Math.floor(u*d)/d;else break;c=d}return e},e}function Rl(){var e=cD();return e.copy=function(){return f0(e,Rl())},c0.apply(e,arguments),lf(e)}function Bh(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function dD(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function hD(e){return e<0?-e*e:e*e}function pD(e){var t=e(gr,gr),r=1;function n(){return r===1?e(gr,gr):r===.5?e(dD,hD):e(Bh(r),Bh(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},lf(t)}function h0(){var e=pD(d0());return e.copy=function(){return f0(e,h0()).exponent(e.exponent())},c0.apply(e,arguments),e}function vD(){var e=0,t=1,r,n,i,a,o=gr,u=!1,c;function d(s){return s==null||isNaN(s=+s)?c:o(i===0?.5:(s=(a(s)-r)*i,u?Math.max(0,Math.min(1,s)):s))}d.domain=function(s){return arguments.length?([e,t]=s,r=a(e=+e),n=a(t=+t),i=r===n?0:1/(n-r),d):[e,t]},d.clamp=function(s){return arguments.length?(u=!!s,d):u},d.interpolator=function(s){return arguments.length?(o=s,d):o};function l(s){return function(f){var p,v;return arguments.length?([p,v]=f,o=s(p,v),d):[o(0),o(1)]}}return d.range=l(au),d.rangeRound=l(Gm),d.unknown=function(s){return arguments.length?(c=s,d):c},function(s){return a=s,r=s(e),n=s(t),i=r===n?0:1/(n-r),d}}function mD(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function $l(){var e=lf(vD()(gr));return e.copy=function(){return mD(e,$l())},iD.apply(e,arguments)}jm(Dn(-100,.75,.35),Dn(80,1.5,.8));var Fh=jm(Dn(260,.75,.35),Dn(80,1.5,.8));Dn();function Si(e,t,r){this.k=e,this.x=t,this.y=r}Si.prototype={constructor:Si,scale:function(e){return e===1?this:new Si(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Si(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new Si(1,0,0);Si.prototype;const gD={name:"EventLayer",props:["svg"],emits:["viewbox"],data:function(){return{base_zoom:250,zoom_scale:h0([.01,1],[1/100,10]),viewbox_params:{x_bias:-240,y_bias:-240,zoom_factor:.2},isPointerDown:null,has_zoomed:null,point:null,x_ratio:null,y_ratio:null,drag_x:0,drag_y:0}},mounted(){let e=this.$refs.eventlayer;e.addEventListener("wheel",this.zoom_wheel,{passive:!1}),e.addEventListener("mousemove",this.drag),e.addEventListener("mousedown",this.start_move),e.addEventListener("mouseup",this.stop_move),e.addEventListener("mouseleave",this.stop_move),this.x_ratio=parseInt(this.base_zoom)*this.zoom_scale(this.viewbox_params.zoom_factor)/e.getBoundingClientRect().width,this.y_ratio=parseInt(this.base_zoom)*this.zoom_scale(this.viewbox_params.zoom_factor)/e.getBoundingClientRect().height,window.addEventListener("resize",function(){this.x_ratio=parseInt(this.base_zoom)*this.zoom_scale(this.viewbox_params.zoom_factor)/e.getBoundingClientRect().width,this.y_ratio=parseInt(this.base_zoom)*this.zoom_scale(this.viewbox_params.zoom_factor)/e.getBoundingClientRect().height}.bind(this)),this.$emit("viewbox",{x:this.viewbox_params.x_bias,y:this.viewbox_params.y_bias,width:parseInt(this.base_zoom)*this.zoom_scale(this.viewbox_params.zoom_factor),height:parseInt(this.base_zoom)*this.zoom_scale(this.viewbox_params.zoom_factor)})},watch:{viewbox_params:{handler:function(){this.$emit("viewbox",{x:this.viewbox_params.x_bias,y:this.viewbox_params.y_bias,width:parseInt(this.base_zoom)*this.zoom_scale(this.viewbox_params.zoom_factor),height:parseInt(this.base_zoom)*this.zoom_scale(this.viewbox_params.zoom_factor)})},deep:!0}},methods:{zoom_wheel(e){e.preventDefault(),this.viewbox_params.zoom_factor+=e.deltaY>0?.01:-.01},getPointFromEvent(e){let t=this.svg.createSVGPoint();t.x=e.clientX,t.y=e.clientY;var r=this.svg.getScreenCTM().inverse();return t.matrixTransform(r)},start_move(e){this.isPointerDown=!0,this.pointerOrigin=this.getPointFromEvent(e)},stop_move(e){this.isPointerDown=!1},drag(e){if(!!this.isPointerDown){e.preventDefault();var t=this.getPointFromEvent(e);this.drag_x+=t.x-this.pointerOrigin.x,this.drag_y+=t.y-this.pointerOrigin.y,this.viewbox_params.x_bias=this.viewbox_params.x_bias-(t.x-this.pointerOrigin.x)*this.x_ratio,this.viewbox_params.y_bias=this.viewbox_params.y_bias-(t.y-this.pointerOrigin.y)*this.y_ratio}}}},yD={ref:"eventlayer",class:"h-full w-full"};function bD(e,t,r,n,i,a){return Ae(),Pe("div",yD,null,512)}var wD=rr(gD,[["render",bD]]),zh;const _D=typeof window!="undefined";_D&&((zh=window==null?void 0:window.navigator)==null?void 0:zh.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function xD(e){return Ig()?(Rg(e),!0):!1}function MD(e,t){const r=Ye(t==null?void 0:t.initialValue),n=e.subscribe({next:i=>r.value=i,error:t==null?void 0:t.onError});return xD(()=>{n.unsubscribe()}),r}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.
Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.
THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Xe=function(){return Xe=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},Xe.apply(this,arguments)};function Bl(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))}var ft=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof window!="undefined"?window:global,Nt=Object.keys,Ht=Array.isArray;typeof Promise!="undefined"&&!ft.Promise&&(ft.Promise=Promise);function tr(e,t){return typeof t!="object"||Nt(t).forEach(function(r){e[r]=t[r]}),e}var Ra=Object.getPrototypeOf,SD={}.hasOwnProperty;function hr(e,t){return SD.call(e,t)}function Vi(e,t){typeof t=="function"&&(t=t(Ra(e))),(typeof Reflect=="undefined"?Nt:Reflect.ownKeys)(t).forEach(function(r){un(e,r,t[r])})}var p0=Object.defineProperty;function un(e,t,r,n){p0(e,t,tr(r&&hr(r,"get")&&typeof r.get=="function"?{get:r.get,set:r.set,configurable:!0}:{value:r,configurable:!0,writable:!0},n))}function ea(e){return{from:function(t){return e.prototype=Object.create(t.prototype),un(e.prototype,"constructor",e),{extend:Vi.bind(null,e.prototype)}}}}var ED=Object.getOwnPropertyDescriptor;function cf(e,t){var r=ED(e,t),n;return r||(n=Ra(e))&&cf(n,t)}var AD=[].slice;function uu(e,t,r){return AD.call(e,t,r)}function v0(e,t){return t(e)}function pa(e){if(!e)throw new Error("Assertion Failed")}function m0(e){ft.setImmediate?setImmediate(e):setTimeout(e,0)}function g0(e,t){return e.reduce(function(r,n,i){var a=t(n,i);return a&&(r[a[0]]=a[1]),r},{})}function ND(e,t,r){try{e.apply(null,r)}catch(n){t&&t(n)}}function nn(e,t){if(hr(e,t))return e[t];if(!t)return e;if(typeof t!="string"){for(var r=[],n=0,i=t.length;n<i;++n){var a=nn(e,t[n]);r.push(a)}return r}var o=t.indexOf(".");if(o!==-1){var u=e[t.substr(0,o)];return u===void 0?void 0:nn(u,t.substr(o+1))}}function $r(e,t,r){if(!(!e||t===void 0)&&!("isFrozen"in Object&&Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){pa(typeof r!="string"&&"length"in r);for(var n=0,i=t.length;n<i;++n)$r(e,t[n],r[n])}else{var a=t.indexOf(".");if(a!==-1){var o=t.substr(0,a),u=t.substr(a+1);if(u==="")r===void 0?Ht(e)&&!isNaN(parseInt(o))?e.splice(o,1):delete e[o]:e[o]=r;else{var c=e[o];(!c||!hr(e,o))&&(c=e[o]={}),$r(c,u,r)}}else r===void 0?Ht(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=r}}function CD(e,t){typeof t=="string"?$r(e,t,void 0):"length"in t&&[].map.call(t,function(r){$r(e,r,void 0)})}function y0(e){var t={};for(var r in e)hr(e,r)&&(t[r]=e[r]);return t}var OD=[].concat;function b0(e){return OD.apply([],e)}var w0="Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(b0([8,16,32,64].map(function(e){return["Int","Uint","Float"].map(function(t){return t+e+"Array"})}))).filter(function(e){return ft[e]}),DD=w0.map(function(e){return ft[e]});g0(w0,function(e){return[e,!0]});var yn=null;function Ga(e){yn=typeof WeakMap!="undefined"&&new WeakMap;var t=Fl(e);return yn=null,t}function Fl(e){if(!e||typeof e!="object")return e;var t=yn&&yn.get(e);if(t)return t;if(Ht(e)){t=[],yn&&yn.set(e,t);for(var r=0,n=e.length;r<n;++r)t.push(Fl(e[r]))}else if(DD.indexOf(e.constructor)>=0)t=e;else{var i=Ra(e);t=i===Object.prototype?{}:Object.create(i),yn&&yn.set(e,t);for(var a in e)hr(e,a)&&(t[a]=Fl(e[a]))}return t}var TD={}.toString;function zl(e){return TD.call(e).slice(8,-1)}var kl=typeof Symbol!="undefined"?Symbol.iterator:"@@iterator",PD=typeof kl=="symbol"?function(e){var t;return e!=null&&(t=e[kl])&&t.apply(e)}:function(){return null},xi={};function en(e){var t,r,n,i;if(arguments.length===1){if(Ht(e))return e.slice();if(this===xi&&typeof e=="string")return[e];if(i=PD(e)){for(r=[];n=i.next(),!n.done;)r.push(n.value);return r}if(e==null)return[e];if(t=e.length,typeof t=="number"){for(r=new Array(t);t--;)r[t]=e[t];return r}return[e]}for(t=arguments.length,r=new Array(t);t--;)r[t]=arguments[t];return r}var ff=typeof Symbol!="undefined"?function(e){return e[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Gr=typeof location!="undefined"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function _0(e,t){Gr=e,x0=t}var x0=function(){return!0},ID=!new Error("").stack;function pi(){if(ID)try{throw pi.arguments,new Error}catch(e){return e}return new Error}function Ll(e,t){var r=e.stack;return r?(t=t||0,r.indexOf(e.name)===0&&(t+=(e.name+e.message).split(`
`).length),r.split(`
`).slice(t).filter(x0).map(function(n){return`
`+n}).join("")):""}var RD=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"],M0=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],df=RD.concat(M0),$D={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ta(e,t){this._e=pi(),this.name=e,this.message=t}ea(ta).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Ll(this._e,2))}},toString:function(){return this.name+": "+this.message}});function S0(e,t){return e+". Errors: "+Object.keys(t).map(function(r){return t[r].toString()}).filter(function(r,n,i){return i.indexOf(r)===n}).join(`
`)}function hs(e,t,r,n){this._e=pi(),this.failures=t,this.failedKeys=n,this.successCount=r,this.message=S0(e,t)}ea(hs).from(ta);function ya(e,t){this._e=pi(),this.name="BulkError",this.failures=Object.keys(t).map(function(r){return t[r]}),this.failuresByPos=t,this.message=S0(e,t)}ea(ya).from(ta);var hf=df.reduce(function(e,t){return e[t]=t+"Error",e},{}),BD=ta,Ie=df.reduce(function(e,t){var r=t+"Error";function n(i,a){this._e=pi(),this.name=r,i?typeof i=="string"?(this.message=""+i+(a?`
 `+a:""),this.inner=a||null):typeof i=="object"&&(this.message=i.name+" "+i.message,this.inner=i):(this.message=$D[t]||r,this.inner=null)}return ea(n).from(BD),e[t]=n,e},{});Ie.Syntax=SyntaxError;Ie.Type=TypeError;Ie.Range=RangeError;var kh=M0.reduce(function(e,t){return e[t+"Error"]=Ie[t],e},{});function FD(e,t){if(!e||e instanceof ta||e instanceof TypeError||e instanceof SyntaxError||!e.name||!kh[e.name])return e;var r=new kh[e.name](t||e.message,e);return"stack"in e&&un(r,"stack",{get:function(){return this.inner.stack}}),r}var lu=df.reduce(function(e,t){return["Syntax","Type","Range"].indexOf(t)===-1&&(e[t+"Error"]=Ie[t]),e},{});lu.ModifyError=hs;lu.DexieError=ta;lu.BulkError=ya;function st(){}function Za(e){return e}function zD(e,t){return e==null||e===Za?t:function(r){return t(e(r))}}function li(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function kD(e,t){return e===st?t:function(){var r=e.apply(this,arguments);r!==void 0&&(arguments[0]=r);var n=this.onsuccess,i=this.onerror;this.onsuccess=null,this.onerror=null;var a=t.apply(this,arguments);return n&&(this.onsuccess=this.onsuccess?li(n,this.onsuccess):n),i&&(this.onerror=this.onerror?li(i,this.onerror):i),a!==void 0?a:r}}function LD(e,t){return e===st?t:function(){e.apply(this,arguments);var r=this.onsuccess,n=this.onerror;this.onsuccess=this.onerror=null,t.apply(this,arguments),r&&(this.onsuccess=this.onsuccess?li(r,this.onsuccess):r),n&&(this.onerror=this.onerror?li(n,this.onerror):n)}}function UD(e,t){return e===st?t:function(r){var n=e.apply(this,arguments);tr(r,n);var i=this.onsuccess,a=this.onerror;this.onsuccess=null,this.onerror=null;var o=t.apply(this,arguments);return i&&(this.onsuccess=this.onsuccess?li(i,this.onsuccess):i),a&&(this.onerror=this.onerror?li(a,this.onerror):a),n===void 0?o===void 0?void 0:o:tr(n,o)}}function qD(e,t){return e===st?t:function(){return t.apply(this,arguments)===!1?!1:e.apply(this,arguments)}}function pf(e,t){return e===st?t:function(){var r=e.apply(this,arguments);if(r&&typeof r.then=="function"){for(var n=this,i=arguments.length,a=new Array(i);i--;)a[i]=arguments[i];return r.then(function(){return t.apply(n,a)})}return t.apply(this,arguments)}}var $a={},VD=100,KD=20,E0=100,vf=typeof Promise=="undefined"?[]:function(){var e=Promise.resolve();if(typeof crypto=="undefined"||!crypto.subtle)return[e,Ra(e),e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,Ra(t),e]}(),Ul=vf[0],ps=vf[1],ql=vf[2],A0=ps&&ps.then,Fo=Ul&&Ul.constructor,mf=!!ql,Vl=!1,HD=ql?function(){ql.then(_o)}:ft.setImmediate?setImmediate.bind(null,_o):ft.MutationObserver?function(){var e=document.createElement("div");new MutationObserver(function(){_o(),e=null}).observe(e,{attributes:!0}),e.setAttribute("i","1")}:function(){setTimeout(_o,0)},Ba=function(e,t){va.push([e,t]),vs&&(HD(),vs=!1)},Kl=!0,vs=!0,ni=[],zo=[],Hl=null,Wl=Za,Ii={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:qh,pgp:!1,env:{},finalize:function(){this.unhandleds.forEach(function(e){try{qh(e[0],e[1])}catch{}})}},Oe=Ii,va=[],ii=0,ko=[];function Se(e){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this.onuncatched=st,this._lib=!1;var t=this._PSD=Oe;if(Gr&&(this._stackHolder=pi(),this._prev=null,this._numPrev=0),typeof e!="function"){if(e!==$a)throw new TypeError("Not a function");this._state=arguments[1],this._value=arguments[2],this._state===!1&&Xl(this,this._value);return}this._state=null,this._value=null,++t.ref,C0(this,e)}var Yl={get:function(){var e=Oe,t=ms;function r(n,i){var a=this,o=!e.global&&(e!==Oe||t!==ms),u=o&&!ln(),c=new Se(function(d,l){gf(a,new N0(ys(n,e,o,u),ys(i,e,o,u),d,l,e))});return Gr&&T0(c,this),c}return r.prototype=$a,r},set:function(e){un(this,"then",e&&e.prototype===$a?Yl:{get:function(){return e},set:Yl.set})}};Vi(Se.prototype,{then:Yl,_then:function(e,t){gf(this,new N0(null,null,e,t,Oe))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],r=arguments[1];return typeof t=="function"?this.then(null,function(n){return n instanceof t?r(n):Lo(n)}):this.then(null,function(n){return n&&n.name===t?r(n):Lo(n)})},finally:function(e){return this.then(function(t){return e(),t},function(t){return e(),Lo(t)})},stack:{get:function(){if(this._stack)return this._stack;try{Vl=!0;var e=D0(this,[],KD),t=e.join(`
From previous: `);return this._state!==null&&(this._stack=t),t}finally{Vl=!1}}},timeout:function(e,t){var r=this;return e<1/0?new Se(function(n,i){var a=setTimeout(function(){return i(new Ie.Timeout(t))},e);r.then(n,i).finally(clearTimeout.bind(null,a))}):this}});typeof Symbol!="undefined"&&Symbol.toStringTag&&un(Se.prototype,Symbol.toStringTag,"Dexie.Promise");Ii.env=P0();function N0(e,t,r,n,i){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof t=="function"?t:null,this.resolve=r,this.reject=n,this.psd=i}Vi(Se,{all:function(){var e=en.apply(null,arguments).map(gs);return new Se(function(t,r){e.length===0&&t([]);var n=e.length;e.forEach(function(i,a){return Se.resolve(i).then(function(o){e[a]=o,--n||t(e)},r)})})},resolve:function(e){if(e instanceof Se)return e;if(e&&typeof e.then=="function")return new Se(function(r,n){e.then(r,n)});var t=new Se($a,!0,e);return T0(t,Hl),t},reject:Lo,race:function(){var e=en.apply(null,arguments).map(gs);return new Se(function(t,r){e.map(function(n){return Se.resolve(n).then(t,r)})})},PSD:{get:function(){return Oe},set:function(e){return Oe=e}},totalEchoes:{get:function(){return ms}},newPSD:Tn,usePSD:na,scheduler:{get:function(){return Ba},set:function(e){Ba=e}},rejectionMapper:{get:function(){return Wl},set:function(e){Wl=e}},follow:function(e,t){return new Se(function(r,n){return Tn(function(i,a){var o=Oe;o.unhandleds=[],o.onunhandled=a,o.finalize=li(function(){var u=this;YD(function(){u.unhandleds.length===0?i():a(u.unhandleds[0])})},o.finalize),e()},t,r,n)})}});Fo&&(Fo.allSettled&&un(Se,"allSettled",function(){var e=en.apply(null,arguments).map(gs);return new Se(function(t){e.length===0&&t([]);var r=e.length,n=new Array(r);e.forEach(function(i,a){return Se.resolve(i).then(function(o){return n[a]={status:"fulfilled",value:o}},function(o){return n[a]={status:"rejected",reason:o}}).then(function(){return--r||t(n)})})})}),Fo.any&&typeof AggregateError!="undefined"&&un(Se,"any",function(){var e=en.apply(null,arguments).map(gs);return new Se(function(t,r){e.length===0&&r(new AggregateError([]));var n=e.length,i=new Array(n);e.forEach(function(a,o){return Se.resolve(a).then(function(u){return t(u)},function(u){i[o]=u,--n||r(new AggregateError(i))})})})}));function C0(e,t){try{t(function(r){if(e._state===null){if(r===e)throw new TypeError("A promise cannot be resolved with itself.");var n=e._lib&&Ja();r&&typeof r.then=="function"?C0(e,function(i,a){r instanceof Se?r._then(i,a):r.then(i,a)}):(e._state=!0,e._value=r,O0(e)),n&&Qa()}},Xl.bind(null,e))}catch(r){Xl(e,r)}}function Xl(e,t){if(zo.push(t),e._state===null){var r=e._lib&&Ja();t=Wl(t),e._state=!1,e._value=t,Gr&&t!==null&&typeof t=="object"&&!t._promise&&ND(function(){var n=cf(t,"stack");t._promise=e,un(t,"stack",{get:function(){return Vl?n&&(n.get?n.get.apply(t):n.value):e.stack}})}),XD(e),O0(e),r&&Qa()}}function O0(e){var t=e._listeners;e._listeners=[];for(var r=0,n=t.length;r<n;++r)gf(e,t[r]);var i=e._PSD;--i.ref||i.finalize(),ii===0&&(++ii,Ba(function(){--ii===0&&yf()},[]))}function gf(e,t){if(e._state===null){e._listeners.push(t);return}var r=e._state?t.onFulfilled:t.onRejected;if(r===null)return(e._state?t.resolve:t.reject)(e._value);++t.psd.ref,++ii,Ba(WD,[r,e,t])}function WD(e,t,r){try{Hl=t;var n,i=t._value;t._state?n=e(i):(zo.length&&(zo=[]),n=e(i),zo.indexOf(i)===-1&&GD(t)),r.resolve(n)}catch(a){r.reject(a)}finally{Hl=null,--ii===0&&yf(),--r.psd.ref||r.psd.finalize()}}function D0(e,t,r){if(t.length===r)return t;var n="";if(e._state===!1){var i=e._value,a,o;i!=null?(a=i.name||"Error",o=i.message||i,n=Ll(i,0)):(a=i,o=""),t.push(a+(o?": "+o:"")+n)}return Gr&&(n=Ll(e._stackHolder,2),n&&t.indexOf(n)===-1&&t.push(n),e._prev&&D0(e._prev,t,r)),t}function T0(e,t){var r=t?t._numPrev+1:0;r<VD&&(e._prev=t,e._numPrev=r)}function _o(){Ja()&&Qa()}function Ja(){var e=Kl;return Kl=!1,vs=!1,e}function Qa(){var e,t,r;do for(;va.length>0;)for(e=va,va=[],r=e.length,t=0;t<r;++t){var n=e[t];n[0].apply(null,n[1])}while(va.length>0);Kl=!0,vs=!0}function yf(){var e=ni;ni=[],e.forEach(function(n){n._PSD.onunhandled.call(null,n._value,n)});for(var t=ko.slice(0),r=t.length;r;)t[--r]()}function YD(e){function t(){e(),ko.splice(ko.indexOf(t),1)}ko.push(t),++ii,Ba(function(){--ii===0&&yf()},[])}function XD(e){ni.some(function(t){return t._value===e._value})||ni.push(e)}function GD(e){for(var t=ni.length;t;)if(ni[--t]._value===e._value){ni.splice(t,1);return}}function Lo(e){return new Se($a,!1,e)}function mt(e,t){var r=Oe;return function(){var n=Ja(),i=Oe;try{return Pn(r,!0),e.apply(this,arguments)}catch(a){t&&t(a)}finally{Pn(i,!1),n&&Qa()}}}var qt={awaits:0,echoes:0,id:0},ZD=0,Uo=[],Uu=0,ms=0,JD=0;function Tn(e,t,r,n){var i=Oe,a=Object.create(i);a.parent=i,a.ref=0,a.global=!1,a.id=++JD;var o=Ii.env;a.env=mf?{Promise:Se,PromiseProp:{value:Se,configurable:!0,writable:!0},all:Se.all,race:Se.race,allSettled:Se.allSettled,any:Se.any,resolve:Se.resolve,reject:Se.reject,nthen:Lh(o.nthen,a),gthen:Lh(o.gthen,a)}:{},t&&tr(a,t),++i.ref,a.finalize=function(){--this.parent.ref||this.parent.finalize()};var u=na(a,e,r,n);return a.ref===0&&a.finalize(),u}function ra(){return qt.id||(qt.id=++ZD),++qt.awaits,qt.echoes+=E0,qt.id}function ln(){return qt.awaits?(--qt.awaits===0&&(qt.id=0),qt.echoes=qt.awaits*E0,!0):!1}(""+A0).indexOf("[native code]")===-1&&(ra=ln=st);function gs(e){return qt.echoes&&e&&e.constructor===Fo?(ra(),e.then(function(t){return ln(),t},function(t){return ln(),Tt(t)})):e}function QD(e){++ms,(!qt.echoes||--qt.echoes===0)&&(qt.echoes=qt.id=0),Uo.push(Oe),Pn(e,!0)}function jD(){var e=Uo[Uo.length-1];Uo.pop(),Pn(e,!1)}function Pn(e,t){var r=Oe;if((t?qt.echoes&&(!Uu++||e!==Oe):Uu&&(!--Uu||e!==Oe))&&I0(t?QD.bind(null,e):jD),e!==Oe&&(Oe=e,r===Ii&&(Ii.env=P0()),mf)){var n=Ii.env.Promise,i=e.env;ps.then=i.nthen,n.prototype.then=i.gthen,(r.global||e.global)&&(Object.defineProperty(ft,"Promise",i.PromiseProp),n.all=i.all,n.race=i.race,n.resolve=i.resolve,n.reject=i.reject,i.allSettled&&(n.allSettled=i.allSettled),i.any&&(n.any=i.any))}}function P0(){var e=ft.Promise;return mf?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(ft,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:ps.then,gthen:e.prototype.then}:{}}function na(e,t,r,n,i){var a=Oe;try{return Pn(e,!0),t(r,n,i)}finally{Pn(a,!1)}}function I0(e){A0.call(Ul,e)}function ys(e,t,r,n){return typeof e!="function"?e:function(){var i=Oe;r&&ra(),Pn(t,!0);try{return e.apply(this,arguments)}finally{Pn(i,!1),n&&I0(ln)}}}function Lh(e,t){return function(r,n){return e.call(this,ys(r,t),ys(n,t))}}var Uh="unhandledrejection";function qh(e,t){var r;try{r=t.onuncatched(e)}catch{}if(r!==!1)try{var n,i={promise:t,reason:e};if(ft.document&&document.createEvent?(n=document.createEvent("Event"),n.initEvent(Uh,!0,!0),tr(n,i)):ft.CustomEvent&&(n=new CustomEvent(Uh,{detail:i}),tr(n,i)),n&&ft.dispatchEvent&&(dispatchEvent(n),!ft.PromiseRejectionEvent&&ft.onunhandledrejection))try{ft.onunhandledrejection(n)}catch{}Gr&&n&&!n.defaultPrevented&&console.warn("Unhandled rejection: "+(e.stack||e))}catch{}}var Tt=Se.reject;function Gl(e,t,r,n){if(!e.idbdb||!e._state.openComplete&&!Oe.letThrough&&!e._vip){if(e._state.openComplete)return Tt(new Ie.DatabaseClosed(e._state.dbOpenError));if(!e._state.isBeingOpened){if(!e._options.autoOpen)return Tt(new Ie.DatabaseClosed);e.open().catch(st)}return e._state.dbReadyPromise.then(function(){return Gl(e,t,r,n)})}else{var i=e._createTransaction(t,r,e._dbSchema);try{i.create(),e._state.PR1398_maxLoop=3}catch(a){return a.name===hf.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(function(){return Gl(e,t,r,n)})):Tt(a)}return i._promise(t,function(a,o){return Tn(function(){return Oe.trans=i,n(a,o,i)})}).then(function(a){return i._completion.then(function(){return a})})}}var Vh="3.2.2",Qn=String.fromCharCode(65535),Zl=-1/0,Jr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",R0="String expected.",ba=[],cu=typeof navigator!="undefined"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent),eT=cu,tT=cu,$0=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)},fu="__dbnames",qu="readonly",Vu="readwrite";function ci(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var B0={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function xo(e){return typeof e=="string"&&!/\./.test(e)?function(t){return t[e]===void 0&&e in t&&(t=Ga(t),delete t[e]),t}:function(t){return t}}var rT=function(){function e(){}return e.prototype._trans=function(t,r,n){var i=this._tx||Oe.trans,a=this.name;function o(c,d,l){if(!l.schema[a])throw new Ie.NotFound("Table "+a+" not part of transaction");return r(l.idbtrans,l)}var u=Ja();try{return i&&i.db===this.db?i===Oe.trans?i._promise(t,o,n):Tn(function(){return i._promise(t,o,n)},{trans:i,transless:Oe.transless||Oe}):Gl(this.db,t,[this.name],o)}finally{u&&Qa()}},e.prototype.get=function(t,r){var n=this;return t&&t.constructor===Object?this.where(t).first(r):this._trans("readonly",function(i){return n.core.get({trans:i,key:t}).then(function(a){return n.hook.reading.fire(a)})}).then(r)},e.prototype.where=function(t){if(typeof t=="string")return new this.db.WhereClause(this,t);if(Ht(t))return new this.db.WhereClause(this,"["+t.join("+")+"]");var r=Nt(t);if(r.length===1)return this.where(r[0]).equals(t[r[0]]);var n=this.schema.indexes.concat(this.schema.primKey).filter(function(l){return l.compound&&r.every(function(s){return l.keyPath.indexOf(s)>=0})&&l.keyPath.every(function(s){return r.indexOf(s)>=0})})[0];if(n&&this.db._maxKey!==Qn)return this.where(n.name).equals(n.keyPath.map(function(l){return t[l]}));!n&&Gr&&console.warn("The query "+JSON.stringify(t)+" on "+this.name+" would benefit of a "+("compound index ["+r.join("+")+"]"));var i=this.schema.idxByName,a=this.db._deps.indexedDB;function o(l,s){try{return a.cmp(l,s)===0}catch{return!1}}var u=r.reduce(function(l,s){var f=l[0],p=l[1],v=i[s],h=t[s];return[f||v,f||!v?ci(p,v&&v.multi?function(m){var g=nn(m,s);return Ht(g)&&g.some(function(b){return o(h,b)})}:function(m){return o(h,nn(m,s))}):p]},[null,null]),c=u[0],d=u[1];return c?this.where(c.name).equals(t[c.keyPath]).filter(d):n?this.filter(d):this.where(r).equals("")},e.prototype.filter=function(t){return this.toCollection().and(t)},e.prototype.count=function(t){return this.toCollection().count(t)},e.prototype.offset=function(t){return this.toCollection().offset(t)},e.prototype.limit=function(t){return this.toCollection().limit(t)},e.prototype.each=function(t){return this.toCollection().each(t)},e.prototype.toArray=function(t){return this.toCollection().toArray(t)},e.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},e.prototype.orderBy=function(t){return new this.db.Collection(new this.db.WhereClause(this,Ht(t)?"["+t.join("+")+"]":t))},e.prototype.reverse=function(){return this.toCollection().reverse()},e.prototype.mapToClass=function(t){this.schema.mappedClass=t;var r=function(n){if(!n)return n;var i=Object.create(t.prototype);for(var a in n)if(hr(n,a))try{i[a]=n[a]}catch{}return i};return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=r,this.hook("reading",r),t},e.prototype.defineClass=function(){function t(r){tr(this,r)}return this.mapToClass(t)},e.prototype.add=function(t,r){var n=this,i=this.schema.primKey,a=i.auto,o=i.keyPath,u=t;return o&&a&&(u=xo(o)(t)),this._trans("readwrite",function(c){return n.core.mutate({trans:c,type:"add",keys:r!=null?[r]:null,values:[u]})}).then(function(c){return c.numFailures?Se.reject(c.failures[0]):c.lastResult}).then(function(c){if(o)try{$r(t,o,c)}catch{}return c})},e.prototype.update=function(t,r){if(typeof t=="object"&&!Ht(t)){var n=nn(t,this.schema.primKey.keyPath);if(n===void 0)return Tt(new Ie.InvalidArgument("Given object does not contain its primary key"));try{typeof r!="function"?Nt(r).forEach(function(i){$r(t,i,r[i])}):r(t,{value:t,primKey:n})}catch{}return this.where(":id").equals(n).modify(r)}else return this.where(":id").equals(t).modify(r)},e.prototype.put=function(t,r){var n=this,i=this.schema.primKey,a=i.auto,o=i.keyPath,u=t;return o&&a&&(u=xo(o)(t)),this._trans("readwrite",function(c){return n.core.mutate({trans:c,type:"put",values:[u],keys:r!=null?[r]:null})}).then(function(c){return c.numFailures?Se.reject(c.failures[0]):c.lastResult}).then(function(c){if(o)try{$r(t,o,c)}catch{}return c})},e.prototype.delete=function(t){var r=this;return this._trans("readwrite",function(n){return r.core.mutate({trans:n,type:"delete",keys:[t]})}).then(function(n){return n.numFailures?Se.reject(n.failures[0]):void 0})},e.prototype.clear=function(){var t=this;return this._trans("readwrite",function(r){return t.core.mutate({trans:r,type:"deleteRange",range:B0})}).then(function(r){return r.numFailures?Se.reject(r.failures[0]):void 0})},e.prototype.bulkGet=function(t){var r=this;return this._trans("readonly",function(n){return r.core.getMany({keys:t,trans:n}).then(function(i){return i.map(function(a){return r.hook.reading.fire(a)})})})},e.prototype.bulkAdd=function(t,r,n){var i=this,a=Array.isArray(r)?r:void 0;n=n||(a?void 0:r);var o=n?n.allKeys:void 0;return this._trans("readwrite",function(u){var c=i.schema.primKey,d=c.auto,l=c.keyPath;if(l&&a)throw new Ie.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(a&&a.length!==t.length)throw new Ie.InvalidArgument("Arguments objects and keys must have the same length");var s=t.length,f=l&&d?t.map(xo(l)):t;return i.core.mutate({trans:u,type:"add",keys:a,values:f,wantResults:o}).then(function(p){var v=p.numFailures,h=p.results,m=p.lastResult,g=p.failures,b=o?h:m;if(v===0)return b;throw new ya(i.name+".bulkAdd(): "+v+" of "+s+" operations failed",g)})})},e.prototype.bulkPut=function(t,r,n){var i=this,a=Array.isArray(r)?r:void 0;n=n||(a?void 0:r);var o=n?n.allKeys:void 0;return this._trans("readwrite",function(u){var c=i.schema.primKey,d=c.auto,l=c.keyPath;if(l&&a)throw new Ie.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(a&&a.length!==t.length)throw new Ie.InvalidArgument("Arguments objects and keys must have the same length");var s=t.length,f=l&&d?t.map(xo(l)):t;return i.core.mutate({trans:u,type:"put",keys:a,values:f,wantResults:o}).then(function(p){var v=p.numFailures,h=p.results,m=p.lastResult,g=p.failures,b=o?h:m;if(v===0)return b;throw new ya(i.name+".bulkPut(): "+v+" of "+s+" operations failed",g)})})},e.prototype.bulkDelete=function(t){var r=this,n=t.length;return this._trans("readwrite",function(i){return r.core.mutate({trans:i,type:"delete",keys:t})}).then(function(i){var a=i.numFailures,o=i.lastResult,u=i.failures;if(a===0)return o;throw new ya(r.name+".bulkDelete(): "+a+" of "+n+" operations failed",u)})},e}();function ja(e){var t={},r=function(u,c){if(c){for(var d=arguments.length,l=new Array(d-1);--d;)l[d-1]=arguments[d];return t[u].subscribe.apply(null,l),e}else if(typeof u=="string")return t[u]};r.addEventType=a;for(var n=1,i=arguments.length;n<i;++n)a(arguments[n]);return r;function a(u,c,d){if(typeof u=="object")return o(u);c||(c=qD),d||(d=st);var l={subscribers:[],fire:d,subscribe:function(s){l.subscribers.indexOf(s)===-1&&(l.subscribers.push(s),l.fire=c(l.fire,s))},unsubscribe:function(s){l.subscribers=l.subscribers.filter(function(f){return f!==s}),l.fire=l.subscribers.reduce(c,d)}};return t[u]=r[u]=l,l}function o(u){Nt(u).forEach(function(c){var d=u[c];if(Ht(d))a(c,u[c][0],u[c][1]);else if(d==="asap")var l=a(c,Za,function(){for(var f=arguments.length,p=new Array(f);f--;)p[f]=arguments[f];l.subscribers.forEach(function(v){m0(function(){v.apply(null,p)})})});else throw new Ie.InvalidArgument("Invalid event config")})}}function eo(e,t){return ea(t).from({prototype:e}),t}function nT(e){return eo(rT.prototype,function(r,n,i){this.db=e,this._tx=i,this.name=r,this.schema=n,this.hook=e._allTables[r]?e._allTables[r].hook:ja(null,{creating:[kD,st],reading:[zD,Za],updating:[UD,st],deleting:[LD,st]})})}function bi(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Ku(e,t){e.filter=ci(e.filter,t)}function Hu(e,t,r){var n=e.replayFilter;e.replayFilter=n?function(){return ci(n(),t())}:t,e.justLimit=r&&!n}function iT(e,t){e.isMatch=ci(e.isMatch,t)}function qo(e,t){if(e.isPrimKey)return t.primaryKey;var r=t.getIndexByKeyPath(e.index);if(!r)throw new Ie.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return r}function Kh(e,t,r){var n=qo(e,t.schema);return t.openCursor({trans:r,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:n,range:e.range}})}function Mo(e,t,r,n){var i=e.replayFilter?ci(e.filter,e.replayFilter()):e.filter;if(e.or){var a={},o=function(u,c,d){if(!i||i(c,d,function(f){return c.stop(f)},function(f){return c.fail(f)})){var l=c.primaryKey,s=""+l;s==="[object ArrayBuffer]"&&(s=""+new Uint8Array(l)),hr(a,s)||(a[s]=!0,t(u,c,d))}};return Promise.all([e.or._iterate(o,r),Hh(Kh(e,n,r),e.algorithm,o,!e.keysOnly&&e.valueMapper)])}else return Hh(Kh(e,n,r),ci(e.algorithm,i),t,!e.keysOnly&&e.valueMapper)}function Hh(e,t,r,n){var i=n?function(o,u,c){return r(n(o),u,c)}:r,a=mt(i);return e.then(function(o){if(o)return o.start(function(){var u=function(){return o.continue()};(!t||t(o,function(c){return u=c},function(c){o.stop(c),u=st},function(c){o.fail(c),u=st}))&&a(o.value,o,function(c){return u=c}),u()})})}function jt(e,t){try{var r=Wh(e),n=Wh(t);if(r!==n)return r==="Array"?1:n==="Array"?-1:r==="binary"?1:n==="binary"?-1:r==="string"?1:n==="string"?-1:r==="Date"?1:n!=="Date"?NaN:-1;switch(r){case"number":case"Date":case"string":return e>t?1:e<t?-1:0;case"binary":return oT(Yh(e),Yh(t));case"Array":return aT(e,t)}}catch{}return NaN}function aT(e,t){for(var r=e.length,n=t.length,i=r<n?r:n,a=0;a<i;++a){var o=jt(e[a],t[a]);if(o!==0)return o}return r===n?0:r<n?-1:1}function oT(e,t){for(var r=e.length,n=t.length,i=r<n?r:n,a=0;a<i;++a)if(e[a]!==t[a])return e[a]<t[a]?-1:1;return r===n?0:r<n?-1:1}function Wh(e){var t=typeof e;if(t!=="object")return t;if(ArrayBuffer.isView(e))return"binary";var r=zl(e);return r==="ArrayBuffer"?"binary":r}function Yh(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e)}var sT=function(){function e(){}return e.prototype._read=function(t,r){var n=this._ctx;return n.error?n.table._trans(null,Tt.bind(null,n.error)):n.table._trans("readonly",t).then(r)},e.prototype._write=function(t){var r=this._ctx;return r.error?r.table._trans(null,Tt.bind(null,r.error)):r.table._trans("readwrite",t,"locked")},e.prototype._addAlgorithm=function(t){var r=this._ctx;r.algorithm=ci(r.algorithm,t)},e.prototype._iterate=function(t,r){return Mo(this._ctx,t,r,this._ctx.table.core)},e.prototype.clone=function(t){var r=Object.create(this.constructor.prototype),n=Object.create(this._ctx);return t&&tr(n,t),r._ctx=n,r},e.prototype.raw=function(){return this._ctx.valueMapper=null,this},e.prototype.each=function(t){var r=this._ctx;return this._read(function(n){return Mo(r,t,n,r.table.core)})},e.prototype.count=function(t){var r=this;return this._read(function(n){var i=r._ctx,a=i.table.core;if(bi(i,!0))return a.count({trans:n,query:{index:qo(i,a.schema),range:i.range}}).then(function(u){return Math.min(u,i.limit)});var o=0;return Mo(i,function(){return++o,!1},n,a).then(function(){return o})}).then(t)},e.prototype.sortBy=function(t,r){var n=t.split(".").reverse(),i=n[0],a=n.length-1;function o(d,l){return l?o(d[n[l]],l-1):d[i]}var u=this._ctx.dir==="next"?1:-1;function c(d,l){var s=o(d,a),f=o(l,a);return s<f?-u:s>f?u:0}return this.toArray(function(d){return d.sort(c)}).then(r)},e.prototype.toArray=function(t){var r=this;return this._read(function(n){var i=r._ctx;if(i.dir==="next"&&bi(i,!0)&&i.limit>0){var a=i.valueMapper,o=qo(i,i.table.core.schema);return i.table.core.query({trans:n,limit:i.limit,values:!0,query:{index:o,range:i.range}}).then(function(c){var d=c.result;return a?d.map(a):d})}else{var u=[];return Mo(i,function(c){return u.push(c)},n,i.table.core).then(function(){return u})}},t)},e.prototype.offset=function(t){var r=this._ctx;return t<=0?this:(r.offset+=t,bi(r)?Hu(r,function(){var n=t;return function(i,a){return n===0?!0:n===1?(--n,!1):(a(function(){i.advance(n),n=0}),!1)}}):Hu(r,function(){var n=t;return function(){return--n<0}}),this)},e.prototype.limit=function(t){return this._ctx.limit=Math.min(this._ctx.limit,t),Hu(this._ctx,function(){var r=t;return function(n,i,a){return--r<=0&&i(a),r>=0}},!0),this},e.prototype.until=function(t,r){return Ku(this._ctx,function(n,i,a){return t(n.value)?(i(a),r):!0}),this},e.prototype.first=function(t){return this.limit(1).toArray(function(r){return r[0]}).then(t)},e.prototype.last=function(t){return this.reverse().first(t)},e.prototype.filter=function(t){return Ku(this._ctx,function(r){return t(r.value)}),iT(this._ctx,t),this},e.prototype.and=function(t){return this.filter(t)},e.prototype.or=function(t){return new this.db.WhereClause(this._ctx.table,t,this)},e.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},e.prototype.desc=function(){return this.reverse()},e.prototype.eachKey=function(t){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(n,i){t(i.key,i)})},e.prototype.eachUniqueKey=function(t){return this._ctx.unique="unique",this.eachKey(t)},e.prototype.eachPrimaryKey=function(t){var r=this._ctx;return r.keysOnly=!r.isMatch,this.each(function(n,i){t(i.primaryKey,i)})},e.prototype.keys=function(t){var r=this._ctx;r.keysOnly=!r.isMatch;var n=[];return this.each(function(i,a){n.push(a.key)}).then(function(){return n}).then(t)},e.prototype.primaryKeys=function(t){var r=this._ctx;if(r.dir==="next"&&bi(r,!0)&&r.limit>0)return this._read(function(i){var a=qo(r,r.table.core.schema);return r.table.core.query({trans:i,values:!1,limit:r.limit,query:{index:a,range:r.range}})}).then(function(i){var a=i.result;return a}).then(t);r.keysOnly=!r.isMatch;var n=[];return this.each(function(i,a){n.push(a.primaryKey)}).then(function(){return n}).then(t)},e.prototype.uniqueKeys=function(t){return this._ctx.unique="unique",this.keys(t)},e.prototype.firstKey=function(t){return this.limit(1).keys(function(r){return r[0]}).then(t)},e.prototype.lastKey=function(t){return this.reverse().firstKey(t)},e.prototype.distinct=function(){var t=this._ctx,r=t.index&&t.table.schema.idxByName[t.index];if(!r||!r.multi)return this;var n={};return Ku(this._ctx,function(i){var a=i.primaryKey.toString(),o=hr(n,a);return n[a]=!0,!o}),this},e.prototype.modify=function(t){var r=this,n=this._ctx;return this._write(function(i){var a;if(typeof t=="function")a=t;else{var o=Nt(t),u=o.length;a=function(g){for(var b=!1,y=0;y<u;++y){var w=o[y],_=t[w];nn(g,w)!==_&&($r(g,w,_),b=!0)}return b}}var c=n.table.core,d=c.schema.primaryKey,l=d.outbound,s=d.extractKey,f=r.db._options.modifyChunkSize||200,p=[],v=0,h=[],m=function(g,b){var y=b.failures,w=b.numFailures;v+=g-w;for(var _=0,x=Nt(y);_<x.length;_++){var N=x[_];p.push(y[N])}};return r.clone().primaryKeys().then(function(g){var b=function(y){var w=Math.min(f,g.length-y);return c.getMany({trans:i,keys:g.slice(y,y+w),cache:"immutable"}).then(function(_){for(var x=[],N=[],M=l?[]:null,A=[],E=0;E<w;++E){var D=_[E],C={value:Ga(D),primKey:g[y+E]};a.call(C,C.value,C)!==!1&&(C.value==null?A.push(g[y+E]):!l&&jt(s(D),s(C.value))!==0?(A.push(g[y+E]),x.push(C.value)):(N.push(C.value),l&&M.push(g[y+E])))}var $=bi(n)&&n.limit===1/0&&(typeof t!="function"||t===Wu)&&{index:n.index,range:n.range};return Promise.resolve(x.length>0&&c.mutate({trans:i,type:"add",values:x}).then(function(L){for(var B in L.failures)A.splice(parseInt(B),1);m(x.length,L)})).then(function(){return(N.length>0||$&&typeof t=="object")&&c.mutate({trans:i,type:"put",keys:M,values:N,criteria:$,changeSpec:typeof t!="function"&&t}).then(function(L){return m(N.length,L)})}).then(function(){return(A.length>0||$&&t===Wu)&&c.mutate({trans:i,type:"delete",keys:A,criteria:$}).then(function(L){return m(A.length,L)})}).then(function(){return g.length>y+w&&b(y+f)})})};return b(0).then(function(){if(p.length>0)throw new hs("Error modifying one or more objects",p,v,h);return g.length})})})},e.prototype.delete=function(){var t=this._ctx,r=t.range;return bi(t)&&(t.isPrimKey&&!tT||r.type===3)?this._write(function(n){var i=t.table.core.schema.primaryKey,a=r;return t.table.core.count({trans:n,query:{index:i,range:a}}).then(function(o){return t.table.core.mutate({trans:n,type:"deleteRange",range:a}).then(function(u){var c=u.failures;u.lastResult,u.results;var d=u.numFailures;if(d)throw new hs("Could not delete some values",Object.keys(c).map(function(l){return c[l]}),o-d);return o-d})})}):this.modify(Wu)},e}(),Wu=function(e,t){return t.value=null};function uT(e){return eo(sT.prototype,function(r,n){this.db=e;var i=B0,a=null;if(n)try{i=n()}catch(d){a=d}var o=r._ctx,u=o.table,c=u.hook.reading.fire;this._ctx={table:u,index:o.index,isPrimKey:!o.index||u.schema.primKey.keyPath&&o.index===u.schema.primKey.name,range:i,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:a,or:o.or,valueMapper:c!==Za?c:null}})}function lT(e,t){return e<t?-1:e===t?0:1}function cT(e,t){return e>t?-1:e===t?0:1}function lr(e,t,r){var n=e instanceof z0?new e.Collection(e):e;return n._ctx.error=r?new r(t):new TypeError(t),n}function wi(e){return new e.Collection(e,function(){return F0("")}).limit(0)}function fT(e){return e==="next"?function(t){return t.toUpperCase()}:function(t){return t.toLowerCase()}}function dT(e){return e==="next"?function(t){return t.toLowerCase()}:function(t){return t.toUpperCase()}}function hT(e,t,r,n,i,a){for(var o=Math.min(e.length,n.length),u=-1,c=0;c<o;++c){var d=t[c];if(d!==n[c])return i(e[c],r[c])<0?e.substr(0,c)+r[c]+r.substr(c+1):i(e[c],n[c])<0?e.substr(0,c)+n[c]+r.substr(c+1):u>=0?e.substr(0,u)+t[u]+r.substr(u+1):null;i(e[c],d)<0&&(u=c)}return o<n.length&&a==="next"?e+r.substr(e.length):o<e.length&&a==="prev"?e.substr(0,r.length):u<0?null:e.substr(0,u)+n[u]+r.substr(u+1)}function So(e,t,r,n){var i,a,o,u,c,d,l,s=r.length;if(!r.every(function(h){return typeof h=="string"}))return lr(e,R0);function f(h){i=fT(h),a=dT(h),o=h==="next"?lT:cT;var m=r.map(function(g){return{lower:a(g),upper:i(g)}}).sort(function(g,b){return o(g.lower,b.lower)});u=m.map(function(g){return g.upper}),c=m.map(function(g){return g.lower}),d=h,l=h==="next"?"":n}f("next");var p=new e.Collection(e,function(){return vn(u[0],c[s-1]+n)});p._ondirectionchange=function(h){f(h)};var v=0;return p._addAlgorithm(function(h,m,g){var b=h.key;if(typeof b!="string")return!1;var y=a(b);if(t(y,c,v))return!0;for(var w=null,_=v;_<s;++_){var x=hT(b,y,u[_],c[_],o,d);x===null&&w===null?v=_+1:(w===null||o(w,x)>0)&&(w=x)}return m(w!==null?function(){h.continue(w+l)}:g),!1}),p}function vn(e,t,r,n){return{type:2,lower:e,upper:t,lowerOpen:r,upperOpen:n}}function F0(e){return{type:1,lower:e,upper:e}}var z0=function(){function e(){}return Object.defineProperty(e.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),e.prototype.between=function(t,r,n,i){n=n!==!1,i=i===!0;try{return this._cmp(t,r)>0||this._cmp(t,r)===0&&(n||i)&&!(n&&i)?wi(this):new this.Collection(this,function(){return vn(t,r,!n,!i)})}catch{return lr(this,Jr)}},e.prototype.equals=function(t){return t==null?lr(this,Jr):new this.Collection(this,function(){return F0(t)})},e.prototype.above=function(t){return t==null?lr(this,Jr):new this.Collection(this,function(){return vn(t,void 0,!0)})},e.prototype.aboveOrEqual=function(t){return t==null?lr(this,Jr):new this.Collection(this,function(){return vn(t,void 0,!1)})},e.prototype.below=function(t){return t==null?lr(this,Jr):new this.Collection(this,function(){return vn(void 0,t,!1,!0)})},e.prototype.belowOrEqual=function(t){return t==null?lr(this,Jr):new this.Collection(this,function(){return vn(void 0,t)})},e.prototype.startsWith=function(t){return typeof t!="string"?lr(this,R0):this.between(t,t+Qn,!0,!0)},e.prototype.startsWithIgnoreCase=function(t){return t===""?this.startsWith(t):So(this,function(r,n){return r.indexOf(n[0])===0},[t],Qn)},e.prototype.equalsIgnoreCase=function(t){return So(this,function(r,n){return r===n[0]},[t],"")},e.prototype.anyOfIgnoreCase=function(){var t=en.apply(xi,arguments);return t.length===0?wi(this):So(this,function(r,n){return n.indexOf(r)!==-1},t,"")},e.prototype.startsWithAnyOfIgnoreCase=function(){var t=en.apply(xi,arguments);return t.length===0?wi(this):So(this,function(r,n){return n.some(function(i){return r.indexOf(i)===0})},t,Qn)},e.prototype.anyOf=function(){var t=this,r=en.apply(xi,arguments),n=this._cmp;try{r.sort(n)}catch{return lr(this,Jr)}if(r.length===0)return wi(this);var i=new this.Collection(this,function(){return vn(r[0],r[r.length-1])});i._ondirectionchange=function(o){n=o==="next"?t._ascending:t._descending,r.sort(n)};var a=0;return i._addAlgorithm(function(o,u,c){for(var d=o.key;n(d,r[a])>0;)if(++a,a===r.length)return u(c),!1;return n(d,r[a])===0?!0:(u(function(){o.continue(r[a])}),!1)}),i},e.prototype.notEqual=function(t){return this.inAnyRange([[Zl,t],[t,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},e.prototype.noneOf=function(){var t=en.apply(xi,arguments);if(t.length===0)return new this.Collection(this);try{t.sort(this._ascending)}catch{return lr(this,Jr)}var r=t.reduce(function(n,i){return n?n.concat([[n[n.length-1][1],i]]):[[Zl,i]]},null);return r.push([t[t.length-1],this.db._maxKey]),this.inAnyRange(r,{includeLowers:!1,includeUppers:!1})},e.prototype.inAnyRange=function(t,r){var n=this,i=this._cmp,a=this._ascending,o=this._descending,u=this._min,c=this._max;if(t.length===0)return wi(this);if(!t.every(function(_){return _[0]!==void 0&&_[1]!==void 0&&a(_[0],_[1])<=0}))return lr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",Ie.InvalidArgument);var d=!r||r.includeLowers!==!1,l=r&&r.includeUppers===!0;function s(_,x){for(var N=0,M=_.length;N<M;++N){var A=_[N];if(i(x[0],A[1])<0&&i(x[1],A[0])>0){A[0]=u(A[0],x[0]),A[1]=c(A[1],x[1]);break}}return N===M&&_.push(x),_}var f=a;function p(_,x){return f(_[0],x[0])}var v;try{v=t.reduce(s,[]),v.sort(p)}catch{return lr(this,Jr)}var h=0,m=l?function(_){return a(_,v[h][1])>0}:function(_){return a(_,v[h][1])>=0},g=d?function(_){return o(_,v[h][0])>0}:function(_){return o(_,v[h][0])>=0};function b(_){return!m(_)&&!g(_)}var y=m,w=new this.Collection(this,function(){return vn(v[0][0],v[v.length-1][1],!d,!l)});return w._ondirectionchange=function(_){_==="next"?(y=m,f=a):(y=g,f=o),v.sort(p)},w._addAlgorithm(function(_,x,N){for(var M=_.key;y(M);)if(++h,h===v.length)return x(N),!1;return b(M)?!0:(n._cmp(M,v[h][1])===0||n._cmp(M,v[h][0])===0||x(function(){f===a?_.continue(v[h][0]):_.continue(v[h][1])}),!1)}),w},e.prototype.startsWithAnyOf=function(){var t=en.apply(xi,arguments);return t.every(function(r){return typeof r=="string"})?t.length===0?wi(this):this.inAnyRange(t.map(function(r){return[r,r+Qn]})):lr(this,"startsWithAnyOf() only works with strings")},e}();function pT(e){return eo(z0.prototype,function(r,n,i){this.db=e,this._ctx={table:r,index:n===":id"?null:n,or:i};var a=e._deps.indexedDB;if(!a)throw new Ie.MissingAPI;this._cmp=this._ascending=a.cmp.bind(a),this._descending=function(o,u){return a.cmp(u,o)},this._max=function(o,u){return a.cmp(o,u)>0?o:u},this._min=function(o,u){return a.cmp(o,u)<0?o:u},this._IDBKeyRange=e._deps.IDBKeyRange})}function zr(e){return mt(function(t){return Fa(t),e(t.target.error),!1})}function Fa(e){e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault()}var za="storagemutated",_n="x-storagemutated-1",In=ja(null,za),vT=function(){function e(){}return e.prototype._lock=function(){return pa(!Oe.global),++this._reculock,this._reculock===1&&!Oe.global&&(Oe.lockOwnerFor=this),this},e.prototype._unlock=function(){if(pa(!Oe.global),--this._reculock===0)for(Oe.global||(Oe.lockOwnerFor=null);this._blockedFuncs.length>0&&!this._locked();){var t=this._blockedFuncs.shift();try{na(t[1],t[0])}catch{}}return this},e.prototype._locked=function(){return this._reculock&&Oe.lockOwnerFor!==this},e.prototype.create=function(t){var r=this;if(!this.mode)return this;var n=this.db.idbdb,i=this.db._state.dbOpenError;if(pa(!this.idbtrans),!t&&!n)switch(i&&i.name){case"DatabaseClosedError":throw new Ie.DatabaseClosed(i);case"MissingAPIError":throw new Ie.MissingAPI(i.message,i);default:throw new Ie.OpenFailed(i)}if(!this.active)throw new Ie.TransactionInactive;return pa(this._completion._state===null),t=this.idbtrans=t||(this.db.core?this.db.core.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability}):n.transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})),t.onerror=mt(function(a){Fa(a),r._reject(t.error)}),t.onabort=mt(function(a){Fa(a),r.active&&r._reject(new Ie.Abort(t.error)),r.active=!1,r.on("abort").fire(a)}),t.oncomplete=mt(function(){r.active=!1,r._resolve(),"mutatedParts"in t&&In.storagemutated.fire(t.mutatedParts)}),this},e.prototype._promise=function(t,r,n){var i=this;if(t==="readwrite"&&this.mode!=="readwrite")return Tt(new Ie.ReadOnly("Transaction is readonly"));if(!this.active)return Tt(new Ie.TransactionInactive);if(this._locked())return new Se(function(o,u){i._blockedFuncs.push([function(){i._promise(t,r,n).then(o,u)},Oe])});if(n)return Tn(function(){var o=new Se(function(u,c){i._lock();var d=r(u,c,i);d&&d.then&&d.then(u,c)});return o.finally(function(){return i._unlock()}),o._lib=!0,o});var a=new Se(function(o,u){var c=r(o,u,i);c&&c.then&&c.then(o,u)});return a._lib=!0,a},e.prototype._root=function(){return this.parent?this.parent._root():this},e.prototype.waitFor=function(t){var r=this._root(),n=Se.resolve(t);if(r._waitingFor)r._waitingFor=r._waitingFor.then(function(){return n});else{r._waitingFor=n,r._waitingQueue=[];var i=r.idbtrans.objectStore(r.storeNames[0]);(function o(){for(++r._spinCount;r._waitingQueue.length;)r._waitingQueue.shift()();r._waitingFor&&(i.get(-1/0).onsuccess=o)})()}var a=r._waitingFor;return new Se(function(o,u){n.then(function(c){return r._waitingQueue.push(mt(o.bind(null,c)))},function(c){return r._waitingQueue.push(mt(u.bind(null,c)))}).finally(function(){r._waitingFor===a&&(r._waitingFor=null)})})},e.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new Ie.Abort))},e.prototype.table=function(t){var r=this._memoizedTables||(this._memoizedTables={});if(hr(r,t))return r[t];var n=this.schema[t];if(!n)throw new Ie.NotFound("Table "+t+" not part of transaction");var i=new this.db.Table(t,n,this);return i.core=this.db.core.table(t),r[t]=i,i},e}();function mT(e){return eo(vT.prototype,function(r,n,i,a,o){var u=this;this.db=e,this.mode=r,this.storeNames=n,this.schema=i,this.chromeTransactionDurability=a,this.idbtrans=null,this.on=ja(this,"complete","error","abort"),this.parent=o||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Se(function(c,d){u._resolve=c,u._reject=d}),this._completion.then(function(){u.active=!1,u.on.complete.fire()},function(c){var d=u.active;return u.active=!1,u.on.error.fire(c),u.parent?u.parent._reject(c):d&&u.idbtrans&&u.idbtrans.abort(),Tt(c)})})}function Jl(e,t,r,n,i,a,o){return{name:e,keyPath:t,unique:r,multi:n,auto:i,compound:a,src:(r&&!o?"&":"")+(n?"*":"")+(i?"++":"")+k0(t)}}function k0(e){return typeof e=="string"?e:e?"["+[].join.call(e,"+")+"]":""}function L0(e,t,r){return{name:e,primKey:t,indexes:r,mappedClass:null,idxByName:g0(r,function(n){return[n.name,n]})}}function gT(e){return e.length===1?e[0]:e}var ka=function(e){try{return e.only([[]]),ka=function(){return[[]]},[[]]}catch{return ka=function(){return Qn},Qn}};function Ql(e){return e==null?function(){}:typeof e=="string"?yT(e):function(t){return nn(t,e)}}function yT(e){var t=e.split(".");return t.length===1?function(r){return r[e]}:function(r){return nn(r,e)}}function Xh(e){return[].slice.call(e)}var bT=0;function wa(e){return e==null?":id":typeof e=="string"?e:"["+e.join("+")+"]"}function wT(e,t,r){function n(s,f){var p=Xh(s.objectStoreNames);return{schema:{name:s.name,tables:p.map(function(v){return f.objectStore(v)}).map(function(v){var h=v.keyPath,m=v.autoIncrement,g=Ht(h),b=h==null,y={},w={name:v.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:b,compound:g,keyPath:h,autoIncrement:m,unique:!0,extractKey:Ql(h)},indexes:Xh(v.indexNames).map(function(_){return v.index(_)}).map(function(_){var x=_.name,N=_.unique,M=_.multiEntry,A=_.keyPath,E=Ht(A),D={name:x,compound:E,keyPath:A,unique:N,multiEntry:M,extractKey:Ql(A)};return y[wa(A)]=D,D}),getIndexByKeyPath:function(_){return y[wa(_)]}};return y[":id"]=w.primaryKey,h!=null&&(y[wa(h)]=w.primaryKey),w})},hasGetAll:p.length>0&&"getAll"in f.objectStore(p[0])&&!(typeof navigator!="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function i(s){if(s.type===3)return null;if(s.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var f=s.lower,p=s.upper,v=s.lowerOpen,h=s.upperOpen,m=f===void 0?p===void 0?null:t.upperBound(p,!!h):p===void 0?t.lowerBound(f,!!v):t.bound(f,p,!!v,!!h);return m}function a(s){var f=s.name;function p(m){var g=m.trans,b=m.type,y=m.keys,w=m.values,_=m.range;return new Promise(function(x,N){x=mt(x);var M=g.objectStore(f),A=M.keyPath==null,E=b==="put"||b==="add";if(!E&&b!=="delete"&&b!=="deleteRange")throw new Error("Invalid operation type: "+b);var D=(y||w||{length:1}).length;if(y&&w&&y.length!==w.length)throw new Error("Given keys array must have same length as given values array.");if(D===0)return x({numFailures:0,failures:{},results:[],lastResult:void 0});var C,$=[],L=[],B=0,F=function(ie){++B,Fa(ie)};if(b==="deleteRange"){if(_.type===4)return x({numFailures:B,failures:L,results:[],lastResult:void 0});_.type===3?$.push(C=M.clear()):$.push(C=M.delete(i(_)))}else{var X=E?A?[w,y]:[w,null]:[y,null],W=X[0],H=X[1];if(E)for(var U=0;U<D;++U)$.push(C=H&&H[U]!==void 0?M[b](W[U],H[U]):M[b](W[U])),C.onerror=F;else for(var U=0;U<D;++U)$.push(C=M[b](W[U])),C.onerror=F}var G=function(ie){var ne=ie.target.result;$.forEach(function(Q,te){return Q.error!=null&&(L[te]=Q.error)}),x({numFailures:B,failures:L,results:b==="delete"?y:$.map(function(Q){return Q.result}),lastResult:ne})};C.onerror=function(ie){F(ie),G(ie)},C.onsuccess=G})}function v(m){var g=m.trans,b=m.values,y=m.query,w=m.reverse,_=m.unique;return new Promise(function(x,N){x=mt(x);var M=y.index,A=y.range,E=g.objectStore(f),D=M.isPrimaryKey?E:E.index(M.name),C=w?_?"prevunique":"prev":_?"nextunique":"next",$=b||!("openKeyCursor"in D)?D.openCursor(i(A),C):D.openKeyCursor(i(A),C);$.onerror=zr(N),$.onsuccess=mt(function(L){var B=$.result;if(!B){x(null);return}B.___id=++bT,B.done=!1;var F=B.continue.bind(B),X=B.continuePrimaryKey;X&&(X=X.bind(B));var W=B.advance.bind(B),H=function(){throw new Error("Cursor not started")},U=function(){throw new Error("Cursor not stopped")};B.trans=g,B.stop=B.continue=B.continuePrimaryKey=B.advance=H,B.fail=mt(N),B.next=function(){var G=this,ie=1;return this.start(function(){return ie--?G.continue():G.stop()}).then(function(){return G})},B.start=function(G){var ie=new Promise(function(Q,te){Q=mt(Q),$.onerror=zr(te),B.fail=te,B.stop=function(Y){B.stop=B.continue=B.continuePrimaryKey=B.advance=U,Q(Y)}}),ne=function(){if($.result)try{G()}catch(Q){B.fail(Q)}else B.done=!0,B.start=function(){throw new Error("Cursor behind last entry")},B.stop()};return $.onsuccess=mt(function(Q){$.onsuccess=ne,ne()}),B.continue=F,B.continuePrimaryKey=X,B.advance=W,ne(),ie},x(B)},N)})}function h(m){return function(g){return new Promise(function(b,y){b=mt(b);var w=g.trans,_=g.values,x=g.limit,N=g.query,M=x===1/0?void 0:x,A=N.index,E=N.range,D=w.objectStore(f),C=A.isPrimaryKey?D:D.index(A.name),$=i(E);if(x===0)return b({result:[]});if(m){var L=_?C.getAll($,M):C.getAllKeys($,M);L.onsuccess=function(W){return b({result:W.target.result})},L.onerror=zr(y)}else{var B=0,F=_||!("openKeyCursor"in C)?C.openCursor($):C.openKeyCursor($),X=[];F.onsuccess=function(W){var H=F.result;if(!H)return b({result:X});if(X.push(_?H.value:H.primaryKey),++B===x)return b({result:X});H.continue()},F.onerror=zr(y)}})}}return{name:f,schema:s,mutate:p,getMany:function(m){var g=m.trans,b=m.keys;return new Promise(function(y,w){y=mt(y);for(var _=g.objectStore(f),x=b.length,N=new Array(x),M=0,A=0,E,D=function(B){var F=B.target;(N[F._pos]=F.result)!=null,++A===M&&y(N)},C=zr(w),$=0;$<x;++$){var L=b[$];L!=null&&(E=_.get(b[$]),E._pos=$,E.onsuccess=D,E.onerror=C,++M)}M===0&&y(N)})},get:function(m){var g=m.trans,b=m.key;return new Promise(function(y,w){y=mt(y);var _=g.objectStore(f),x=_.get(b);x.onsuccess=function(N){return y(N.target.result)},x.onerror=zr(w)})},query:h(c),openCursor:v,count:function(m){var g=m.query,b=m.trans,y=g.index,w=g.range;return new Promise(function(_,x){var N=b.objectStore(f),M=y.isPrimaryKey?N:N.index(y.name),A=i(w),E=A?M.count(A):M.count();E.onsuccess=mt(function(D){return _(D.target.result)}),E.onerror=zr(x)})}}}var o=n(e,r),u=o.schema,c=o.hasGetAll,d=u.tables.map(function(s){return a(s)}),l={};return d.forEach(function(s){return l[s.name]=s}),{stack:"dbcore",transaction:e.transaction.bind(e),table:function(s){var f=l[s];if(!f)throw new Error("Table '"+s+"' not found");return l[s]},MIN_KEY:-1/0,MAX_KEY:ka(t),schema:u}}function _T(e,t){return t.reduce(function(r,n){var i=n.create;return Xe(Xe({},r),i(r))},e)}function xT(e,t,r,n){var i=r.IDBKeyRange;r.indexedDB;var a=_T(wT(t,i,n),e.dbcore);return{dbcore:a}}function bf(e,t){var r=e._novip,n=t.db,i=xT(r._middlewares,n,r._deps,t);r.core=i.dbcore,r.tables.forEach(function(a){var o=a.name;r.core.schema.tables.some(function(u){return u.name===o})&&(a.core=r.core.table(o),r[o]instanceof r.Table&&(r[o].core=a.core))})}function bs(e,t,r,n){var i=e._novip;r.forEach(function(a){var o=n[a];t.forEach(function(u){var c=cf(u,a);(!c||"value"in c&&c.value===void 0)&&(u===i.Transaction.prototype||u instanceof i.Transaction?un(u,a,{get:function(){return this.table(a)},set:function(d){p0(this,a,{value:d,writable:!0,configurable:!0,enumerable:!0})}}):u[a]=new i.Table(a,o))})})}function jl(e,t){var r=e._novip;t.forEach(function(n){for(var i in n)n[i]instanceof r.Table&&delete n[i]})}function MT(e,t){return e._cfg.version-t._cfg.version}function ST(e,t,r,n){var i=e._dbSchema,a=e._createTransaction("readwrite",e._storeNames,i);a.create(r),a._completion.catch(n);var o=a._reject.bind(a),u=Oe.transless||Oe;Tn(function(){Oe.trans=a,Oe.transless=u,t===0?(Nt(i).forEach(function(c){wf(r,c,i[c].primKey,i[c].indexes)}),bf(e,r),Se.follow(function(){return e.on.populate.fire(a)}).catch(o)):ET(e,t,a,r).catch(o)})}function ET(e,t,r,n){var i=e._novip,a=[],o=i._versions,u=i._dbSchema=_f(i,i.idbdb,n),c=!1,d=o.filter(function(s){return s._cfg.version>=t});d.forEach(function(s){a.push(function(){var f=u,p=s._cfg.dbschema;tc(i,f,n),tc(i,p,n),u=i._dbSchema=p;var v=U0(f,p);v.add.forEach(function(w){wf(n,w[0],w[1].primKey,w[1].indexes)}),v.change.forEach(function(w){if(w.recreate)throw new Ie.Upgrade("Not yet support for changing primary key");var _=n.objectStore(w.name);w.add.forEach(function(x){return ec(_,x)}),w.change.forEach(function(x){_.deleteIndex(x.name),ec(_,x)}),w.del.forEach(function(x){return _.deleteIndex(x)})});var h=s._cfg.contentUpgrade;if(h&&s._cfg.version>t){bf(i,n),r._memoizedTables={},c=!0;var m=y0(p);v.del.forEach(function(w){m[w]=f[w]}),jl(i,[i.Transaction.prototype]),bs(i,[i.Transaction.prototype],Nt(m),m),r.schema=m;var g=ff(h);g&&ra();var b,y=Se.follow(function(){if(b=h(r),b&&g){var w=ln.bind(null,null);b.then(w,w)}});return b&&typeof b.then=="function"?Se.resolve(b):y.then(function(){return b})}}),a.push(function(f){if(!c||!eT){var p=s._cfg.dbschema;NT(p,f)}jl(i,[i.Transaction.prototype]),bs(i,[i.Transaction.prototype],i._storeNames,i._dbSchema),r.schema=i._dbSchema})});function l(){return a.length?Se.resolve(a.shift()(r.idbtrans)).then(l):Se.resolve()}return l().then(function(){AT(u,n)})}function U0(e,t){var r={del:[],add:[],change:[]},n;for(n in e)t[n]||r.del.push(n);for(n in t){var i=e[n],a=t[n];if(!i)r.add.push([n,a]);else{var o={name:n,def:a,recreate:!1,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!=""+(a.primKey.keyPath||"")||i.primKey.auto!==a.primKey.auto&&!cu)o.recreate=!0,r.change.push(o);else{var u=i.idxByName,c=a.idxByName,d=void 0;for(d in u)c[d]||o.del.push(d);for(d in c){var l=u[d],s=c[d];l?l.src!==s.src&&o.change.push(s):o.add.push(s)}(o.del.length>0||o.add.length>0||o.change.length>0)&&r.change.push(o)}}}return r}function wf(e,t,r,n){var i=e.db.createObjectStore(t,r.keyPath?{keyPath:r.keyPath,autoIncrement:r.auto}:{autoIncrement:r.auto});return n.forEach(function(a){return ec(i,a)}),i}function AT(e,t){Nt(e).forEach(function(r){t.db.objectStoreNames.contains(r)||wf(t,r,e[r].primKey,e[r].indexes)})}function NT(e,t){[].slice.call(t.db.objectStoreNames).forEach(function(r){return e[r]==null&&t.db.deleteObjectStore(r)})}function ec(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function _f(e,t,r){var n={},i=uu(t.objectStoreNames,0);return i.forEach(function(a){for(var o=r.objectStore(a),u=o.keyPath,c=Jl(k0(u),u||"",!1,!1,!!o.autoIncrement,u&&typeof u!="string",!0),d=[],l=0;l<o.indexNames.length;++l){var s=o.index(o.indexNames[l]);u=s.keyPath;var f=Jl(s.name,u,!!s.unique,!!s.multiEntry,!1,u&&typeof u!="string",!1);d.push(f)}n[a]=L0(a,c,d)}),n}function CT(e,t,r){var n=e._novip;n.verno=t.version/10;var i=n._dbSchema=_f(n,t,r);n._storeNames=uu(t.objectStoreNames,0),bs(n,[n._allTables],Nt(i),i)}function OT(e,t){var r=_f(e,e.idbdb,t),n=U0(r,e._dbSchema);return!(n.add.length||n.change.some(function(i){return i.add.length||i.change.length}))}function tc(e,t,r){for(var n=e._novip,i=r.db.objectStoreNames,a=0;a<i.length;++a){var o=i[a],u=r.objectStore(o);n._hasGetAll="getAll"in u;for(var c=0;c<u.indexNames.length;++c){var d=u.indexNames[c],l=u.index(d).keyPath,s=typeof l=="string"?l:"["+uu(l).join("+")+"]";if(t[o]){var f=t[o].idxByName[s];f&&(f.name=d,delete t[o].idxByName[s],t[o].idxByName[d]=f)}}}typeof navigator!="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&ft.WorkerGlobalScope&&ft instanceof ft.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(n._hasGetAll=!1)}function DT(e){return e.split(",").map(function(t,r){t=t.trim();var n=t.replace(/([&*]|\+\+)/g,""),i=/^\[/.test(n)?n.match(/^\[(.*)\]$/)[1].split("+"):n;return Jl(n,i||null,/\&/.test(t),/\*/.test(t),/\+\+/.test(t),Ht(i),r===0)})}var TT=function(){function e(){}return e.prototype._parseStoresSpec=function(t,r){Nt(t).forEach(function(n){if(t[n]!==null){var i=DT(t[n]),a=i.shift();if(a.multi)throw new Ie.Schema("Primary key cannot be multi-valued");i.forEach(function(o){if(o.auto)throw new Ie.Schema("Only primary key can be marked as autoIncrement (++)");if(!o.keyPath)throw new Ie.Schema("Index must have a name and cannot be an empty string")}),r[n]=L0(n,a,i)}})},e.prototype.stores=function(t){var r=this.db;this._cfg.storesSource=this._cfg.storesSource?tr(this._cfg.storesSource,t):t;var n=r._versions,i={},a={};return n.forEach(function(o){tr(i,o._cfg.storesSource),a=o._cfg.dbschema={},o._parseStoresSpec(i,a)}),r._dbSchema=a,jl(r,[r._allTables,r,r.Transaction.prototype]),bs(r,[r._allTables,r,r.Transaction.prototype,this._cfg.tables],Nt(a),a),r._storeNames=Nt(a),this},e.prototype.upgrade=function(t){return this._cfg.contentUpgrade=pf(this._cfg.contentUpgrade||st,t),this},e}();function PT(e){return eo(TT.prototype,function(r){this.db=e,this._cfg={version:r,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}function xf(e,t){var r=e._dbNamesDB;return r||(r=e._dbNamesDB=new Af(fu,{addons:[],indexedDB:e,IDBKeyRange:t}),r.version(1).stores({dbnames:"name"})),r.table("dbnames")}function Mf(e){return e&&typeof e.databases=="function"}function IT(e){var t=e.indexedDB,r=e.IDBKeyRange;return Mf(t)?Promise.resolve(t.databases()).then(function(n){return n.map(function(i){return i.name}).filter(function(i){return i!==fu})}):xf(t,r).toCollection().primaryKeys()}function RT(e,t){var r=e.indexedDB,n=e.IDBKeyRange;!Mf(r)&&t!==fu&&xf(r,n).put({name:t}).catch(st)}function $T(e,t){var r=e.indexedDB,n=e.IDBKeyRange;!Mf(r)&&t!==fu&&xf(r,n).delete(t).catch(st)}function rc(e){return Tn(function(){return Oe.letThrough=!0,e()})}function BT(){var e=!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent);if(!e||!indexedDB.databases)return Promise.resolve();var t;return new Promise(function(r){var n=function(){return indexedDB.databases().finally(r)};t=setInterval(n,100),n()}).finally(function(){return clearInterval(t)})}function FT(e){var t=e._state,r=e._deps.indexedDB;if(t.isBeingOpened||e.idbdb)return t.dbReadyPromise.then(function(){return t.dbOpenError?Tt(t.dbOpenError):e});Gr&&(t.openCanceller._stackHolder=pi()),t.isBeingOpened=!0,t.dbOpenError=null,t.openComplete=!1;var n=t.openCanceller;function i(){if(t.openCanceller!==n)throw new Ie.DatabaseClosed("db.open() was cancelled")}var a=t.dbReadyResolve,o=null,u=!1;return Se.race([n,(typeof navigator=="undefined"?Se.resolve():BT()).then(function(){return new Se(function(c,d){if(i(),!r)throw new Ie.MissingAPI;var l=e.name,s=t.autoSchema?r.open(l):r.open(l,Math.round(e.verno*10));if(!s)throw new Ie.MissingAPI;s.onerror=zr(d),s.onblocked=mt(e._fireOnBlocked),s.onupgradeneeded=mt(function(f){if(o=s.transaction,t.autoSchema&&!e._options.allowEmptyDB){s.onerror=Fa,o.abort(),s.result.close();var p=r.deleteDatabase(l);p.onsuccess=p.onerror=mt(function(){d(new Ie.NoSuchDatabase("Database "+l+" doesnt exist"))})}else{o.onerror=zr(d);var v=f.oldVersion>Math.pow(2,62)?0:f.oldVersion;u=v<1,e._novip.idbdb=s.result,ST(e,v/10,o,d)}},d),s.onsuccess=mt(function(){o=null;var f=e._novip.idbdb=s.result,p=uu(f.objectStoreNames);if(p.length>0)try{var v=f.transaction(gT(p),"readonly");t.autoSchema?CT(e,f,v):(tc(e,e._dbSchema,v),OT(e,v)||console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")),bf(e,v)}catch{}ba.push(e),f.onversionchange=mt(function(h){t.vcFired=!0,e.on("versionchange").fire(h)}),f.onclose=mt(function(h){e.on("close").fire(h)}),u&&RT(e._deps,l),c()},d)})})]).then(function(){return i(),t.onReadyBeingFired=[],Se.resolve(rc(function(){return e.on.ready.fire(e.vip)})).then(function c(){if(t.onReadyBeingFired.length>0){var d=t.onReadyBeingFired.reduce(pf,st);return t.onReadyBeingFired=[],Se.resolve(rc(function(){return d(e.vip)})).then(c)}})}).finally(function(){t.onReadyBeingFired=null,t.isBeingOpened=!1}).then(function(){return e}).catch(function(c){t.dbOpenError=c;try{o&&o.abort()}catch{}return n===t.openCanceller&&e._close(),Tt(c)}).finally(function(){t.openComplete=!0,a()})}function nc(e){var t=function(o){return e.next(o)},r=function(o){return e.throw(o)},n=a(t),i=a(r);function a(o){return function(u){var c=o(u),d=c.value;return c.done?d:!d||typeof d.then!="function"?Ht(d)?Promise.all(d).then(n,i):n(d):d.then(n,i)}}return a(t)()}function zT(e,t,r){var n=arguments.length;if(n<2)throw new Ie.InvalidArgument("Too few arguments");for(var i=new Array(n-1);--n;)i[n-1]=arguments[n];r=i.pop();var a=b0(i);return[e,a,r]}function q0(e,t,r,n,i){return Se.resolve().then(function(){var a=Oe.transless||Oe,o=e._createTransaction(t,r,e._dbSchema,n),u={trans:o,transless:a};if(n)o.idbtrans=n.idbtrans;else try{o.create(),e._state.PR1398_maxLoop=3}catch(s){return s.name===hf.InvalidState&&e.isOpen()&&--e._state.PR1398_maxLoop>0?(console.warn("Dexie: Need to reopen db"),e._close(),e.open().then(function(){return q0(e,t,r,null,i)})):Tt(s)}var c=ff(i);c&&ra();var d,l=Se.follow(function(){if(d=i.call(o,o),d)if(c){var s=ln.bind(null,null);d.then(s,s)}else typeof d.next=="function"&&typeof d.throw=="function"&&(d=nc(d))},u);return(d&&typeof d.then=="function"?Se.resolve(d).then(function(s){return o.active?s:Tt(new Ie.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):l.then(function(){return d})).then(function(s){return n&&o._resolve(),o._completion.then(function(){return s})}).catch(function(s){return o._reject(s),Tt(s)})})}function Eo(e,t,r){for(var n=Ht(e)?e.slice():[e],i=0;i<r;++i)n.push(t);return n}function kT(e){return Xe(Xe({},e),{table:function(t){var r=e.table(t),n=r.schema,i={},a=[];function o(h,m,g){var b=wa(h),y=i[b]=i[b]||[],w=h==null?0:typeof h=="string"?1:h.length,_=m>0,x=Xe(Xe({},g),{isVirtual:_,keyTail:m,keyLength:w,extractKey:Ql(h),unique:!_&&g.unique});if(y.push(x),x.isPrimaryKey||a.push(x),w>1){var N=w===2?h[0]:h.slice(0,w-1);o(N,m+1,g)}return y.sort(function(M,A){return M.keyTail-A.keyTail}),x}var u=o(n.primaryKey.keyPath,0,n.primaryKey);i[":id"]=[u];for(var c=0,d=n.indexes;c<d.length;c++){var l=d[c];o(l.keyPath,0,l)}function s(h){var m=i[wa(h)];return m&&m[0]}function f(h,m){return{type:h.type===1?2:h.type,lower:Eo(h.lower,h.lowerOpen?e.MAX_KEY:e.MIN_KEY,m),lowerOpen:!0,upper:Eo(h.upper,h.upperOpen?e.MIN_KEY:e.MAX_KEY,m),upperOpen:!0}}function p(h){var m=h.query.index;return m.isVirtual?Xe(Xe({},h),{query:{index:m,range:f(h.query.range,m.keyTail)}}):h}var v=Xe(Xe({},r),{schema:Xe(Xe({},n),{primaryKey:u,indexes:a,getIndexByKeyPath:s}),count:function(h){return r.count(p(h))},query:function(h){return r.query(p(h))},openCursor:function(h){var m=h.query.index,g=m.keyTail,b=m.isVirtual,y=m.keyLength;if(!b)return r.openCursor(h);function w(_){function x(M){M!=null?_.continue(Eo(M,h.reverse?e.MAX_KEY:e.MIN_KEY,g)):h.unique?_.continue(_.key.slice(0,y).concat(h.reverse?e.MIN_KEY:e.MAX_KEY,g)):_.continue()}var N=Object.create(_,{continue:{value:x},continuePrimaryKey:{value:function(M,A){_.continuePrimaryKey(Eo(M,e.MAX_KEY,g),A)}},primaryKey:{get:function(){return _.primaryKey}},key:{get:function(){var M=_.key;return y===1?M[0]:M.slice(0,y)}},value:{get:function(){return _.value}}});return N}return r.openCursor(p(h)).then(function(_){return _&&w(_)})}});return v}})}var LT={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:kT};function Sf(e,t,r,n){return r=r||{},n=n||"",Nt(e).forEach(function(i){if(!hr(t,i))r[n+i]=void 0;else{var a=e[i],o=t[i];if(typeof a=="object"&&typeof o=="object"&&a&&o){var u=zl(a),c=zl(o);u!==c?r[n+i]=t[i]:u==="Object"?Sf(a,o,r,n+i+"."):a!==o&&(r[n+i]=t[i])}else a!==o&&(r[n+i]=t[i])}}),Nt(t).forEach(function(i){hr(e,i)||(r[n+i]=t[i])}),r}function UT(e,t){return t.type==="delete"?t.keys:t.keys||t.values.map(e.extractKey)}var qT={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(e){return Xe(Xe({},e),{table:function(t){var r=e.table(t),n=r.schema.primaryKey,i=Xe(Xe({},r),{mutate:function(a){var o=Oe.trans,u=o.table(t).hook,c=u.deleting,d=u.creating,l=u.updating;switch(a.type){case"add":if(d.fire===st)break;return o._promise("readwrite",function(){return s(a)},!0);case"put":if(d.fire===st&&l.fire===st)break;return o._promise("readwrite",function(){return s(a)},!0);case"delete":if(c.fire===st)break;return o._promise("readwrite",function(){return s(a)},!0);case"deleteRange":if(c.fire===st)break;return o._promise("readwrite",function(){return f(a)},!0)}return r.mutate(a);function s(v){var h=Oe.trans,m=v.keys||UT(n,v);if(!m)throw new Error("Keys missing");return v=v.type==="add"||v.type==="put"?Xe(Xe({},v),{keys:m}):Xe({},v),v.type!=="delete"&&(v.values=Bl([],v.values,!0)),v.keys&&(v.keys=Bl([],v.keys,!0)),VT(r,v,m).then(function(g){var b=m.map(function(y,w){var _=g[w],x={onerror:null,onsuccess:null};if(v.type==="delete")c.fire.call(x,y,_,h);else if(v.type==="add"||_===void 0){var N=d.fire.call(x,y,v.values[w],h);y==null&&N!=null&&(y=N,v.keys[w]=y,n.outbound||$r(v.values[w],n.keyPath,y))}else{var M=Sf(_,v.values[w]),A=l.fire.call(x,M,y,_,h);if(A){var E=v.values[w];Object.keys(A).forEach(function(D){hr(E,D)?E[D]=A[D]:$r(E,D,A[D])})}}return x});return r.mutate(v).then(function(y){for(var w=y.failures,_=y.results,x=y.numFailures,N=y.lastResult,M=0;M<m.length;++M){var A=_?_[M]:m[M],E=b[M];A==null?E.onerror&&E.onerror(w[M]):E.onsuccess&&E.onsuccess(v.type==="put"&&g[M]?v.values[M]:A)}return{failures:w,results:_,numFailures:x,lastResult:N}}).catch(function(y){return b.forEach(function(w){return w.onerror&&w.onerror(y)}),Promise.reject(y)})})}function f(v){return p(v.trans,v.range,1e4)}function p(v,h,m){return r.query({trans:v,values:!1,query:{index:n,range:h},limit:m}).then(function(g){var b=g.result;return s({type:"delete",keys:b,trans:v}).then(function(y){return y.numFailures>0?Promise.reject(y.failures[0]):b.length<m?{failures:[],numFailures:0,lastResult:void 0}:p(v,Xe(Xe({},h),{lower:b[b.length-1],lowerOpen:!0}),m)})})}}});return i}})}};function VT(e,t,r){return t.type==="add"?Promise.resolve([]):e.getMany({trans:t.trans,keys:r,cache:"immutable"})}function V0(e,t,r){try{if(!t||t.keys.length<e.length)return null;for(var n=[],i=0,a=0;i<t.keys.length&&a<e.length;++i)jt(t.keys[i],e[a])===0&&(n.push(r?Ga(t.values[i]):t.values[i]),++a);return n.length===e.length?n:null}catch{return null}}var KT={stack:"dbcore",level:-1,create:function(e){return{table:function(t){var r=e.table(t);return Xe(Xe({},r),{getMany:function(n){if(!n.cache)return r.getMany(n);var i=V0(n.keys,n.trans._cache,n.cache==="clone");return i?Se.resolve(i):r.getMany(n).then(function(a){return n.trans._cache={keys:n.keys,values:n.cache==="clone"?Ga(a):a},a})},mutate:function(n){return n.type!=="add"&&(n.trans._cache=null),r.mutate(n)}})}}}},Yu;function Ef(e){return!("from"in e)}var jr=function(e,t){if(this)tr(this,arguments.length?{d:1,from:e,to:arguments.length>1?t:e}:{d:0});else{var r=new jr;return e&&"d"in e&&tr(r,e),r}};Vi(jr.prototype,(Yu={add:function(e){return ws(this,e),this},addKey:function(e){return La(this,e,e),this},addKeys:function(e){var t=this;return e.forEach(function(r){return La(t,r,r)}),this}},Yu[kl]=function(){return ic(this)},Yu));function La(e,t,r){var n=jt(t,r);if(!isNaN(n)){if(n>0)throw RangeError();if(Ef(e))return tr(e,{from:t,to:r,d:1});var i=e.l,a=e.r;if(jt(r,e.from)<0)return i?La(i,t,r):e.l={from:t,to:r,d:1,l:null,r:null},Gh(e);if(jt(t,e.to)>0)return a?La(a,t,r):e.r={from:t,to:r,d:1,l:null,r:null},Gh(e);jt(t,e.from)<0&&(e.from=t,e.l=null,e.d=a?a.d+1:1),jt(r,e.to)>0&&(e.to=r,e.r=null,e.d=e.l?e.l.d+1:1);var o=!e.r;i&&!e.l&&ws(e,i),a&&o&&ws(e,a)}}function ws(e,t){function r(n,i){var a=i.from,o=i.to,u=i.l,c=i.r;La(n,a,o),u&&r(n,u),c&&r(n,c)}Ef(t)||r(e,t)}function HT(e,t){var r=ic(t),n=r.next();if(n.done)return!1;for(var i=n.value,a=ic(e),o=a.next(i.from),u=o.value;!n.done&&!o.done;){if(jt(u.from,i.to)<=0&&jt(u.to,i.from)>=0)return!0;jt(i.from,u.from)<0?i=(n=r.next(u.from)).value:u=(o=a.next(i.from)).value}return!1}function ic(e){var t=Ef(e)?null:{s:0,n:e};return{next:function(r){for(var n=arguments.length>0;t;)switch(t.s){case 0:if(t.s=1,n)for(;t.n.l&&jt(r,t.n.from)<0;)t={up:t,n:t.n.l,s:1};else for(;t.n.l;)t={up:t,n:t.n.l,s:1};case 1:if(t.s=2,!n||jt(r,t.n.to)<=0)return{value:t.n,done:!1};case 2:if(t.n.r){t.s=3,t={up:t,n:t.n.r,s:0};continue}case 3:t=t.up}return{done:!0}}}}function Gh(e){var t,r,n=(((t=e.r)===null||t===void 0?void 0:t.d)||0)-(((r=e.l)===null||r===void 0?void 0:r.d)||0),i=n>1?"r":n<-1?"l":"";if(i){var a=i==="r"?"l":"r",o=Xe({},e),u=e[i];e.from=u.from,e.to=u.to,e[i]=u[i],o[i]=u[a],e[a]=o,o.d=Zh(o)}e.d=Zh(e)}function Zh(e){var t=e.r,r=e.l;return(t?r?Math.max(t.d,r.d):t.d:r?r.d:0)+1}var WT={stack:"dbcore",level:0,create:function(e){var t=e.schema.name,r=new jr(e.MIN_KEY,e.MAX_KEY);return Xe(Xe({},e),{table:function(n){var i=e.table(n),a=i.schema,o=a.primaryKey,u=o.extractKey,c=o.outbound,d=Xe(Xe({},i),{mutate:function(f){var p=f.trans,v=p.mutatedParts||(p.mutatedParts={}),h=function(N){var M="idb://"+t+"/"+n+"/"+N;return v[M]||(v[M]=new jr)},m=h(""),g=h(":dels"),b=f.type,y=f.type==="deleteRange"?[f.range]:f.type==="delete"?[f.keys]:f.values.length<50?[[],f.values]:[],w=y[0],_=y[1],x=f.trans._cache;return i.mutate(f).then(function(N){if(Ht(w)){b!=="delete"&&(w=N.results),m.addKeys(w);var M=V0(w,x);!M&&b!=="add"&&g.addKeys(w),(M||_)&&YT(h,a,M,_)}else if(w){var A={from:w.lower,to:w.upper};g.add(A),m.add(A)}else m.add(r),g.add(r),a.indexes.forEach(function(E){return h(E.name).add(r)});return N})}}),l=function(f){var p,v,h=f.query,m=h.index,g=h.range;return[m,new jr((p=g.lower)!==null&&p!==void 0?p:e.MIN_KEY,(v=g.upper)!==null&&v!==void 0?v:e.MAX_KEY)]},s={get:function(f){return[o,new jr(f.key)]},getMany:function(f){return[o,new jr().addKeys(f.keys)]},count:l,query:l,openCursor:l};return Nt(s).forEach(function(f){d[f]=function(p){var v=Oe.subscr;if(v){var h=function(x){var N="idb://"+t+"/"+n+"/"+x;return v[N]||(v[N]=new jr)},m=h(""),g=h(":dels"),b=s[f](p),y=b[0],w=b[1];if(h(y.name||"").add(w),!y.isPrimaryKey)if(f==="count")g.add(r);else{var _=f==="query"&&c&&p.values&&i.query(Xe(Xe({},p),{values:!1}));return i[f].apply(this,arguments).then(function(x){if(f==="query"){if(c&&p.values)return _.then(function(E){var D=E.result;return m.addKeys(D),x});var N=p.values?x.result.map(u):x.result;p.values?m.addKeys(N):g.addKeys(N)}else if(f==="openCursor"){var M=x,A=p.values;return M&&Object.create(M,{key:{get:function(){return g.addKey(M.primaryKey),M.key}},primaryKey:{get:function(){var E=M.primaryKey;return g.addKey(E),E}},value:{get:function(){return A&&m.addKey(M.primaryKey),M.value}}})}return x})}}return i[f].apply(this,arguments)}}),d}})}};function YT(e,t,r,n){function i(a){var o=e(a.name||"");function u(d){return d!=null?a.extractKey(d):null}var c=function(d){return a.multiEntry&&Ht(d)?d.forEach(function(l){return o.addKey(l)}):o.addKey(d)};(r||n).forEach(function(d,l){var s=r&&u(r[l]),f=n&&u(n[l]);jt(s,f)!==0&&(s!=null&&c(s),f!=null&&c(f))})}t.indexes.forEach(i)}var Af=function(){function e(t,r){var n=this;this._middlewares={},this.verno=0;var i=e.dependencies;this._options=r=Xe({addons:e.addons,autoOpen:!0,indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange},r),this._deps={indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange};var a=r.addons;this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var o={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:st,dbReadyPromise:null,cancelOpen:st,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3};o.dbReadyPromise=new Se(function(u){o.dbReadyResolve=u}),o.openCanceller=new Se(function(u,c){o.cancelOpen=c}),this._state=o,this.name=t,this.on=ja(this,"populate","blocked","versionchange","close",{ready:[pf,st]}),this.on.ready.subscribe=v0(this.on.ready.subscribe,function(u){return function(c,d){e.vip(function(){var l=n._state;if(l.openComplete)l.dbOpenError||Se.resolve().then(c),d&&u(c);else if(l.onReadyBeingFired)l.onReadyBeingFired.push(c),d&&u(c);else{u(c);var s=n;d||u(function f(){s.on.ready.unsubscribe(c),s.on.ready.unsubscribe(f)})}})}}),this.Collection=uT(this),this.Table=nT(this),this.Transaction=mT(this),this.Version=PT(this),this.WhereClause=pT(this),this.on("versionchange",function(u){u.newVersion>0?console.warn("Another connection wants to upgrade database '"+n.name+"'. Closing db now to resume the upgrade."):console.warn("Another connection wants to delete database '"+n.name+"'. Closing db now to resume the delete request."),n.close()}),this.on("blocked",function(u){!u.newVersion||u.newVersion<u.oldVersion?console.warn("Dexie.delete('"+n.name+"') was blocked"):console.warn("Upgrade '"+n.name+"' blocked by other connection holding version "+u.oldVersion/10)}),this._maxKey=ka(r.IDBKeyRange),this._createTransaction=function(u,c,d,l){return new n.Transaction(u,c,d,n._options.chromeTransactionDurability,l)},this._fireOnBlocked=function(u){n.on("blocked").fire(u),ba.filter(function(c){return c.name===n.name&&c!==n&&!c._state.vcFired}).map(function(c){return c.on("versionchange").fire(u)})},this.use(LT),this.use(qT),this.use(WT),this.use(KT),this.vip=Object.create(this,{_vip:{value:!0}}),a.forEach(function(u){return u(n)})}return e.prototype.version=function(t){if(isNaN(t)||t<.1)throw new Ie.Type("Given version is not a positive number");if(t=Math.round(t*10)/10,this.idbdb||this._state.isBeingOpened)throw new Ie.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);var r=this._versions,n=r.filter(function(i){return i._cfg.version===t})[0];return n||(n=new this.Version(t),r.push(n),r.sort(MT),n.stores({}),this._state.autoSchema=!1,n)},e.prototype._whenReady=function(t){var r=this;return this.idbdb&&(this._state.openComplete||Oe.letThrough||this._vip)?t():new Se(function(n,i){if(r._state.openComplete)return i(new Ie.DatabaseClosed(r._state.dbOpenError));if(!r._state.isBeingOpened){if(!r._options.autoOpen){i(new Ie.DatabaseClosed);return}r.open().catch(st)}r._state.dbReadyPromise.then(n,i)}).then(t)},e.prototype.use=function(t){var r=t.stack,n=t.create,i=t.level,a=t.name;a&&this.unuse({stack:r,name:a});var o=this._middlewares[r]||(this._middlewares[r]=[]);return o.push({stack:r,create:n,level:i==null?10:i,name:a}),o.sort(function(u,c){return u.level-c.level}),this},e.prototype.unuse=function(t){var r=t.stack,n=t.name,i=t.create;return r&&this._middlewares[r]&&(this._middlewares[r]=this._middlewares[r].filter(function(a){return i?a.create!==i:n?a.name!==n:!1})),this},e.prototype.open=function(){return FT(this)},e.prototype._close=function(){var t=this._state,r=ba.indexOf(this);if(r>=0&&ba.splice(r,1),this.idbdb){try{this.idbdb.close()}catch{}this._novip.idbdb=null}t.dbReadyPromise=new Se(function(n){t.dbReadyResolve=n}),t.openCanceller=new Se(function(n,i){t.cancelOpen=i})},e.prototype.close=function(){this._close();var t=this._state;this._options.autoOpen=!1,t.dbOpenError=new Ie.DatabaseClosed,t.isBeingOpened&&t.cancelOpen(t.dbOpenError)},e.prototype.delete=function(){var t=this,r=arguments.length>0,n=this._state;return new Se(function(i,a){var o=function(){t.close();var u=t._deps.indexedDB.deleteDatabase(t.name);u.onsuccess=mt(function(){$T(t._deps,t.name),i()}),u.onerror=zr(a),u.onblocked=t._fireOnBlocked};if(r)throw new Ie.InvalidArgument("Arguments not allowed in db.delete()");n.isBeingOpened?n.dbReadyPromise.then(o):o()})},e.prototype.backendDB=function(){return this.idbdb},e.prototype.isOpen=function(){return this.idbdb!==null},e.prototype.hasBeenClosed=function(){var t=this._state.dbOpenError;return t&&t.name==="DatabaseClosed"},e.prototype.hasFailed=function(){return this._state.dbOpenError!==null},e.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(e.prototype,"tables",{get:function(){var t=this;return Nt(this._allTables).map(function(r){return t._allTables[r]})},enumerable:!1,configurable:!0}),e.prototype.transaction=function(){var t=zT.apply(this,arguments);return this._transaction.apply(this,t)},e.prototype._transaction=function(t,r,n){var i=this,a=Oe.trans;(!a||a.db!==this||t.indexOf("!")!==-1)&&(a=null);var o=t.indexOf("?")!==-1;t=t.replace("!","").replace("?","");var u,c;try{if(c=r.map(function(l){var s=l instanceof i.Table?l.name:l;if(typeof s!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return s}),t=="r"||t===qu)u=qu;else if(t=="rw"||t==Vu)u=Vu;else throw new Ie.InvalidArgument("Invalid transaction mode: "+t);if(a){if(a.mode===qu&&u===Vu)if(o)a=null;else throw new Ie.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");a&&c.forEach(function(l){if(a&&a.storeNames.indexOf(l)===-1)if(o)a=null;else throw new Ie.SubTransaction("Table "+l+" not included in parent transaction.")}),o&&a&&!a.active&&(a=null)}}catch(l){return a?a._promise(null,function(s,f){f(l)}):Tt(l)}var d=q0.bind(null,this,u,c,a,n);return a?a._promise(u,d,"lock"):Oe.trans?na(Oe.transless,function(){return i._whenReady(d)}):this._whenReady(d)},e.prototype.table=function(t){if(!hr(this._allTables,t))throw new Ie.InvalidTable("Table "+t+" does not exist");return this._allTables[t]},e}(),XT=typeof Symbol!="undefined"&&"observable"in Symbol?Symbol.observable:"@@observable",GT=function(){function e(t){this._subscribe=t}return e.prototype.subscribe=function(t,r,n){return this._subscribe(!t||typeof t=="function"?{next:t,error:r,complete:n}:t)},e.prototype[XT]=function(){return this},e}();function K0(e,t){return Nt(t).forEach(function(r){var n=e[r]||(e[r]=new jr);ws(n,t[r])}),e}function H0(e){return new GT(function(t){var r=ff(e);function n(p){r&&ra();var v=function(){return Tn(e,{subscr:p,trans:null})},h=Oe.trans?na(Oe.transless,v):v();return r&&h.then(ln,ln),h}var i=!1,a={},o={},u={get closed(){return i},unsubscribe:function(){i=!0,In.storagemutated.unsubscribe(s)}};t.start&&t.start(u);var c=!1,d=!1;function l(){return Nt(o).some(function(p){return a[p]&&HT(a[p],o[p])})}var s=function(p){K0(a,p),l()&&f()},f=function(){if(!(c||i)){a={};var p={},v=n(p);d||(In(za,s),d=!0),c=!0,Promise.resolve(v).then(function(h){c=!1,!i&&(l()?f():(a={},o=p,t.next&&t.next(h)))},function(h){c=!1,t.error&&t.error(h),u.unsubscribe()})}};return f(),u})}var ac;try{ac={indexedDB:ft.indexedDB||ft.mozIndexedDB||ft.webkitIndexedDB||ft.msIndexedDB,IDBKeyRange:ft.IDBKeyRange||ft.webkitIDBKeyRange}}catch{ac={indexedDB:null,IDBKeyRange:null}}var Xn=Af;Vi(Xn,Xe(Xe({},lu),{delete:function(e){var t=new Xn(e,{addons:[]});return t.delete()},exists:function(e){return new Xn(e,{addons:[]}).open().then(function(t){return t.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(e){try{return IT(Xn.dependencies).then(e)}catch{return Tt(new Ie.MissingAPI)}},defineClass:function(){function e(t){tr(this,t)}return e},ignoreTransaction:function(e){return Oe.trans?na(Oe.transless,e):e()},vip:rc,async:function(e){return function(){try{var t=nc(e.apply(this,arguments));return!t||typeof t.then!="function"?Se.resolve(t):t}catch(r){return Tt(r)}}},spawn:function(e,t,r){try{var n=nc(e.apply(r,t||[]));return!n||typeof n.then!="function"?Se.resolve(n):n}catch(i){return Tt(i)}},currentTransaction:{get:function(){return Oe.trans||null}},waitFor:function(e,t){var r=Se.resolve(typeof e=="function"?Xn.ignoreTransaction(e):e).timeout(t||6e4);return Oe.trans?Oe.trans.waitFor(r):r},Promise:Se,debug:{get:function(){return Gr},set:function(e){_0(e,e==="dexie"?function(){return!0}:$0)}},derive:ea,extend:tr,props:Vi,override:v0,Events:ja,on:In,liveQuery:H0,extendObservabilitySet:K0,getByKeyPath:nn,setByKeyPath:$r,delByKeyPath:CD,shallowClone:y0,deepClone:Ga,getObjectDiff:Sf,cmp:jt,asap:m0,minKey:Zl,addons:[],connections:ba,errnames:hf,dependencies:ac,semVer:Vh,version:Vh.split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,r){return e+t/Math.pow(10,r*2)})}));Xn.maxKey=ka(Xn.dependencies.IDBKeyRange);typeof dispatchEvent!="undefined"&&typeof addEventListener!="undefined"&&(In(za,function(e){if(!rn){var t;cu?(t=document.createEvent("CustomEvent"),t.initCustomEvent(_n,!0,!0,e)):t=new CustomEvent(_n,{detail:e}),rn=!0,dispatchEvent(t),rn=!1}}),addEventListener(_n,function(e){var t=e.detail;rn||_s(t)}));function _s(e){var t=rn;try{rn=!0,In.storagemutated.fire(e)}finally{rn=t}}var rn=!1;if(typeof BroadcastChannel!="undefined"){var Jh=new BroadcastChannel(_n);In(za,function(e){rn||Jh.postMessage(e)}),Jh.onmessage=function(e){e.data&&_s(e.data)}}else if(typeof self!="undefined"&&typeof navigator!="undefined"){In(za,function(e){try{rn||(typeof localStorage!="undefined"&&localStorage.setItem(_n,JSON.stringify({trig:Math.random(),changedParts:e})),typeof self.clients=="object"&&Bl([],self.clients.matchAll({includeUncontrolled:!0}),!0).forEach(function(t){return t.postMessage({type:_n,changedParts:e})}))}catch{}}),typeof addEventListener!="undefined"&&addEventListener("storage",function(e){if(e.key===_n){var t=JSON.parse(e.newValue);t&&_s(t.changedParts)}});var Qh=self.document&&navigator.serviceWorker;Qh&&Qh.addEventListener("message",ZT)}function ZT(e){var t=e.data;t&&t.type===_n&&_s(t.changedParts)}Se.rejectionMapper=FD;_0(Gr,$0);const Ri=new Af("DriftAnalysis");Ri.version(1).stores({runs:"uuid, name",locations:"uuid, location_id, run_id, vector"});function Xu(e){return[null,void 0,!1].indexOf(e)!==-1}function JT(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function W0(e){var t={exports:{}};return e(t,t.exports),t.exports}var jh=W0(function(e,t){e.exports=function(){var r=["decimals","thousand","mark","prefix","suffix","encoder","decoder","negativeBefore","negative","edit","undo"];function n(v){return v.split("").reverse().join("")}function i(v,h){return v.substring(0,h.length)===h}function a(v,h){return v.slice(-1*h.length)===h}function o(v,h,m){if((v[h]||v[m])&&v[h]===v[m])throw new Error(h)}function u(v){return typeof v=="number"&&isFinite(v)}function c(v,h){return v=v.toString().split("e"),(+((v=(v=Math.round(+(v[0]+"e"+(v[1]?+v[1]+h:h)))).toString().split("e"))[0]+"e"+(v[1]?+v[1]-h:-h))).toFixed(h)}function d(v,h,m,g,b,y,w,_,x,N,M,A){var E,D,C,$=A,L="",B="";return y&&(A=y(A)),!!u(A)&&(v!==!1&&parseFloat(A.toFixed(v))===0&&(A=0),A<0&&(E=!0,A=Math.abs(A)),v!==!1&&(A=c(A,v)),(A=A.toString()).indexOf(".")!==-1?(C=(D=A.split("."))[0],m&&(L=m+D[1])):C=A,h&&(C=n(C).match(/.{1,3}/g),C=n(C.join(n(h)))),E&&_&&(B+=_),g&&(B+=g),E&&x&&(B+=x),B+=C,B+=L,b&&(B+=b),N&&(B=N(B,$)),B)}function l(v,h,m,g,b,y,w,_,x,N,M,A){var E,D="";return M&&(A=M(A)),!(!A||typeof A!="string")&&(_&&i(A,_)&&(A=A.replace(_,""),E=!0),g&&i(A,g)&&(A=A.replace(g,"")),x&&i(A,x)&&(A=A.replace(x,""),E=!0),b&&a(A,b)&&(A=A.slice(0,-1*b.length)),h&&(A=A.split(h).join("")),m&&(A=A.replace(m,".")),E&&(D+="-"),(D=(D+=A).replace(/[^0-9\.\-.]/g,""))!==""&&(D=Number(D),w&&(D=w(D)),!!u(D)&&D))}function s(v){var h,m,g,b={};for(v.suffix===void 0&&(v.suffix=v.postfix),h=0;h<r.length;h+=1)if((g=v[m=r[h]])===void 0)m!=="negative"||b.negativeBefore?m==="mark"&&b.thousand!=="."?b[m]=".":b[m]=!1:b[m]="-";else if(m==="decimals"){if(!(g>=0&&g<8))throw new Error(m);b[m]=g}else if(m==="encoder"||m==="decoder"||m==="edit"||m==="undo"){if(typeof g!="function")throw new Error(m);b[m]=g}else{if(typeof g!="string")throw new Error(m);b[m]=g}return o(b,"mark","thousand"),o(b,"prefix","negative"),o(b,"prefix","negativeBefore"),b}function f(v,h,m){var g,b=[];for(g=0;g<r.length;g+=1)b.push(v[r[g]]);return b.push(m),h.apply("",b)}function p(v){if(!(this instanceof p))return new p(v);typeof v=="object"&&(v=s(v),this.to=function(h){return f(v,d,h)},this.from=function(h){return f(v,l,h)})}return p}()}),QT=JT(W0(function(e,t){(function(r){function n(T){return i(T)&&typeof T.from=="function"}function i(T){return typeof T=="object"&&typeof T.to=="function"}function a(T){T.parentElement.removeChild(T)}function o(T){return T!=null}function u(T){T.preventDefault()}function c(T){return T.filter(function(S){return!this[S]&&(this[S]=!0)},{})}function d(T,S){return Math.round(T/S)*S}function l(T,S){var le=T.getBoundingClientRect(),ye=T.ownerDocument,ge=ye.documentElement,Ne=y(ye);return/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(Ne.x=0),S?le.top+Ne.y-ge.clientTop:le.left+Ne.x-ge.clientLeft}function s(T){return typeof T=="number"&&!isNaN(T)&&isFinite(T)}function f(T,S,le){le>0&&(m(T,S),setTimeout(function(){g(T,S)},le))}function p(T){return Math.max(Math.min(T,100),0)}function v(T){return Array.isArray(T)?T:[T]}function h(T){var S=(T=String(T)).split(".");return S.length>1?S[1].length:0}function m(T,S){T.classList&&!/\s/.test(S)?T.classList.add(S):T.className+=" "+S}function g(T,S){T.classList&&!/\s/.test(S)?T.classList.remove(S):T.className=T.className.replace(new RegExp("(^|\\b)"+S.split(" ").join("|")+"(\\b|$)","gi")," ")}function b(T,S){return T.classList?T.classList.contains(S):new RegExp("\\b"+S+"\\b").test(T.className)}function y(T){var S=window.pageXOffset!==void 0,le=(T.compatMode||"")==="CSS1Compat";return{x:S?window.pageXOffset:le?T.documentElement.scrollLeft:T.body.scrollLeft,y:S?window.pageYOffset:le?T.documentElement.scrollTop:T.body.scrollTop}}function w(){return window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"}}function _(){var T=!1;try{var S=Object.defineProperty({},"passive",{get:function(){T=!0}});window.addEventListener("test",null,S)}catch{}return T}function x(){return window.CSS&&CSS.supports&&CSS.supports("touch-action","none")}function N(T,S){return 100/(S-T)}function M(T,S,le){return 100*S/(T[le+1]-T[le])}function A(T,S){return M(T,T[0]<0?S+Math.abs(T[0]):S-T[0],0)}function E(T,S){return S*(T[1]-T[0])/100+T[0]}function D(T,S){for(var le=1;T>=S[le];)le+=1;return le}function C(T,S,le){if(le>=T.slice(-1)[0])return 100;var ye=D(le,T),ge=T[ye-1],Ne=T[ye],Le=S[ye-1],Ze=S[ye];return Le+A([ge,Ne],le)/N(Le,Ze)}function $(T,S,le){if(le>=100)return T.slice(-1)[0];var ye=D(le,S),ge=T[ye-1],Ne=T[ye],Le=S[ye-1];return E([ge,Ne],(le-Le)*N(Le,S[ye]))}function L(T,S,le,ye){if(ye===100)return ye;var ge=D(ye,T),Ne=T[ge-1],Le=T[ge];return le?ye-Ne>(Le-Ne)/2?Le:Ne:S[ge-1]?T[ge-1]+d(ye-T[ge-1],S[ge-1]):ye}var B,F;r.PipsMode=void 0,(F=r.PipsMode||(r.PipsMode={})).Range="range",F.Steps="steps",F.Positions="positions",F.Count="count",F.Values="values",r.PipsType=void 0,(B=r.PipsType||(r.PipsType={}))[B.None=-1]="None",B[B.NoValue=0]="NoValue",B[B.LargeValue=1]="LargeValue",B[B.SmallValue=2]="SmallValue";var X=function(){function T(S,le,ye){var ge;this.xPct=[],this.xVal=[],this.xSteps=[],this.xNumSteps=[],this.xHighestCompleteStep=[],this.xSteps=[ye||!1],this.xNumSteps=[!1],this.snap=le;var Ne=[];for(Object.keys(S).forEach(function(Le){Ne.push([v(S[Le]),Le])}),Ne.sort(function(Le,Ze){return Le[0][0]-Ze[0][0]}),ge=0;ge<Ne.length;ge++)this.handleEntryPoint(Ne[ge][1],Ne[ge][0]);for(this.xNumSteps=this.xSteps.slice(0),ge=0;ge<this.xNumSteps.length;ge++)this.handleStepPoint(ge,this.xNumSteps[ge])}return T.prototype.getDistance=function(S){for(var le=[],ye=0;ye<this.xNumSteps.length-1;ye++)le[ye]=M(this.xVal,S,ye);return le},T.prototype.getAbsoluteDistance=function(S,le,ye){var ge,Ne=0;if(S<this.xPct[this.xPct.length-1])for(;S>this.xPct[Ne+1];)Ne++;else S===this.xPct[this.xPct.length-1]&&(Ne=this.xPct.length-2);ye||S!==this.xPct[Ne+1]||Ne++,le===null&&(le=[]);var Le=1,Ze=le[Ne],rt=0,xr=0,Et=0,ze=0;for(ge=ye?(S-this.xPct[Ne])/(this.xPct[Ne+1]-this.xPct[Ne]):(this.xPct[Ne+1]-S)/(this.xPct[Ne+1]-this.xPct[Ne]);Ze>0;)rt=this.xPct[Ne+1+ze]-this.xPct[Ne+ze],le[Ne+ze]*Le+100-100*ge>100?(xr=rt*ge,Le=(Ze-100*ge)/le[Ne+ze],ge=1):(xr=le[Ne+ze]*rt/100*Le,Le=0),ye?(Et-=xr,this.xPct.length+ze>=1&&ze--):(Et+=xr,this.xPct.length-ze>=1&&ze++),Ze=le[Ne+ze]*Le;return S+Et},T.prototype.toStepping=function(S){return S=C(this.xVal,this.xPct,S)},T.prototype.fromStepping=function(S){return $(this.xVal,this.xPct,S)},T.prototype.getStep=function(S){return S=L(this.xPct,this.xSteps,this.snap,S)},T.prototype.getDefaultStep=function(S,le,ye){var ge=D(S,this.xPct);return(S===100||le&&S===this.xPct[ge-1])&&(ge=Math.max(ge-1,1)),(this.xVal[ge]-this.xVal[ge-1])/ye},T.prototype.getNearbySteps=function(S){var le=D(S,this.xPct);return{stepBefore:{startValue:this.xVal[le-2],step:this.xNumSteps[le-2],highestStep:this.xHighestCompleteStep[le-2]},thisStep:{startValue:this.xVal[le-1],step:this.xNumSteps[le-1],highestStep:this.xHighestCompleteStep[le-1]},stepAfter:{startValue:this.xVal[le],step:this.xNumSteps[le],highestStep:this.xHighestCompleteStep[le]}}},T.prototype.countStepDecimals=function(){var S=this.xNumSteps.map(h);return Math.max.apply(null,S)},T.prototype.hasNoSize=function(){return this.xVal[0]===this.xVal[this.xVal.length-1]},T.prototype.convert=function(S){return this.getStep(this.toStepping(S))},T.prototype.handleEntryPoint=function(S,le){var ye;if(!s(ye=S==="min"?0:S==="max"?100:parseFloat(S))||!s(le[0]))throw new Error("noUiSlider: 'range' value isn't numeric.");this.xPct.push(ye),this.xVal.push(le[0]);var ge=Number(le[1]);ye?this.xSteps.push(!isNaN(ge)&&ge):isNaN(ge)||(this.xSteps[0]=ge),this.xHighestCompleteStep.push(0)},T.prototype.handleStepPoint=function(S,le){if(le)if(this.xVal[S]!==this.xVal[S+1]){this.xSteps[S]=M([this.xVal[S],this.xVal[S+1]],le,0)/N(this.xPct[S],this.xPct[S+1]);var ye=(this.xVal[S+1]-this.xVal[S])/this.xNumSteps[S],ge=Math.ceil(Number(ye.toFixed(3))-1),Ne=this.xVal[S]+this.xNumSteps[S]*ge;this.xHighestCompleteStep[S]=Ne}else this.xSteps[S]=this.xHighestCompleteStep[S]=this.xVal[S]},T}(),W={to:function(T){return T===void 0?"":T.toFixed(2)},from:Number},H={target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",textDirectionLtr:"txt-dir-ltr",textDirectionRtl:"txt-dir-rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"},U={tooltips:".__tooltips",aria:".__aria"};function G(T,S){if(!s(S))throw new Error("noUiSlider: 'step' is not numeric.");T.singleStep=S}function ie(T,S){if(!s(S))throw new Error("noUiSlider: 'keyboardPageMultiplier' is not numeric.");T.keyboardPageMultiplier=S}function ne(T,S){if(!s(S))throw new Error("noUiSlider: 'keyboardMultiplier' is not numeric.");T.keyboardMultiplier=S}function Q(T,S){if(!s(S))throw new Error("noUiSlider: 'keyboardDefaultStep' is not numeric.");T.keyboardDefaultStep=S}function te(T,S){if(typeof S!="object"||Array.isArray(S))throw new Error("noUiSlider: 'range' is not an object.");if(S.min===void 0||S.max===void 0)throw new Error("noUiSlider: Missing 'min' or 'max' in 'range'.");T.spectrum=new X(S,T.snap||!1,T.singleStep)}function Y(T,S){if(S=v(S),!Array.isArray(S)||!S.length)throw new Error("noUiSlider: 'start' option is incorrect.");T.handles=S.length,T.start=S}function se(T,S){if(typeof S!="boolean")throw new Error("noUiSlider: 'snap' option must be a boolean.");T.snap=S}function we(T,S){if(typeof S!="boolean")throw new Error("noUiSlider: 'animate' option must be a boolean.");T.animate=S}function xe(T,S){if(typeof S!="number")throw new Error("noUiSlider: 'animationDuration' option must be a number.");T.animationDuration=S}function pe(T,S){var le,ye=[!1];if(S==="lower"?S=[!0,!1]:S==="upper"&&(S=[!1,!0]),S===!0||S===!1){for(le=1;le<T.handles;le++)ye.push(S);ye.push(!1)}else{if(!Array.isArray(S)||!S.length||S.length!==T.handles+1)throw new Error("noUiSlider: 'connect' option doesn't match handle count.");ye=S}T.connect=ye}function Ue(T,S){switch(S){case"horizontal":T.ort=0;break;case"vertical":T.ort=1;break;default:throw new Error("noUiSlider: 'orientation' option is invalid.")}}function P(T,S){if(!s(S))throw new Error("noUiSlider: 'margin' option must be numeric.");S!==0&&(T.margin=T.spectrum.getDistance(S))}function R(T,S){if(!s(S))throw new Error("noUiSlider: 'limit' option must be numeric.");if(T.limit=T.spectrum.getDistance(S),!T.limit||T.handles<2)throw new Error("noUiSlider: 'limit' option is only supported on linear sliders with 2 or more handles.")}function K(T,S){var le;if(!s(S)&&!Array.isArray(S))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(S)&&S.length!==2&&!s(S[0])&&!s(S[1]))throw new Error("noUiSlider: 'padding' option must be numeric or array of exactly 2 numbers.");if(S!==0){for(Array.isArray(S)||(S=[S,S]),T.padding=[T.spectrum.getDistance(S[0]),T.spectrum.getDistance(S[1])],le=0;le<T.spectrum.xNumSteps.length-1;le++)if(T.padding[0][le]<0||T.padding[1][le]<0)throw new Error("noUiSlider: 'padding' option must be a positive number(s).");var ye=S[0]+S[1],ge=T.spectrum.xVal[0];if(ye/(T.spectrum.xVal[T.spectrum.xVal.length-1]-ge)>1)throw new Error("noUiSlider: 'padding' option must not exceed 100% of the range.")}}function J(T,S){switch(S){case"ltr":T.dir=0;break;case"rtl":T.dir=1;break;default:throw new Error("noUiSlider: 'direction' option was not recognized.")}}function ee(T,S){if(typeof S!="string")throw new Error("noUiSlider: 'behaviour' must be a string containing options.");var le=S.indexOf("tap")>=0,ye=S.indexOf("drag")>=0,ge=S.indexOf("fixed")>=0,Ne=S.indexOf("snap")>=0,Le=S.indexOf("hover")>=0,Ze=S.indexOf("unconstrained")>=0,rt=S.indexOf("drag-all")>=0,xr=S.indexOf("smooth-steps")>=0;if(ge){if(T.handles!==2)throw new Error("noUiSlider: 'fixed' behaviour must be used with 2 handles");P(T,T.start[1]-T.start[0])}if(Ze&&(T.margin||T.limit))throw new Error("noUiSlider: 'unconstrained' behaviour cannot be used with margin or limit");T.events={tap:le||Ne,drag:ye,dragAll:rt,smoothSteps:xr,fixed:ge,snap:Ne,hover:Le,unconstrained:Ze}}function oe(T,S){if(S!==!1)if(S===!0||i(S)){T.tooltips=[];for(var le=0;le<T.handles;le++)T.tooltips.push(S)}else{if((S=v(S)).length!==T.handles)throw new Error("noUiSlider: must pass a formatter for all handles.");S.forEach(function(ye){if(typeof ye!="boolean"&&!i(ye))throw new Error("noUiSlider: 'tooltips' must be passed a formatter or 'false'.")}),T.tooltips=S}}function de(T,S){if(S.length!==T.handles)throw new Error("noUiSlider: must pass a attributes for all handles.");T.handleAttributes=S}function ae(T,S){if(!i(S))throw new Error("noUiSlider: 'ariaFormat' requires 'to' method.");T.ariaFormat=S}function O(T,S){if(!n(S))throw new Error("noUiSlider: 'format' requires 'to' and 'from' methods.");T.format=S}function I(T,S){if(typeof S!="boolean")throw new Error("noUiSlider: 'keyboardSupport' option must be a boolean.");T.keyboardSupport=S}function q(T,S){T.documentElement=S}function k(T,S){if(typeof S!="string"&&S!==!1)throw new Error("noUiSlider: 'cssPrefix' must be a string or `false`.");T.cssPrefix=S}function re(T,S){if(typeof S!="object")throw new Error("noUiSlider: 'cssClasses' must be an object.");typeof T.cssPrefix=="string"?(T.cssClasses={},Object.keys(S).forEach(function(le){T.cssClasses[le]=T.cssPrefix+S[le]})):T.cssClasses=S}function ue(T){var S={margin:null,limit:null,padding:null,animate:!0,animationDuration:300,ariaFormat:W,format:W},le={step:{r:!1,t:G},keyboardPageMultiplier:{r:!1,t:ie},keyboardMultiplier:{r:!1,t:ne},keyboardDefaultStep:{r:!1,t:Q},start:{r:!0,t:Y},connect:{r:!0,t:pe},direction:{r:!0,t:J},snap:{r:!1,t:se},animate:{r:!1,t:we},animationDuration:{r:!1,t:xe},range:{r:!0,t:te},orientation:{r:!1,t:Ue},margin:{r:!1,t:P},limit:{r:!1,t:R},padding:{r:!1,t:K},behaviour:{r:!0,t:ee},ariaFormat:{r:!1,t:ae},format:{r:!1,t:O},tooltips:{r:!1,t:oe},keyboardSupport:{r:!0,t:I},documentElement:{r:!1,t:q},cssPrefix:{r:!0,t:k},cssClasses:{r:!0,t:re},handleAttributes:{r:!1,t:de}},ye={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:H,keyboardPageMultiplier:5,keyboardMultiplier:1,keyboardDefaultStep:10};T.format&&!T.ariaFormat&&(T.ariaFormat=T.format),Object.keys(le).forEach(function(rt){if(o(T[rt])||ye[rt]!==void 0)le[rt].t(S,o(T[rt])?T[rt]:ye[rt]);else if(le[rt].r)throw new Error("noUiSlider: '"+rt+"' is required.")}),S.pips=T.pips;var ge=document.createElement("div"),Ne=ge.style.msTransform!==void 0,Le=ge.style.transform!==void 0;S.transformRule=Le?"transform":Ne?"msTransform":"webkitTransform";var Ze=[["left","top"],["right","bottom"]];return S.style=Ze[S.dir][S.ort],S}function ve(T,S,le){var ye,ge,Ne,Le,Ze,rt=w(),xr=x()&&_(),Et=T,ze=S.spectrum,Mr=[],ht=[],Lt=[],Sr=0,Er={},fn=T.ownerDocument,vi=S.documentElement||fn.documentElement,mi=fn.body,hu=fn.dir==="rtl"||S.ort===1?0:100;function Ar(z,V){var Z=fn.createElement("div");return V&&m(Z,V),z.appendChild(Z),Z}function pu(z,V){var Z=Ar(z,S.cssClasses.origin),fe=Ar(Z,S.cssClasses.handle);if(Ar(fe,S.cssClasses.touchArea),fe.setAttribute("data-handle",String(V)),S.keyboardSupport&&(fe.setAttribute("tabindex","0"),fe.addEventListener("keydown",function(be){return ug(be,V)})),S.handleAttributes!==void 0){var _e=S.handleAttributes[V];Object.keys(_e).forEach(function(be){fe.setAttribute(be,_e[be])})}return fe.setAttribute("role","slider"),fe.setAttribute("aria-orientation",S.ort?"vertical":"horizontal"),V===0?m(fe,S.cssClasses.handleLower):V===S.handles-1&&m(fe,S.cssClasses.handleUpper),Z}function to(z,V){return!!V&&Ar(z,S.cssClasses.connect)}function vu(z,V){var Z=Ar(V,S.cssClasses.connects);ge=[],(Ne=[]).push(to(Z,z[0]));for(var fe=0;fe<S.handles;fe++)ge.push(pu(V,fe)),Lt[fe]=fe,Ne.push(to(Z,z[fe+1]))}function mu(z){return m(z,S.cssClasses.target),S.dir===0?m(z,S.cssClasses.ltr):m(z,S.cssClasses.rtl),S.ort===0?m(z,S.cssClasses.horizontal):m(z,S.cssClasses.vertical),m(z,getComputedStyle(z).direction==="rtl"?S.cssClasses.textDirectionRtl:S.cssClasses.textDirectionLtr),Ar(z,S.cssClasses.base)}function gu(z,V){return!(!S.tooltips||!S.tooltips[V])&&Ar(z.firstChild,S.cssClasses.tooltip)}function ro(){return Et.hasAttribute("disabled")}function ia(z){return ge[z].hasAttribute("disabled")}function aa(){Ze&&(sa("update"+U.tooltips),Ze.forEach(function(z){z&&a(z)}),Ze=null)}function no(){aa(),Ze=ge.map(gu),xu("update"+U.tooltips,function(z,V,Z){if(Ze&&S.tooltips&&Ze[V]!==!1){var fe=z[V];S.tooltips[V]!==!0&&(fe=S.tooltips[V].to(Z[V])),Ze[V].innerHTML=fe}})}function oa(){sa("update"+U.aria),xu("update"+U.aria,function(z,V,Z,fe,_e){Lt.forEach(function(be){var qe=ge[be],Me=io(ht,be,0,!0,!0,!0),St=io(ht,be,100,!0,!0,!0),_t=_e[be],lt=String(S.ariaFormat.to(Z[be]));Me=ze.fromStepping(Me).toFixed(1),St=ze.fromStepping(St).toFixed(1),_t=ze.fromStepping(_t).toFixed(1),qe.children[0].setAttribute("aria-valuemin",Me),qe.children[0].setAttribute("aria-valuemax",St),qe.children[0].setAttribute("aria-valuenow",_t),qe.children[0].setAttribute("aria-valuetext",lt)})})}function nt(z){if(z.mode===r.PipsMode.Range||z.mode===r.PipsMode.Steps)return ze.xVal;if(z.mode===r.PipsMode.Count){if(z.values<2)throw new Error("noUiSlider: 'values' (>= 2) required for mode 'count'.");for(var V=z.values-1,Z=100/V,fe=[];V--;)fe[V]=V*Z;return fe.push(100),Ct(fe,z.stepped)}return z.mode===r.PipsMode.Positions?Ct(z.values,z.stepped):z.mode===r.PipsMode.Values?z.stepped?z.values.map(function(_e){return ze.fromStepping(ze.getStep(ze.toStepping(_e)))}):z.values:[]}function Ct(z,V){return z.map(function(Z){return ze.fromStepping(V?ze.getStep(Z):Z)})}function vr(z){function V(_t,lt){return Number((_t+lt).toFixed(7))}var Z=nt(z),fe={},_e=ze.xVal[0],be=ze.xVal[ze.xVal.length-1],qe=!1,Me=!1,St=0;return(Z=c(Z.slice().sort(function(_t,lt){return _t-lt})))[0]!==_e&&(Z.unshift(_e),qe=!0),Z[Z.length-1]!==be&&(Z.push(be),Me=!0),Z.forEach(function(_t,lt){var pt,je,Pt,Zt,At,$f,Eu,Bf,Ff,zf,Au=_t,gi=Z[lt+1],kf=z.mode===r.PipsMode.Steps;for(kf&&(pt=ze.xNumSteps[lt]),pt||(pt=gi-Au),gi===void 0&&(gi=Au),pt=Math.max(pt,1e-7),je=Au;je<=gi;je=V(je,pt)){for(Bf=(At=(Zt=ze.toStepping(je))-St)/(z.density||1),zf=At/(Ff=Math.round(Bf)),Pt=1;Pt<=Ff;Pt+=1)fe[($f=St+Pt*zf).toFixed(5)]=[ze.fromStepping($f),0];Eu=Z.indexOf(je)>-1?r.PipsType.LargeValue:kf?r.PipsType.SmallValue:r.PipsType.NoValue,!lt&&qe&&je!==gi&&(Eu=0),je===gi&&Me||(fe[Zt.toFixed(5)]=[je,Eu]),St=Zt}}),fe}function tg(z,V,Z){var fe,_e,be=fn.createElement("div"),qe=((fe={})[r.PipsType.None]="",fe[r.PipsType.NoValue]=S.cssClasses.valueNormal,fe[r.PipsType.LargeValue]=S.cssClasses.valueLarge,fe[r.PipsType.SmallValue]=S.cssClasses.valueSub,fe),Me=((_e={})[r.PipsType.None]="",_e[r.PipsType.NoValue]=S.cssClasses.markerNormal,_e[r.PipsType.LargeValue]=S.cssClasses.markerLarge,_e[r.PipsType.SmallValue]=S.cssClasses.markerSub,_e),St=[S.cssClasses.valueHorizontal,S.cssClasses.valueVertical],_t=[S.cssClasses.markerHorizontal,S.cssClasses.markerVertical];function lt(je,Pt){var Zt=Pt===S.cssClasses.value,At=Zt?qe:Me;return Pt+" "+(Zt?St:_t)[S.ort]+" "+At[je]}function pt(je,Pt,Zt){if((Zt=V?V(Pt,Zt):Zt)!==r.PipsType.None){var At=Ar(be,!1);At.className=lt(Zt,S.cssClasses.marker),At.style[S.style]=je+"%",Zt>r.PipsType.NoValue&&((At=Ar(be,!1)).className=lt(Zt,S.cssClasses.value),At.setAttribute("data-value",String(Pt)),At.style[S.style]=je+"%",At.innerHTML=String(Z.to(Pt)))}}return m(be,S.cssClasses.pips),m(be,S.ort===0?S.cssClasses.pipsHorizontal:S.cssClasses.pipsVertical),Object.keys(z).forEach(function(je){pt(je,z[je][0],z[je][1])}),be}function yu(){Le&&(a(Le),Le=null)}function bu(z){yu();var V=vr(z),Z=z.filter,fe=z.format||{to:function(_e){return String(Math.round(_e))}};return Le=Et.appendChild(tg(V,Z,fe))}function Nf(){var z=ye.getBoundingClientRect(),V="offset"+["Width","Height"][S.ort];return S.ort===0?z.width||ye[V]:z.height||ye[V]}function zn(z,V,Z,fe){var _e=function(qe){var Me=rg(qe,fe.pageOffset,fe.target||V);return!!Me&&!(ro()&&!fe.doNotReject)&&!(b(Et,S.cssClasses.tap)&&!fe.doNotReject)&&!(z===rt.start&&Me.buttons!==void 0&&Me.buttons>1)&&(!fe.hover||!Me.buttons)&&(xr||Me.preventDefault(),Me.calcPoint=Me.points[S.ort],void Z(Me,fe))},be=[];return z.split(" ").forEach(function(qe){V.addEventListener(qe,_e,!!xr&&{passive:!0}),be.push([qe,_e])}),be}function rg(z,V,Z){var fe=z.type.indexOf("touch")===0,_e=z.type.indexOf("mouse")===0,be=z.type.indexOf("pointer")===0,qe=0,Me=0;if(z.type.indexOf("MSPointer")===0&&(be=!0),z.type==="mousedown"&&!z.buttons&&!z.touches)return!1;if(fe){var St=function(pt){var je=pt.target;return je===Z||Z.contains(je)||z.composed&&z.composedPath().shift()===Z};if(z.type==="touchstart"){var _t=Array.prototype.filter.call(z.touches,St);if(_t.length>1)return!1;qe=_t[0].pageX,Me=_t[0].pageY}else{var lt=Array.prototype.find.call(z.changedTouches,St);if(!lt)return!1;qe=lt.pageX,Me=lt.pageY}}return V=V||y(fn),(_e||be)&&(qe=z.clientX+V.x,Me=z.clientY+V.y),z.pageOffset=V,z.points=[qe,Me],z.cursor=_e||be,z}function Cf(z){var V=100*(z-l(ye,S.ort))/Nf();return V=p(V),S.dir?100-V:V}function ng(z){var V=100,Z=!1;return ge.forEach(function(fe,_e){if(!ia(_e)){var be=ht[_e],qe=Math.abs(be-z);(qe<V||qe<=V&&z>be||qe===100&&V===100)&&(Z=_e,V=qe)}}),Z}function ig(z,V){z.type==="mouseout"&&z.target.nodeName==="HTML"&&z.relatedTarget===null&&wu(z,V)}function ag(z,V){if(navigator.appVersion.indexOf("MSIE 9")===-1&&z.buttons===0&&V.buttonsProperty!==0)return wu(z,V);var Z=(S.dir?-1:1)*(z.calcPoint-V.startCalcPoint);Of(Z>0,100*Z/V.baseSize,V.locations,V.handleNumbers,V.connect)}function wu(z,V){V.handle&&(g(V.handle,S.cssClasses.active),Sr-=1),V.listeners.forEach(function(Z){vi.removeEventListener(Z[0],Z[1])}),Sr===0&&(g(Et,S.cssClasses.drag),Su(),z.cursor&&(mi.style.cursor="",mi.removeEventListener("selectstart",u))),S.events.smoothSteps&&(V.handleNumbers.forEach(function(Z){kn(Z,ht[Z],!0,!0,!1,!1)}),V.handleNumbers.forEach(function(Z){Mt("update",Z)})),V.handleNumbers.forEach(function(Z){Mt("change",Z),Mt("set",Z),Mt("end",Z)})}function _u(z,V){if(!V.handleNumbers.some(ia)){var Z;V.handleNumbers.length===1&&(Z=ge[V.handleNumbers[0]].children[0],Sr+=1,m(Z,S.cssClasses.active)),z.stopPropagation();var fe=[],_e=zn(rt.move,vi,ag,{target:z.target,handle:Z,connect:V.connect,listeners:fe,startCalcPoint:z.calcPoint,baseSize:Nf(),pageOffset:z.pageOffset,handleNumbers:V.handleNumbers,buttonsProperty:z.buttons,locations:ht.slice()}),be=zn(rt.end,vi,wu,{target:z.target,handle:Z,listeners:fe,doNotReject:!0,handleNumbers:V.handleNumbers}),qe=zn("mouseout",vi,ig,{target:z.target,handle:Z,listeners:fe,doNotReject:!0,handleNumbers:V.handleNumbers});fe.push.apply(fe,_e.concat(be,qe)),z.cursor&&(mi.style.cursor=getComputedStyle(z.target).cursor,ge.length>1&&m(Et,S.cssClasses.drag),mi.addEventListener("selectstart",u,!1)),V.handleNumbers.forEach(function(Me){Mt("start",Me)})}}function og(z){z.stopPropagation();var V=Cf(z.calcPoint),Z=ng(V);Z!==!1&&(S.events.snap||f(Et,S.cssClasses.tap,S.animationDuration),kn(Z,V,!0,!0),Su(),Mt("slide",Z,!0),Mt("update",Z,!0),S.events.snap?_u(z,{handleNumbers:[Z]}):(Mt("change",Z,!0),Mt("set",Z,!0)))}function sg(z){var V=Cf(z.calcPoint),Z=ze.getStep(V),fe=ze.fromStepping(Z);Object.keys(Er).forEach(function(_e){_e.split(".")[0]==="hover"&&Er[_e].forEach(function(be){be.call(oo,fe)})})}function ug(z,V){if(ro()||ia(V))return!1;var Z=["Left","Right"],fe=["Down","Up"],_e=["PageDown","PageUp"],be=["Home","End"];S.dir&&!S.ort?Z.reverse():S.ort&&!S.dir&&(fe.reverse(),_e.reverse());var qe,Me=z.key.replace("Arrow",""),St=Me===_e[0],_t=Me===_e[1],lt=Me===fe[0]||Me===Z[0]||St,pt=Me===fe[1]||Me===Z[1]||_t,je=Me===be[0],Pt=Me===be[1];if(!(lt||pt||je||Pt))return!0;if(z.preventDefault(),pt||lt){var Zt=lt?0:1,At=Rf(V)[Zt];if(At===null)return!1;At===!1&&(At=ze.getDefaultStep(ht[V],lt,S.keyboardDefaultStep)),At*=_t||St?S.keyboardPageMultiplier:S.keyboardMultiplier,At=Math.max(At,1e-7),At*=lt?-1:1,qe=Mr[V]+At}else qe=Pt?S.spectrum.xVal[S.spectrum.xVal.length-1]:S.spectrum.xVal[0];return kn(V,ze.toStepping(qe),!0,!0),Mt("slide",V),Mt("update",V),Mt("change",V),Mt("set",V),!1}function lg(z){z.fixed||ge.forEach(function(V,Z){zn(rt.start,V.children[0],_u,{handleNumbers:[Z]})}),z.tap&&zn(rt.start,ye,og,{}),z.hover&&zn(rt.move,ye,sg,{hover:!0}),z.drag&&Ne.forEach(function(V,Z){if(V!==!1&&Z!==0&&Z!==Ne.length-1){var fe=ge[Z-1],_e=ge[Z],be=[V],qe=[fe,_e],Me=[Z-1,Z];m(V,S.cssClasses.draggable),z.fixed&&(be.push(fe.children[0]),be.push(_e.children[0])),z.dragAll&&(qe=ge,Me=Lt),be.forEach(function(St){zn(rt.start,St,_u,{handles:qe,handleNumbers:Me,connect:V})})}})}function xu(z,V){Er[z]=Er[z]||[],Er[z].push(V),z.split(".")[0]==="update"&&ge.forEach(function(Z,fe){Mt("update",fe)})}function cg(z){return z===U.aria||z===U.tooltips}function sa(z){var V=z&&z.split(".")[0],Z=V?z.substring(V.length):z;Object.keys(Er).forEach(function(fe){var _e=fe.split(".")[0],be=fe.substring(_e.length);V&&V!==_e||Z&&Z!==be||cg(be)&&Z!==be||delete Er[fe]})}function Mt(z,V,Z){Object.keys(Er).forEach(function(fe){var _e=fe.split(".")[0];z===_e&&Er[fe].forEach(function(be){be.call(oo,Mr.map(S.format.to),V,Mr.slice(),Z||!1,ht.slice(),oo)})})}function io(z,V,Z,fe,_e,be,qe){var Me;return ge.length>1&&!S.events.unconstrained&&(fe&&V>0&&(Me=ze.getAbsoluteDistance(z[V-1],S.margin,!1),Z=Math.max(Z,Me)),_e&&V<ge.length-1&&(Me=ze.getAbsoluteDistance(z[V+1],S.margin,!0),Z=Math.min(Z,Me))),ge.length>1&&S.limit&&(fe&&V>0&&(Me=ze.getAbsoluteDistance(z[V-1],S.limit,!1),Z=Math.min(Z,Me)),_e&&V<ge.length-1&&(Me=ze.getAbsoluteDistance(z[V+1],S.limit,!0),Z=Math.max(Z,Me))),S.padding&&(V===0&&(Me=ze.getAbsoluteDistance(0,S.padding[0],!1),Z=Math.max(Z,Me)),V===ge.length-1&&(Me=ze.getAbsoluteDistance(100,S.padding[1],!0),Z=Math.min(Z,Me))),qe||(Z=ze.getStep(Z)),!((Z=p(Z))===z[V]&&!be)&&Z}function Mu(z,V){var Z=S.ort;return(Z?V:z)+", "+(Z?z:V)}function Of(z,V,Z,fe,_e){var be=Z.slice(),qe=fe[0],Me=S.events.smoothSteps,St=[!z,z],_t=[z,!z];fe=fe.slice(),z&&fe.reverse(),fe.length>1?fe.forEach(function(pt,je){var Pt=io(be,pt,be[pt]+V,St[je],_t[je],!1,Me);Pt===!1?V=0:(V=Pt-be[pt],be[pt]=Pt)}):St=_t=[!0];var lt=!1;fe.forEach(function(pt,je){lt=kn(pt,Z[pt]+V,St[je],_t[je],!1,Me)||lt}),lt&&(fe.forEach(function(pt){Mt("update",pt),Mt("slide",pt)}),_e!=null&&Mt("drag",qe))}function Df(z,V){return S.dir?100-z-V:z}function fg(z,V){ht[z]=V,Mr[z]=ze.fromStepping(V);var Z="translate("+Mu(Df(V,0)-hu+"%","0")+")";ge[z].style[S.transformRule]=Z,Tf(z),Tf(z+1)}function Su(){Lt.forEach(function(z){var V=ht[z]>50?-1:1,Z=3+(ge.length+V*z);ge[z].style.zIndex=String(Z)})}function kn(z,V,Z,fe,_e,be){return _e||(V=io(ht,z,V,Z,fe,!1,be)),V!==!1&&(fg(z,V),!0)}function Tf(z){if(Ne[z]){var V=0,Z=100;z!==0&&(V=ht[z-1]),z!==Ne.length-1&&(Z=ht[z]);var fe=Z-V,_e="translate("+Mu(Df(V,fe)+"%","0")+")",be="scale("+Mu(fe/100,"1")+")";Ne[z].style[S.transformRule]=_e+" "+be}}function Pf(z,V){return z===null||z===!1||z===void 0?ht[V]:(typeof z=="number"&&(z=String(z)),(z=S.format.from(z))!==!1&&(z=ze.toStepping(z)),z===!1||isNaN(z)?ht[V]:z)}function ao(z,V,Z){var fe=v(z),_e=ht[0]===void 0;V=V===void 0||V,S.animate&&!_e&&f(Et,S.cssClasses.tap,S.animationDuration),Lt.forEach(function(Me){kn(Me,Pf(fe[Me],Me),!0,!1,Z)});var be=Lt.length===1?0:1;if(_e&&ze.hasNoSize()&&(Z=!0,ht[0]=0,Lt.length>1)){var qe=100/(Lt.length-1);Lt.forEach(function(Me){ht[Me]=Me*qe})}for(;be<Lt.length;++be)Lt.forEach(function(Me){kn(Me,ht[Me],!0,!0,Z)});Su(),Lt.forEach(function(Me){Mt("update",Me),fe[Me]!==null&&V&&Mt("set",Me)})}function dg(z){ao(S.start,z)}function hg(z,V,Z,fe){if(!((z=Number(z))>=0&&z<Lt.length))throw new Error("noUiSlider: invalid handle number, got: "+z);kn(z,Pf(V,z),!0,!0,fe),Mt("update",z),Z&&Mt("set",z)}function If(z){if(z===void 0&&(z=!1),z)return Mr.length===1?Mr[0]:Mr.slice(0);var V=Mr.map(S.format.to);return V.length===1?V[0]:V}function pg(){for(sa(U.aria),sa(U.tooltips),Object.keys(S.cssClasses).forEach(function(z){g(Et,S.cssClasses[z])});Et.firstChild;)Et.removeChild(Et.firstChild);delete Et.noUiSlider}function Rf(z){var V=ht[z],Z=ze.getNearbySteps(V),fe=Mr[z],_e=Z.thisStep.step,be=null;if(S.snap)return[fe-Z.stepBefore.startValue||null,Z.stepAfter.startValue-fe||null];_e!==!1&&fe+_e>Z.stepAfter.startValue&&(_e=Z.stepAfter.startValue-fe),be=fe>Z.thisStep.startValue?Z.thisStep.step:Z.stepBefore.step!==!1&&fe-Z.stepBefore.highestStep,V===100?_e=null:V===0&&(be=null);var qe=ze.countStepDecimals();return _e!==null&&_e!==!1&&(_e=Number(_e.toFixed(qe))),be!==null&&be!==!1&&(be=Number(be.toFixed(qe))),[be,_e]}function vg(){return Lt.map(Rf)}function mg(z,V){var Z=If(),fe=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];fe.forEach(function(be){z[be]!==void 0&&(le[be]=z[be])});var _e=ue(le);fe.forEach(function(be){z[be]!==void 0&&(S[be]=_e[be])}),ze=_e.spectrum,S.margin=_e.margin,S.limit=_e.limit,S.padding=_e.padding,S.pips?bu(S.pips):yu(),S.tooltips?no():aa(),ht=[],ao(o(z.start)?z.start:Z,V)}function gg(){ye=mu(Et),vu(S.connect,ye),lg(S.events),ao(S.start),S.pips&&bu(S.pips),S.tooltips&&no(),oa()}gg();var oo={destroy:pg,steps:vg,on:xu,off:sa,get:If,set:ao,setHandle:hg,reset:dg,__moveHandles:function(z,V,Z){Of(z,V,ht,Z)},options:le,updateOptions:mg,target:Et,removePips:yu,removeTooltips:aa,getPositions:function(){return ht.slice()},getTooltips:function(){return Ze},getOrigins:function(){return ge},pips:bu};return oo}function me(T,S){if(!T||!T.nodeName)throw new Error("noUiSlider: create requires a single element, got: "+T);if(T.noUiSlider)throw new Error("noUiSlider: Slider was already initialized.");var le=ve(T,ue(S),S);return T.noUiSlider=le,le}var he={__spectrum:X,cssClasses:H,create:me};r.create=me,r.cssClasses=H,r.default=he,Object.defineProperty(r,"__esModule",{value:!0})})(t)}));function ep(e,t){if(!Array.isArray(e)||!Array.isArray(t))return!1;const r=t.slice().sort();return e.length===t.length&&e.slice().sort().every(function(n,i){return n===r[i]})}var oc={name:"Slider",emits:["input","update:modelValue","update","change"],props:{value:{validator:function(e){return t=>typeof t=="number"||t instanceof Array||t==null||t===!1},required:!1},modelValue:{validator:function(e){return t=>typeof t=="number"||t instanceof Array||t==null||t===!1},required:!1},id:{type:[String,Number],required:!1},disabled:{type:Boolean,required:!1,default:!1},min:{type:Number,required:!1,default:0},max:{type:Number,required:!1,default:100},step:{type:Number,required:!1,default:1},orientation:{type:String,required:!1,default:"horizontal"},direction:{type:String,required:!1,default:"ltr"},tooltips:{type:Boolean,required:!1,default:!0},options:{type:Object,required:!1,default:()=>({})},merge:{type:Number,required:!1,default:-1},format:{type:[Object,Function,Boolean],required:!1,default:null},classes:{type:Object,required:!1,default:()=>({})},showTooltip:{type:String,required:!1,default:"always"},tooltipPosition:{type:String,required:!1,default:null},lazy:{type:Boolean,required:!1,default:!0},ariaLabelledby:{type:String,required:!1,default:void 0},aria:{required:!1,type:Object,default:()=>({})}},setup(e,t){const r=function(o,u,c){const{value:d,modelValue:l}=ho(o),s=l&&l.value!==void 0?l:d,f=Ye(s.value);if(Xu(s.value))throw new Error("Slider v-model must be a Number or Array");if(Array.isArray(s.value)&&s.value.length==0)throw new Error("Slider v-model must not be an empty array");return{value:s,initialValue:f}}(e),n=function(o,u,c){const{classes:d,showTooltip:l,tooltipPosition:s,orientation:f}=ho(o),p=Re(()=>({target:"slider-target",focused:"slider-focused",tooltipFocus:"slider-tooltip-focus",tooltipDrag:"slider-tooltip-drag",ltr:"slider-ltr",rtl:"slider-rtl",horizontal:"slider-horizontal",vertical:"slider-vertical",textDirectionRtl:"slider-txt-dir-rtl",textDirectionLtr:"slider-txt-dir-ltr",base:"slider-base",connects:"slider-connects",connect:"slider-connect",origin:"slider-origin",handle:"slider-handle",handleLower:"slider-handle-lower",handleUpper:"slider-handle-upper",touchArea:"slider-touch-area",tooltip:"slider-tooltip",tooltipTop:"slider-tooltip-top",tooltipBottom:"slider-tooltip-bottom",tooltipLeft:"slider-tooltip-left",tooltipRight:"slider-tooltip-right",tooltipHidden:"slider-tooltip-hidden",active:"slider-active",draggable:"slider-draggable",tap:"slider-state-tap",drag:"slider-state-drag",pips:"slider-pips",pipsHorizontal:"slider-pips-horizontal",pipsVertical:"slider-pips-vertical",marker:"slider-marker",markerHorizontal:"slider-marker-horizontal",markerVertical:"slider-marker-vertical",markerNormal:"slider-marker-normal",markerLarge:"slider-marker-large",markerSub:"slider-marker-sub",value:"slider-value",valueHorizontal:"slider-value-horizontal",valueVertical:"slider-value-vertical",valueNormal:"slider-value-normal",valueLarge:"slider-value-large",valueSub:"slider-value-sub",...d.value}));return{classList:Re(()=>{const v={...p.value};return Object.keys(v).forEach(h=>{v[h]=Array.isArray(v[h])?v[h].filter(m=>m!==null).join(" "):v[h]}),l.value!=="always"&&(v.target+=` ${l.value==="drag"?v.tooltipDrag:v.tooltipFocus}`),f.value==="horizontal"&&(v.tooltip+=s.value==="bottom"?` ${v.tooltipBottom}`:` ${v.tooltipTop}`),f.value==="vertical"&&(v.tooltip+=s.value==="right"?` ${v.tooltipRight}`:` ${v.tooltipLeft}`),v})}}(e),i=function(o,u,c){const{format:d,step:l}=ho(o),s=c.value,f=c.classList,p=Re(()=>d&&d.value?typeof d.value=="function"?{to:d.value}:jh({...d.value}):jh({decimals:l.value>=0?0:2})),v=Re(()=>Array.isArray(s.value)?s.value.map(h=>p.value):p.value);return{tooltipFormat:p,tooltipsFormat:v,tooltipsMerge:(h,m,g)=>{var b=getComputedStyle(h).direction==="rtl",y=h.noUiSlider.options.direction==="rtl",w=h.noUiSlider.options.orientation==="vertical",_=h.noUiSlider.getTooltips(),x=h.noUiSlider.getOrigins();_.forEach(function(N,M){N&&x[M].appendChild(N)}),h.noUiSlider.on("update",function(N,M,A,E,D){var C=[[]],$=[[]],L=[[]],B=0;_[0]&&(C[0][0]=0,$[0][0]=D[0],L[0][0]=p.value.to(parseFloat(N[0])));for(var F=1;F<N.length;F++)(!_[F]||N[F]-N[F-1]>m)&&(C[++B]=[],L[B]=[],$[B]=[]),_[F]&&(C[B].push(F),L[B].push(p.value.to(parseFloat(N[F]))),$[B].push(D[F]));C.forEach(function(X,W){for(var H=X.length,U=0;U<H;U++){var G=X[U];if(U===H-1){var ie=0;$[W].forEach(function(Y){ie+=1e3-Y});var ne=w?"bottom":"right",Q=y?0:H-1,te=1e3-$[W][Q];ie=(b&&!w?100:0)+ie/H-te,_[G].innerHTML=L[W].join(g),_[G].style.display="block",_[G].style[ne]=ie+"%",f.value.tooltipHidden.split(" ").forEach(Y=>{_[G].classList.contains(Y)&&_[G].classList.remove(Y)})}else _[G].style.display="none",f.value.tooltipHidden.split(" ").forEach(Y=>{_[G].classList.add(Y)})}})})}}}(e,0,{value:r.value,classList:n.classList}),a=function(o,u,c){const{orientation:d,direction:l,tooltips:s,step:f,min:p,max:v,merge:h,id:m,disabled:g,options:b,classes:y,format:w,lazy:_,ariaLabelledby:x,aria:N}=ho(o),M=c.value,A=c.initialValue,E=c.tooltipsFormat,D=c.tooltipsMerge,C=c.tooltipFormat,$=c.classList,L=Ye(null),B=Ye(null),F=Ye(!1),X=Re(()=>{let Y={cssPrefix:"",cssClasses:$.value,orientation:d.value,direction:l.value,tooltips:!!s.value&&E.value,connect:"lower",start:Xu(M.value)?p.value:M.value,range:{min:p.value,max:v.value}};if(f.value>0&&(Y.step=f.value),Array.isArray(M.value)&&(Y.connect=!0),x&&x.value||N&&Object.keys(N.value).length){let se=Array.isArray(M.value)?M.value:[M.value];Y.handleAttributes=se.map(we=>Object.assign({},N.value,x&&x.value?{"aria-labelledby":x.value}:{}))}return w.value&&(Y.ariaFormat=C.value),Y}),W=Re(()=>{let Y={id:m&&m.value?m.value:void 0};return g.value&&(Y.disabled=!0),Y}),H=Re(()=>Array.isArray(M.value)),U=()=>{let Y=B.value.get();return Array.isArray(Y)?Y.map(se=>parseFloat(se)):parseFloat(Y)},G=function(Y){let se=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];B.value.set(Y,se)},ie=Y=>{u.emit("input",Y),u.emit("update:modelValue",Y),u.emit("update",Y)},ne=()=>{B.value=QT.create(L.value,Object.assign({},X.value,b.value)),s.value&&H.value&&h.value>=0&&D(L.value,h.value," - "),B.value.on("set",Y=>{const se=U();u.emit("change",se),_.value&&ie(se)}),B.value.on("update",Y=>{if(!F.value)return;const se=U();H.value&&ep(M.value,se)||!H.value&&M.value==se?u.emit("update",se):_.value||ie(se)}),L.value.querySelectorAll("[data-handle]").forEach(Y=>{Y.onblur=()=>{$.value.focused.split(" ").forEach(se=>{L.value.classList.remove(se)})},Y.onfocus=()=>{$.value.focused.split(" ").forEach(se=>{L.value.classList.add(se)})}}),F.value=!0},Q=()=>{B.value.off(),B.value.destroy(),B.value=null},te=(Y,se)=>{F.value=!1,Q(),ne()};return br(ne),$n(Q),$t(M,(Y,se)=>{se&&(typeof se=="object"&&typeof Y=="object"&&Y&&Object.keys(se)>Object.keys(Y)||typeof se=="object"&&typeof Y!="object"||!Y)&&te()},{immediate:!1}),$t(H,te,{immediate:!1}),$t(p,te,{immediate:!1}),$t(v,te,{immediate:!1}),$t(f,te,{immediate:!1}),$t(d,te,{immediate:!1}),$t(l,te,{immediate:!1}),$t(s,te,{immediate:!1}),$t(h,te,{immediate:!1}),$t(w,te,{immediate:!1,deep:!0}),$t(b,te,{immediate:!1,deep:!0}),$t(y,te,{immediate:!1,deep:!0}),$t(M,Y=>{if(Xu(Y))return void G(p.value,!1);let se=U();H.value&&!Array.isArray(se)&&(se=[se]),(H.value&&!ep(Y,se)||!H.value&&Y!=se)&&G(Y,!1)},{deep:!0}),{slider:L,slider$:B,isRange:H,sliderProps:W,init:ne,destroy:Q,refresh:te,update:G,reset:()=>{ie(A.value)}}}(e,t,{value:r.value,initialValue:r.initialValue,tooltipFormat:i.tooltipFormat,tooltipsFormat:i.tooltipsFormat,tooltipsMerge:i.tooltipsMerge,classList:n.classList});return{...n,...i,...a}}};oc.render=function(e,t,r,n,i,a){return Ae(),Pe("div",Jp(e.sliderProps,{ref:"slider"}),null,16)},oc.__file="src/Slider.vue";const jT={name:"DataOptions",components:{Slider:oc},props:["run_id","runs","drift_range"],emits:["run_selected","min_drift"],data:function(){return{min_drift:null,selected_menu:"run_selection",stored_runs:MD(H0(()=>Ri.runs.toArray()))}},created(){},mounted(){this.dragElement(this.$refs.dataoptions,this.$refs.drag_surface)},watch:{drift_range(){console.log(this.drift_range),this.min_drift=this.drift_range.min},min_drift(){this.$emit("min_drift")}},computed:{stepSize(){return Math.pow(10,this.getNumberParts(this.drift_range.min).exponent)}},methods:{getNumberParts(e){var t=new Float64Array(1),r=new Uint8Array(t.buffer);t[0]=e;var n=r[7]>>7,i=((r[7]&127)<<4|r[6]>>4)-1023;return r[7]=63,r[6]|=240,{sign:n,exponent:i,mantissa:t[0]}},show_locations(e){this.$emit("run_selected",e)},dragElement(e,t){var r=0,n=0,i=0,a=0;t.onmousedown=o;function o(d){d=d||window.event,d.preventDefault(),i=d.clientX,a=d.clientY,document.onmouseup=c,document.onmousemove=u}function u(d){d=d||window.event,d.preventDefault(),r=i-d.clientX,n=a-d.clientY,i=d.clientX,a=d.clientY,e.style.top=e.offsetTop-n+"px",e.style.left=e.offsetLeft-r+"px"}function c(){document.onmouseup=null,document.onmousemove=null}}}},eP={ref:"dataoptions"},tP={class:"w-96 bg-white rounded overflow-hidden"},rP={ref:"drag_surface",class:"cursor-move w-full bg-indigo-600 text-sm font-medium px-2 py-1 text-white"},nP={class:"block border border-y-0 border-indigo-600"},iP={class:"border-b border-gray-200"},aP={class:"-mb-px flex","aria-label":"Tabs"},oP={class:"py-5 flex border border-t-0 border-indigo-600 rounded-b overflow-hidden"},sP={key:0,class:"w-96 flex flex-col"},uP={class:"flex justify-center"},lP=["onClick"],cP={class:""},fP={key:1,class:"w-96 h-20 px-5 flex justify-center"},dP={class:"w-full"},hP={class:""},pP={for:"default-range",class:"flex justify-between mb-2 text-sm font-medium text-gray-900 dark:text-gray-300"},vP=j("span",{class:""},"Minimum drift",-1),mP={class:""},gP=["min","max","step"],yP={class:"flex flex-col"};function bP(e,t,r,n,i,a){const o=et("Slider");return Ae(),Pe("div",eP,[j("div",tP,[j("div",rP," Data Display Options ",512),j("div",nP,[j("div",iP,[j("nav",aP,[j("div",{onClick:t[0]||(t[0]=u=>e.selected_menu="run_selection"),class:tt([e.selected_menu==="run_selection"?"border-indigo-500 text-indigo-600":"","cursor-pointer border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 flex-grow py-2 px-1 text-center border-b-2 font-medium text-sm"])}," Runs ",2),j("div",{onClick:t[1]||(t[1]=u=>e.selected_menu="data_filters"),class:tt([e.selected_menu==="data_filters"?"border-indigo-500 text-indigo-600":"","cursor-pointer border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 flex-grow py-2 px-1 text-center border-b-2 font-medium text-sm"])}," Data Filters ",2)])])]),j("div",oP,[e.selected_menu==="run_selection"?(Ae(),Pe("div",sP,[(Ae(!0),Pe(gt,null,En(e.stored_runs,u=>(Ae(),Pe("div",uP,[j("button",{onClick:c=>a.show_locations(u.uuid),class:tt([u.uuid===this.run_id?"text-white font-semibold bg-indigo-600":"hover:bg-indigo-50","py-1 w-full flex justify-center"])},[j("div",cP,He(u.uuid.slice(u.uuid.length-5))+" - "+He(u.name),1)],10,lP)]))),256))])):An("",!0),e.selected_menu==="data_filters"?(Ae(),Pe("div",fP,[j("div",dP,[j("div",hP,[j("label",pP,[vP,j("span",mP,He(e.min_drift),1)]),Be(o,{modelValue:e.min_drift,"onUpdate:modelValue":t[2]||(t[2]=u=>e.min_drift=u)},null,8,["modelValue"]),ar(j("input",{type:"range",min:r.drift_range.min,max:r.drift_range.max,"onUpdate:modelValue":t[3]||(t[3]=u=>e.min_drift=u),step:a.stepSize,class:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700 accent-indigo-600"},null,8,gP),[[or,e.min_drift]]),j("div",yP,[j("div",null,He(r.drift_range.min),1),j("div",null,He(r.drift_range.max),1)])])])])):An("",!0)])])],512)}var Y0=rr(jT,[["render",bP]]);const wP={components:{DataOptions:Y0},emits:["svg"],props:["params","viewbox"],data:()=>({color:$l(lh(zu(0,5e5)),Fh),color2:$l(lh(zu(0,58e3)),Fh),number_circles:35,min_radius:80,max_radius:800,isPointerDown:!1,pointerOrigin:null}),mounted(){this.$emit("svg",this.$refs.svg),MathJax.typeset()},watch:{zoom_factor(e){this.render_axis()}},computed:{circle_array(){return zu(this.max_radius,this.min_radius,-((this.max_radius-this.min_radius)/this.number_circles))},x(){return Rl([-25,25],[0,this.height])},y(){return Rl([-25,25],[this.height,0])},theta(){return Math.atan(this.params.B/(this.params.A-this.params.C))/2},eigenvalues(){let e=this.ih_eigen,t=e[1].value*e[1].vector[0],r=e[1].value*e[1].vector[1],n=e[0].value*e[0].vector[0],i=e[0].value*e[0].vector[1];return{e0_0:t,e0_1:r,e1_0:n,e1_1:i}},transformation_matrix(){let e=this.eigenvalues;if(this.params.A<=this.params.C)return`matrix(${e.e0_0} ${e.e0_1} ${e.e1_0} ${e.e1_1} 0 0)`;if(this.params.A>this.params.C)return`matrix(${e.e1_0} ${e.e1_1} ${e.e0_0} ${e.e0_1} 0 0)`},rotation_angle(){let e=this.eigenvalues;return this.params.A>=this.params.C?Math.atan2(-e.e1_0,e.e1_1)*180/Math.PI:-Math.atan2(e.e1_0,e.e1_1)*180/Math.PI},ih_eigen(){let e=[[this.params.A,.5*this.params.B],[.5*this.params.B,this.params.C]],t=nm(Kc(Vc(e,bl(e)))),r=[];for(let n=0;n<t.values.length;n++)r.push({value:t.values[n],vector:t.vectors[n]});return r}},methods:{sign(e){if(this.params.B===0){if(this.params.A===this.params.C){if(this.params.A<0)return e===1?1.5:-.75;if(this.params.A>0)return e===1?-1.75:.75}if(this.params.A>this.params.C){if(Math.abs(this.params.A)===Math.abs(this.params.C))return e===1?-1.25:1;if(Math.abs(this.params.A)<Math.abs(this.params.C))return e===1?-.75:-1;if(Math.abs(this.params.A)>Math.abs(this.params.C))return e===1?-1.75:.75}if(this.params.A<this.params.C){if(Math.abs(this.params.A)===Math.abs(this.params.C))return e===1?1:-.75;if(Math.abs(this.params.A)<Math.abs(this.params.C))return e===1?.75:1;if(Math.abs(this.params.A)>Math.abs(this.params.C))return e===1?1:-.75}}if(this.params.B<0){if(this.params.A===this.params.C){if(this.params.A<0)return-1;if(this.params.A>0)return e===1?-2.5:.75}if(this.params.A>this.params.C){if(Math.abs(this.params.A)===Math.abs(this.params.C))return e===1?-1.25:.75;if(Math.abs(this.params.A)<Math.abs(this.params.C))return-1;if(Math.abs(this.params.A)>Math.abs(this.params.C))return e===1?-1:1}if(this.params.A<this.params.C){if(Math.abs(this.params.A)===Math.abs(this.params.C))return e===1?1:-1;if(Math.abs(this.params.A)<Math.abs(this.params.C))return 1;if(Math.abs(this.params.A)>Math.abs(this.params.C))return e===1?1:-.75}}if(this.params.B>0){if(this.params.A===this.params.C){if(this.params.A<0)return e===1?1.5:-.75;if(this.params.A>0)return 1}if(this.params.A>this.params.C){if(Math.abs(this.params.A)===Math.abs(this.params.C))return e===1?1.25:1;if(Math.abs(this.params.A)<Math.abs(this.params.C))return e===1?-1:-1.5;if(Math.abs(this.params.A)>Math.abs(this.params.C))return e===1?-1.5:1}if(this.params.A<this.params.C){if(Math.abs(this.params.A)===Math.abs(this.params.C))return e===1?1:-.75;if(Math.abs(this.params.A)<Math.abs(this.params.C))return 1;if(Math.abs(this.params.A)>Math.abs(this.params.C))return e===1?1:-.75}}},target(e,t){return this.params.A*e*e+e*t*this.params.B+t*t*this.params.C},value(e,t){let r=[e,t],n=Oa(bl(r),this.quadratic_matrix);return Oa(n,r)},render_axis(){const e=oC(this.$refs.svg);e.select("g.xaxis").attr("transform",`translate(${this.x_bias},${parseInt(this.base_zoom)*this.zoom_factor+parseInt(this.x_bias)})`).call(MN(this.x).ticks(this.zoom/this.zoom*10)).call(t=>t.select(".domain").remove()).call(t=>t.selectAll(".tick").filter(r=>this.x.domain().includes(r)).remove()),e.select("g.yaxis").attr("transform","translate(-1,0)").call(SN(this.y)).call(t=>t.select(".domain").remove()).call(t=>t.selectAll(".tick").filter(r=>this.y.domain().includes(r)).remove())}}},_P=["viewBox"],xP=j("defs",null,[j("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"0",refY:"3.5",orient:"auto"},[j("polygon",{points:"0 0, 10 3.5, 0 7"})])],-1),MP=["transform"],SP=["r","fill"],EP={key:1},AP=j("circle",{cx:"0",cy:"0",r:"0.8"},null,-1),NP=["x","transform"],CP=["x2","y2"],OP=["x","transform"],DP=["x2","y2"];function TP(e,t,r,n,i,a){return Ae(),Pe("svg",{ref:"svg",width:"100%",height:"100%",preserveAspectRatio:"xMidYMid slice",viewBox:`${r.viewbox.x} ${r.viewbox.y} ${r.viewbox.width} ${r.viewbox.height}`},[xP,Object.keys(r.params).length>0?(Ae(),Pe("g",{key:0,transform:a.transformation_matrix},[(Ae(!0),Pe(gt,null,En(a.circle_array,o=>(Ae(),Pe("circle",{cx:"0",cy:"0",r:o,stroke:"#fff","stroke-width":"0.5",fill:e.color(o*o)},null,8,SP))),256))],8,MP)):An("",!0),Object.keys(r.params).length>0?(Ae(),Pe("g",EP,[AP,(Ae(),Pe("foreignObject",{x:a.sign(2)*(a.ih_eigen[0].value*e.min_radius*a.ih_eigen[0].vector[0]/2+a.ih_eigen[0].value*e.min_radius),y:"-26",width:"40",height:"25",transform:"rotate("+a.rotation_angle+") rotate(90) scale(0.33)"},"$ \\lambda_2 v_2 $ ",8,NP)),j("line",{x1:"0",y1:"0",x2:a.ih_eigen[0].value*e.min_radius*a.ih_eigen[0].vector[0],y2:a.ih_eigen[0].value*e.min_radius*a.ih_eigen[0].vector[1],stroke:"black","stroke-width":"0.5","marker-end":"url(#arrowhead)"},null,8,CP),(Ae(),Pe("foreignObject",{x:a.sign(1)*(a.ih_eigen[1].value*e.min_radius*a.ih_eigen[1].vector[0]/2+a.ih_eigen[1].value*e.min_radius),y:"-26",width:"40",height:"25",transform:"rotate("+a.rotation_angle+") scale(0.33)"},"$ \\lambda_1 v_1 $ ",8,OP)),j("line",{x1:"0",y1:"0",x2:a.ih_eigen[1].value*e.min_radius*a.ih_eigen[1].vector[0],y2:a.ih_eigen[1].value*e.min_radius*a.ih_eigen[1].vector[1],stroke:"black","stroke-width":"0.5","marker-end":"url(#arrowhead)"},null,8,DP)])):An("",!0)],8,_P)}var PP=rr(wP,[["render",TP]]),X0=function(){if(typeof Map!="undefined")return Map;function e(t,r){var n=-1;return t.some(function(i,a){return i[0]===r?(n=a,!0):!1}),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(r){var n=e(this.__entries__,r),i=this.__entries__[n];return i&&i[1]},t.prototype.set=function(r,n){var i=e(this.__entries__,r);~i?this.__entries__[i][1]=n:this.__entries__.push([r,n])},t.prototype.delete=function(r){var n=this.__entries__,i=e(n,r);~i&&n.splice(i,1)},t.prototype.has=function(r){return!!~e(this.__entries__,r)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(r,n){n===void 0&&(n=null);for(var i=0,a=this.__entries__;i<a.length;i++){var o=a[i];r.call(n,o[1],o[0])}},t}()}(),sc=typeof window!="undefined"&&typeof document!="undefined"&&window.document===document,xs=function(){return typeof global!="undefined"&&global.Math===Math?global:typeof self!="undefined"&&self.Math===Math?self:typeof window!="undefined"&&window.Math===Math?window:Function("return this")()}(),IP=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(xs):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),RP=2;function $P(e,t){var r=!1,n=!1,i=0;function a(){r&&(r=!1,e()),n&&u()}function o(){IP(a)}function u(){var c=Date.now();if(r){if(c-i<RP)return;n=!0}else r=!0,n=!1,setTimeout(o,t);i=c}return u}var BP=20,FP=["top","right","bottom","left","width","height","size","weight"],zP=typeof MutationObserver!="undefined",kP=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=$P(this.refresh.bind(this),BP)}return e.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},e.prototype.removeObserver=function(t){var r=this.observers_,n=r.indexOf(t);~n&&r.splice(n,1),!r.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var t=this.updateObservers_();t&&this.refresh()},e.prototype.updateObservers_=function(){var t=this.observers_.filter(function(r){return r.gatherActive(),r.hasActive()});return t.forEach(function(r){return r.broadcastActive()}),t.length>0},e.prototype.connect_=function(){!sc||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),zP?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!sc||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(t){var r=t.propertyName,n=r===void 0?"":r,i=FP.some(function(a){return!!~n.indexOf(a)});i&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),G0=function(e,t){for(var r=0,n=Object.keys(t);r<n.length;r++){var i=n[r];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},Ki=function(e){var t=e&&e.ownerDocument&&e.ownerDocument.defaultView;return t||xs},Z0=du(0,0,0,0);function Ms(e){return parseFloat(e)||0}function tp(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return t.reduce(function(n,i){var a=e["border-"+i+"-width"];return n+Ms(a)},0)}function LP(e){for(var t=["top","right","bottom","left"],r={},n=0,i=t;n<i.length;n++){var a=i[n],o=e["padding-"+a];r[a]=Ms(o)}return r}function UP(e){var t=e.getBBox();return du(0,0,t.width,t.height)}function qP(e){var t=e.clientWidth,r=e.clientHeight;if(!t&&!r)return Z0;var n=Ki(e).getComputedStyle(e),i=LP(n),a=i.left+i.right,o=i.top+i.bottom,u=Ms(n.width),c=Ms(n.height);if(n.boxSizing==="border-box"&&(Math.round(u+a)!==t&&(u-=tp(n,"left","right")+a),Math.round(c+o)!==r&&(c-=tp(n,"top","bottom")+o)),!KP(e)){var d=Math.round(u+a)-t,l=Math.round(c+o)-r;Math.abs(d)!==1&&(u-=d),Math.abs(l)!==1&&(c-=l)}return du(i.left,i.top,u,c)}var VP=function(){return typeof SVGGraphicsElement!="undefined"?function(e){return e instanceof Ki(e).SVGGraphicsElement}:function(e){return e instanceof Ki(e).SVGElement&&typeof e.getBBox=="function"}}();function KP(e){return e===Ki(e).document.documentElement}function HP(e){return sc?VP(e)?UP(e):qP(e):Z0}function WP(e){var t=e.x,r=e.y,n=e.width,i=e.height,a=typeof DOMRectReadOnly!="undefined"?DOMRectReadOnly:Object,o=Object.create(a.prototype);return G0(o,{x:t,y:r,width:n,height:i,top:r,right:t+n,bottom:i+r,left:t}),o}function du(e,t,r,n){return{x:e,y:t,width:r,height:n}}var YP=function(){function e(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=du(0,0,0,0),this.target=t}return e.prototype.isActive=function(){var t=HP(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},e}(),XP=function(){function e(t,r){var n=WP(r);G0(this,{target:t,contentRect:n})}return e}(),GP=function(){function e(t,r,n){if(this.activeObservations_=[],this.observations_=new X0,typeof t!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=r,this.callbackCtx_=n}return e.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(t instanceof Ki(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;r.has(t)||(r.set(t,new YP(t)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element=="undefined"||!(Element instanceof Object))){if(!(t instanceof Ki(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var r=this.observations_;!r.has(t)||(r.delete(t),r.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach(function(r){r.isActive()&&t.activeObservations_.push(r)})},e.prototype.broadcastActive=function(){if(!!this.hasActive()){var t=this.callbackCtx_,r=this.activeObservations_.map(function(n){return new XP(n.target,n.broadcastRect())});this.callback_.call(t,r,t),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),J0=typeof WeakMap!="undefined"?new WeakMap:new X0,Q0=function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var r=kP.getInstance(),n=new GP(t,r,this);J0.set(this,n)}return e}();["observe","unobserve","disconnect"].forEach(function(e){Q0.prototype[e]=function(){var t;return(t=J0.get(this))[e].apply(t,arguments)}});var ZP=function(){return typeof xs.ResizeObserver!="undefined"?xs.ResizeObserver:Q0}(),JP=typeof global=="object"&&global&&global.Object===Object&&global,QP=JP,jP=typeof self=="object"&&self&&self.Object===Object&&self,eI=QP||jP||Function("return this")(),j0=eI,tI=j0.Symbol,Ss=tI,eg=Object.prototype,rI=eg.hasOwnProperty,nI=eg.toString,ca=Ss?Ss.toStringTag:void 0;function iI(e){var t=rI.call(e,ca),r=e[ca];try{e[ca]=void 0;var n=!0}catch{}var i=nI.call(e);return n&&(t?e[ca]=r:delete e[ca]),i}var aI=Object.prototype,oI=aI.toString;function sI(e){return oI.call(e)}var uI="[object Null]",lI="[object Undefined]",rp=Ss?Ss.toStringTag:void 0;function cI(e){return e==null?e===void 0?lI:uI:rp&&rp in Object(e)?iI(e):sI(e)}function fI(e){return e!=null&&typeof e=="object"}var dI="[object Symbol]";function hI(e){return typeof e=="symbol"||fI(e)&&cI(e)==dI}var pI=/\s/;function vI(e){for(var t=e.length;t--&&pI.test(e.charAt(t)););return t}var mI=/^\s+/;function gI(e){return e&&e.slice(0,vI(e)+1).replace(mI,"")}function uc(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var np=0/0,yI=/^[-+]0x[0-9a-f]+$/i,bI=/^0b[01]+$/i,wI=/^0o[0-7]+$/i,_I=parseInt;function ip(e){if(typeof e=="number")return e;if(hI(e))return np;if(uc(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=uc(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=gI(e);var r=bI.test(e);return r||wI.test(e)?_I(e.slice(2),r?2:8):yI.test(e)?np:+e}var xI=function(){return j0.Date.now()},Gu=xI,MI="Expected a function",SI=Math.max,EI=Math.min;function AI(e,t,r){var n,i,a,o,u,c,d=0,l=!1,s=!1,f=!0;if(typeof e!="function")throw new TypeError(MI);t=ip(t)||0,uc(r)&&(l=!!r.leading,s="maxWait"in r,a=s?SI(ip(r.maxWait)||0,t):a,f="trailing"in r?!!r.trailing:f);function p(x){var N=n,M=i;return n=i=void 0,d=x,o=e.apply(M,N),o}function v(x){return d=x,u=setTimeout(g,t),l?p(x):o}function h(x){var N=x-c,M=x-d,A=t-N;return s?EI(A,a-M):A}function m(x){var N=x-c,M=x-d;return c===void 0||N>=t||N<0||s&&M>=a}function g(){var x=Gu();if(m(x))return b(x);u=setTimeout(g,h(x))}function b(x){return u=void 0,f&&n?p(x):(n=i=void 0,o)}function y(){u!==void 0&&clearTimeout(u),d=0,n=c=i=u=void 0}function w(){return u===void 0?o:b(Gu())}function _(){var x=Gu(),N=m(x);if(n=arguments,i=this,c=x,N){if(u===void 0)return v(c);if(s)return clearTimeout(u),u=setTimeout(g,t),p(c)}return u===void 0&&(u=setTimeout(g,t)),o}return _.cancel=y,_.flush=w,_}var NI={target:document.body,viewBox:[0,0,300,150],autoAspectRatio:!0,scaleMode:"fit",resolution:window.devicePixelRatio||1,static:!1,id:Math.random()};function CI(e){return typeof e=="string"?document.querySelector(e):e}function OI(e){const t=document.createElement("canvas");return t.classList.add("vb-canvas"),t.classList.add(e),t}function DI(e){return e.getContext("2d")}function TI(e,t){e.appendChild(t)}function PI(){return"_"+Math.random().toString(36).substr(2,9)}function II(){const e=new Map;let t=0;return{get entries(){return e.values()},get size(){return e.size},push(r,n,i){e.set(t,{type:r,name:n,args:i}),t++},clear(){e.clear()}}}function RI(e,t){return new Proxy(e,{get(r,n){return typeof r[n]=="function"?function(){return t("function",n,[...arguments]),r[n].apply(r,arguments)}:r[n]},set(r,n,i){return r[n]=i,t("set",n,i),!0}})}function $I(e,t){let{width:r,height:n}=e.getBoundingClientRect();new ZP(AI(([a])=>{const{width:o,height:u}=a.target.getBoundingClientRect();(~~o!==~~r||~~u!==~~n)&&(t(a),r=o,n=u)},500)).observe(e)}function BI(e,t){const r=e.getBoundingClientRect().width,n=t[3]/t[2];return r*n+"px"}function FI({id:e,el:t,autoAspectRatio:r,viewBox:n,resolution:i,styleSheet:a}){var c;r&&((c=a.rules)!=null&&c.length&&a.deleteRule(0),a.insertRule(`.${e} { height: ${BI(t,n)} }`,0));const{width:o,height:u}=t.getBoundingClientRect();t.width=o*i,t.height=u*i}function zI(e,t,r,n,i){let a;return i==="fit"?a=Math.min(r/e,n/t):a=Math.max(r/e,n/t),{fitWidth:e*a,fitHeight:t*a,ratio:a}}function kI(e,t,r){e.beginPath(t,r),e.rect(0,0,t,r),e.clip(),e.closePath()}function LI({ctx:e,viewBox:t,resolution:r,scaleMode:n}){const i=t[2],a=t[3];let{width:o,height:u}=e.canvas.getBoundingClientRect();o*=r,u*=r;const{fitWidth:c,fitHeight:d,ratio:l}=zI(i,a,o,u,n),s=c/i,f=d/a,p=-t[0]*l+(o-c)/2,v=-t[1]*l+(u-d)/2;e.setTransform(s,0,0,f,p,v),kI(e,i,a)}function UI(e,t){for(const r of t.entries)r.type==="function"?e[r.name].apply(e,r.args):e[r.name]=r.args}function qI({opts:e,canvasID:t,canvasHTMLElement:r,canvasStyleSheet:n,baseContext:i,history:a}){FI({id:t,el:r,autoAspectRatio:e.autoAspectRatio,viewBox:e.viewBox,resolution:e.resolution,styleSheet:n}),LI({ctx:i,viewBox:e.viewBox,resolution:e.resolution,scaleMode:e.scaleMode}),e.static&&UI(i,a)}function VI(e,t){t.parentNode.insertBefore(e,t.nextSibling)}function KI(){var r;const e=document.createElement("style"),t=((r=document.styleSheets[0])==null?void 0:r.ownerNode)||document.head.firstChild;e.id="vb-canvas-base-styles",document.head.insertBefore(e,t),e.sheet.insertRule(".vb-canvas { width: 100%; max-width: 100%; }",0)}function HI(e){const t=document.createElement("style"),r=document.getElementById("vb-canvas-base-styles");return t.setAttribute("data-canvas-id",e),VI(t,r),t.sheet}KI();function WI(e){e=Object.assign({},NI,e),e.target=CI(e.target);const t=PI(),r=II(),n=OI(t),i=HI(t),a=DI(n),o=RI(a,(c,d,l)=>{r.push(c,d,l)});TI(e.target,n);const u=()=>qI({opts:e,canvasID:t,canvasHTMLElement:n,canvasStyleSheet:i,baseContext:a,history:r});return u(),$I(n,u),{el:n,ctx:e.static?o:a}}const YI={props:["viewbox","data","draw"],emits:["has_drawn"],data:()=>({ctx:null,canvas:null}),mounted(){let{ctx:e,el:t}=WI({viewBox:[0,0,this.viewbox.width,this.viewbox.height],target:".canvas-wrapper",scaleMode:"fill",autoAspectRatio:!1});this.ctx=e,this.canvas=t,this.ctx.clearRect(-this.canvas.width,-this.canvas.height,2*this.canvas.width,2*this.canvas.height),this.transformContextMatrix(this.ctx,this.viewbox,window.devicePixelRatio,"fill")},watch:{data(){this.ctx.clearRect(-this.canvas.width,-this.canvas.height,2*this.canvas.width,2*this.canvas.height),this.draw_data(),this.$emit("has_drawn")},viewbox(e){this.transformContextMatrix(this.ctx,e,window.devicePixelRatio,"fill"),this.ctx.clearRect(-this.canvas.width,-this.canvas.height,2*this.canvas.width,2*this.canvas.height),this.draw_data()},draw(e){e&&(this.ctx.clearRect(-this.canvas.width,-this.canvas.height,2*this.canvas.width,2*this.canvas.height),this.draw_data(),this.$emit("has_drawn"))}},methods:{draw_data(){this.data.forEach(function(e){this.draw_circle(e.location[0],e.location[1],e.color)}.bind(this))},draw_circle(e,t,r){this.ctx.fillStyle=r,this.ctx.beginPath(),this.ctx.arc(e,t,1.5,0,2*Math.PI,!0),this.ctx.fill()},transformContextMatrix(e,t,r,n){const i=t.width,a=t.height;let{width:o,height:u}=e.canvas.getBoundingClientRect();o*=r,u*=r;const{fitWidth:c,fitHeight:d,ratio:l}=this.calculateAspectRatio(i,a,o,u,n),s=c/i,f=d/a,p=-t.x*l+(o-c)/2,v=-t.y*l+(u-d)/2;this.ctx.setTransform(s,0,0,f,p,v)},calculateAspectRatio(e,t,r,n,i){let a;return i==="fit"?a=Math.min(r/e,n/t):a=Math.max(r/e,n/t),{fitWidth:e*a,fitHeight:t*a,ratio:a}},clipCtx(e,t,r){e.beginPath(t,r),e.rect(0,0,t,r),e.clip(),e.closePath()}}},XI={class:"canvas-wrapper"};function GI(e,t,r,n,i,a){return Ae(),Pe("div",XI)}var ZI=rr(YI,[["render",GI]]);const JI={name:"Graphic",components:{EventLayer:wD,DataOptions:Y0,ContourGraph:PP,DataGraph:ZI},props:["run_id","run_data_updated","target_params","filters"],emits:["run_selected","update_received"],data(){return{data:[],min_drift:0,viewbox:{x:0,y:0,width:250,height:250},svg:null,draw:null}},watch:{run_id(){this.update_data()},run_data_updated(){this.$emit("update_received"),this.update_data()}},computed:{drift_range(){return{min:Math.min(...this.data.map(e=>e.drift)),max:Math.max(...this.data.map(e=>e.drift))}}},methods:{update_data(){this.run_id&&Ri.locations.where({run_id:this.run_id}).toArray().then(e=>{this.data=e.map(t=>({...t,significance:t.results.reduce((r,n)=>r&&(n.significance.drift||n.significance.drift),!0),mean_drift:t.results.reduce((r,n)=>r+n.drift,0)/t.results.length})).filter(t=>!0).map(t=>{let r="blue";return t.has_results||(r="white"),t.mean_drift<this.min_drift&&(r="red"),{location:t.location,color:r,drift:t.mean_drift}})})},set_svg(e){this.svg=e}}},QI={ref:"wrapper",class:"h-full w-full flex relative"};function jI(e,t,r,n,i,a){const o=et("ContourGraph"),u=et("DataGraph"),c=et("EventLayer"),d=et("DataOptions");return Ae(),Pe("div",QI,[r.target_params?(Ae(),Vr(o,{key:0,class:"z-10 w-full h-full",viewbox:i.viewbox,params:r.target_params,onSvg:a.set_svg},null,8,["viewbox","params","onSvg"])):An("",!0),Be(u,{class:"z-20 absolute w-full h-full",viewbox:i.viewbox,data:i.data,draw:i.draw,onHas_drawn:t[0]||(t[0]=l=>i.draw=!1)},null,8,["viewbox","data","draw"]),Be(c,{ref:"event_component",class:"z-30 absolute w-full h-full",svg:i.svg,onViewbox:t[1]||(t[1]=l=>i.viewbox=l)},null,8,["svg"]),Be(d,{class:"z-40 absolute",drift_range:a.drift_range,run_id:r.run_id,onRun_selected:t[2]||(t[2]=l=>e.$emit("run_selected",l))},null,8,["drift_range","run_id"])],512)}var eR=rr(JI,[["render",jI]]);const tR={name:"App",components:{Configuration:uN,Graphic:eR},data:function(){return{current_run:null,target_params:{},run_data_updated:!1}},created(){this.connect_websocket()},methods:{connect_websocket(){this.connection=new WebSocket("ws://localhost:8000/ws"),this.connection.onopen=function(){console.log("Connection to server established.")},this.connection.onmessage=function({data:e}){e=JSON.parse(e),e.message==="run_started"&&this.add_run(e.data),e.message==="locations"&&this.add_locations(e.data.run_id,e.data.locations),e.message==="partial_results"&&(console.log(e),this.add_data(e.data.run_id,e.data.results))}.bind(this),this.connection.onclose=function(e){console.log("Socket is closed. Reconnect will be attempted in 1 second.",e.reason),setTimeout(function(){this.connect_websocket()}.bind(this),1e3)}.bind(this),this.connection.onerror=function(e){console.error("Socket encountered error: ",e.message,"Closing socket"),this.connection.close()}.bind(this)},start_run(e){this.connection.send(JSON.stringify({message:"start_run",config:e}))},async add_run(e){await Ri.runs.add({uuid:e.uuid,config:e.config,name:e.config.name})},async add_locations(e,t){t.forEach((r,n)=>{Ri.locations.add({uuid:e+"-"+r.id,run_id:e,location_id:r.id,location:r.location,has_results:!1})})},async add_data(e,t){t.forEach(r=>{Ri.locations.update(e+"-"+r.id,{has_results:!0,results:r.data})}),this.current_run===e&&(this.run_data_updated=!0)}}},rR={class:"flex h-screen w-screen"};function nR(e,t,r,n,i,a){const o=et("Graphic"),u=et("Configuration");return Ae(),Pe("div",null,[j("div",rR,[Be(o,{run_id:e.current_run,target_params:e.target_params,run_data_updated:e.run_data_updated,onRun_selected:t[0]||(t[0]=c=>e.current_run=c),onUpdate_received:t[1]||(t[1]=c=>{e.run_data_updated=!1})},null,8,["run_id","target_params","run_data_updated"]),Be(u,{ref:"config",class:"w-96 h-full overflow-auto hide-scrollbar",onStart_run:t[2]||(t[2]=c=>a.start_run(c)),onTarget_changed:t[3]||(t[3]=c=>e.target_params=c)},null,512)])])}var iR=rr(tR,[["render",nR]]);Yb(iR).mount("#app");
